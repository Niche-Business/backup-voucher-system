var tu=Object.defineProperty,iu=Object.defineProperties;var nu=Object.getOwnPropertyDescriptors;var eo=Object.getOwnPropertySymbols;var Xa=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable;var ms=(o,e,i)=>e in o?tu(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i,L=(o,e)=>{for(var i in e||(e={}))Xa.call(e,i)&&ms(o,i,e[i]);if(eo)for(var i of eo(e))Ya.call(e,i)&&ms(o,i,e[i]);return o},G=(o,e)=>iu(o,nu(e));var Ka=(o,e)=>{var i={};for(var s in o)Xa.call(o,s)&&e.indexOf(s)<0&&(i[s]=o[s]);if(o!=null&&eo)for(var s of eo(o))e.indexOf(s)<0&&Ya.call(o,s)&&(i[s]=o[s]);return i};var ru=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var Ee=(o,e,i)=>ms(o,typeof e!="symbol"?e+"":e,i);var se=(o,e,i)=>new Promise((s,l)=>{var d=g=>{try{x(i.next(g))}catch(y){l(y)}},f=g=>{try{x(i.throw(g))}catch(y){l(y)}},x=g=>g.done?s(g.value):Promise.resolve(g.value).then(d,f);x((i=i.apply(o,e)).next())});import{r as ou,a as su,g as aa,c as to}from"./vendor-react.DurDjUWU.js";import{i as au,a as lu,u as Nt,r as D,R as Fe}from"./vendor-i18n.DyICujaf.js";var kw=ru(yn=>{function cu(o,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in o)){const d=Object.getOwnPropertyDescriptor(s,l);d&&Object.defineProperty(o,l,d.get?d:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();var ys={exports:{}},fr={};var $a;function du(){if($a)return fr;$a=1;var o=ou(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(x,g,y){var w,C={},S=null,j=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(j=g.ref);for(w in g)s.call(g,w)&&!d.hasOwnProperty(w)&&(C[w]=g[w]);if(x&&x.defaultProps)for(w in g=x.defaultProps,g)C[w]===void 0&&(C[w]=g[w]);return{$$typeof:e,type:x,key:S,ref:j,props:C,_owner:l.current}}return fr.Fragment=i,fr.jsx=f,fr.jsxs=f,fr}var Za;function hu(){return Za||(Za=1,ys.exports=du()),ys.exports}var r=hu(),io={},Qa;function uu(){if(Qa)return io;Qa=1;var o=su();return io.createRoot=o.createRoot,io.hydrateRoot=o.hydrateRoot,io}var pu=uu();const fu=aa(pu),{slice:gu,forEach:xu}=[];function mu(o){return xu.call(gu.call(arguments,1),e=>{if(e)for(const i in e)o[i]===void 0&&(o[i]=e[i])}),o}function yu(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(o))}const Ja=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,bu=function(o,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(e);let d=`${o}=${l}`;if(s.maxAge>0){const f=s.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(f)}`}if(s.domain){if(!Ja.test(s.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${s.domain}`}if(s.path){if(!Ja.test(s.path))throw new TypeError("option path is invalid");d+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(d+="; HttpOnly"),s.secure&&(d+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(d+="; Partitioned"),d},el={create(o,e,i,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+i*60*1e3)),s&&(l.domain=s),document.cookie=bu(o,e,l)},read(o){const e=`${o}=`,i=document.cookie.split(";");for(let s=0;s<i.length;s++){let l=i[s];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(e)===0)return l.substring(e.length,l.length)}return null},remove(o,e){this.create(o,"",-1,e)}};var wu={name:"cookie",lookup(o){let{lookupCookie:e}=o;if(e&&typeof document!="undefined")return el.read(e)||void 0},cacheUserLanguage(o,e){let{lookupCookie:i,cookieMinutes:s,cookieDomain:l,cookieOptions:d}=e;i&&typeof document!="undefined"&&el.create(i,o,s,l,d)}},vu={name:"querystring",lookup(o){var s;let{lookupQuerystring:e}=o,i;if(typeof window!="undefined"){let{search:l}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(l=window.location.hash.substring(window.location.hash.indexOf("?")));const f=l.substring(1).split("&");for(let x=0;x<f.length;x++){const g=f[x].indexOf("=");g>0&&f[x].substring(0,g)===e&&(i=f[x].substring(g+1))}}return i}},Cu={name:"hash",lookup(o){var l;let{lookupHash:e,lookupFromHashIndex:i}=o,s;if(typeof window!="undefined"){const{hash:d}=window.location;if(d&&d.length>2){const f=d.substring(1);if(e){const x=f.split("&");for(let g=0;g<x.length;g++){const y=x[g].indexOf("=");y>0&&x[g].substring(0,y)===e&&(s=x[g].substring(y+1))}}if(s)return s;if(!s&&i>-1){const x=d.match(/\/([a-zA-Z-]*)/g);return Array.isArray(x)?(l=x[typeof i=="number"?i:0])==null?void 0:l.replace("/",""):void 0}}}return s}};let Un=null;const tl=()=>{if(Un!==null)return Un;try{if(Un=typeof window!="undefined"&&window.localStorage!==null,!Un)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch(o){Un=!1}return Un};var Su={name:"localStorage",lookup(o){let{lookupLocalStorage:e}=o;if(e&&tl())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(o,e){let{lookupLocalStorage:i}=e;i&&tl()&&window.localStorage.setItem(i,o)}};let Hn=null;const il=()=>{if(Hn!==null)return Hn;try{if(Hn=typeof window!="undefined"&&window.sessionStorage!==null,!Hn)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch(o){Hn=!1}return Hn};var Au={name:"sessionStorage",lookup(o){let{lookupSessionStorage:e}=o;if(e&&il())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(o,e){let{lookupSessionStorage:i}=e;i&&il()&&window.sessionStorage.setItem(i,o)}},ju={name:"navigator",lookup(o){const e=[];if(typeof navigator!="undefined"){const{languages:i,userLanguage:s,language:l}=navigator;if(i)for(let d=0;d<i.length;d++)e.push(i[d]);s&&e.push(s),l&&e.push(l)}return e.length>0?e:void 0}},_u={name:"htmlTag",lookup(o){let{htmlTag:e}=o,i;const s=e||(typeof document!="undefined"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(i=s.getAttribute("lang")),i}},Eu={name:"path",lookup(o){var l;let{lookupFromPathIndex:e}=o;if(typeof window=="undefined")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(l=i[typeof e=="number"?e:0])==null?void 0:l.replace("/",""):void 0}},ku={name:"subdomain",lookup(o){var l,d;let{lookupFromSubdomainIndex:e}=o;const i=typeof e=="number"?e+1:1,s=typeof window!="undefined"&&((d=(l=window.location)==null?void 0:l.hostname)==null?void 0:d.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[i]}};let Yc=!1;try{document.cookie,Yc=!0}catch(o){}const Kc=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Yc||Kc.splice(1,1);const Tu=()=>({order:Kc,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class $c{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,i)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=mu(i,this.options||{},Tu()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(wu),this.addDetector(vu),this.addDetector(Su),this.addDetector(Au),this.addDetector(ju),this.addDetector(_u),this.addDetector(Eu),this.addDetector(ku),this.addDetector(Cu)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return e.forEach(s=>{if(this.detectors[s]){let l=this.detectors[s].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(i=i.concat(l))}}),i=i.filter(s=>s!=null&&!yu(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||i.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}$c.type="languageDetector";const Ru={title:"BAK UP E-Voucher System",tagline:"Connecting surplus food with those who need it most"},Iu={email:"Email",password:"Password",signIn:"Sign In",signOut:"Sign Out",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",add:"Add",remove:"Remove",close:"Close",search:"Search",filter:"Filter",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",back:"Back",next:"Next",submit:"Submit",welcome:"Welcome",changeLanguage:"Change Language",address:"Address",phone:"Phone",shopOwner:"Shop Owner",foodToGoItems:"Food to Go Items",view:"View",actions:"Actions",status:"Status",name:"Name",organization:"Organization",date:"Date",amount:"Amount",description:"Description",category:"Category",quantity:"Quantity",price:"Price",total:"Total",refresh:"Refresh",redeemed:"Redeemed",totalValue:"Total Value",recipients:"Recipients",vendors:"Vendors",schools:"Schools",vcfseOrganizations:"VCFSE Organizations",redemptionRate:"Redemption Rate",activeVouchers:"Active Vouchers",totalVouchers:"Total Vouchers",totalUsers:"Total Users",systemAnalyticsDashboard:"System Analytics Dashboard",systemOverview:"System Overview",marketplaceStatistics:"Marketplace Statistics",claimedItems:"Claimed Items",availableItems:"Available Items",totalItems:"Total Items",activeShops:"Active Shops",enterEmail:"Enter your email",enterPassword:"Enter your password",enterAdminPassword:"Enter admin password",enterNewPassword:"Enter new password",confirmNewPassword:"Confirm new password",enterNewPasswordOptional:"Enter new password (leave blank to keep current)",firstNamePlaceholder:"John",lastNamePlaceholder:"Doe",emailPlaceholder:"john.doe@email.com",phonePlaceholder:"+44 7700 900000",charityNamePlaceholder:"Enter EXACT registered charity name",charityNumberPlaceholder:"e.g., 1234567",schoolNamePlaceholder:"Enter school or organization name",shopNamePlaceholder:"Enter your shop name",addressPlaceholder:"123 Main Street",postcodePlaceholder:"NN8 1AA",searchPlaceholder:"Search by code, recipient...",confirmDelete:"Are you sure you want to delete {{name}}?",confirmDeactivate:"Are you sure you want to deactivate this recipient account?",confirmDeleteShop:'Are you sure you want to delete "{{name}}"?',errorDeleting:"Error deleting",errorLoading:"Error loading",na:"N/A"},Bu={itemAddedToCart:"Item added to cart successfully!",failedToAddToCart:"Failed to add item to cart:",itemRemoved:"Item removed from cart",failedToRemove:"Failed to remove item:"},Ou={adminNotes:"Admin notes (optional):",rejectionReason:"Reason for rejection:"},Nu={title:"Sign In to BAK UP",emailLabel:"Email Address",emailPlaceholder:"Enter your email",passwordLabel:"Password",passwordPlaceholder:"Enter your password",signInButton:"Sign In",signingIn:"Signing in...",noAccount:"Don't have an account?",registerLink:"Register here",forgotPassword:"Forgot Password?",backToHome:"Back to Home",aboutTitle:"About BAK UP CIC",aboutText:"BAK UP CIC leads the Northamptonshire Community E-Voucher Scheme, providing dignified support to families through flexible vouchers that respect cultural preferences and strengthen local economies.",loginFailed:"Login failed. Please try again."},zu={fundAllocation:"Fund Allocation",organizationType:"Organization Type",selectVCSE:"Select VCFSE Organization",amount:"Amount (Â£)",notes:"Notes (Optional)",allocateFunds:"Allocate Funds",vcseOrganizations:"VCFSE Organizations",allocatedBalance:"Allocated Balance",chooseOrganization:"Choose a VCFSE organization...",vcseOrganization:"VCFSE Organization",schoolOrganization:"School/Care Organization",selectSchool:"Select School/Care Organization",organizationName:"Organization Name",email:"Email",charityNumber:"Charity Commission Number",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",allVouchers:"All Vouchers",noVouchers:"No vouchers found",localShops:"Local Shops with To Gos",noShops:"No local shops found",schoolsOrganizations:"Schools & Care Organizations",noSchools:"No schools/care organizations registered yet",editSchool:"Edit School",firstName:"First Name",lastName:"Last Name",phone:"Phone",address:"Address",city:"City",postcode:"Postcode",resetPassword:"Reset Password (Optional)",noToGoItems:"No to go items found",changePassword:"Change Your Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",createAdmin:"Create New Admin",createAdminAccount:"Create New Admin Account",password:"Password",adminAccounts:"Admin Accounts",noAdmins:"No admin accounts found",name:"Name",created:"Created",lastLogin:"Last Login",logins:"Logins",actions:"Actions",currentUser:"Current User",loginStatistics:"User Login Statistics",searchRecipients:"Search Recipients",searchPlaceholder:"Search by name, email, or phone...",sortBy:"Sort By",sortName:"Name (A-Z)",sortEmail:"Email (A-Z)",sortVouchers:"Most Vouchers",sortValue:"Highest Value",sortRecent:"Most Recent",totalVouchers:"Total Vouchers",active:"Active",redeemed:"Redeemed",activeValue:"Active Value",globalSearch:"Global Search",transactions:"Transactions",broadcast:"Broadcast",vcfseVerification:"VCFSE Verification",vcfseOrganisations:"VCFSE Organisations",recipients:"Recipients",analytics:"Analytics",reports:"Reports",dashboardOverview:"Admin Dashboard Overview"},Pu={welcome:"Welcome",overview:"Overview",myVouchers:"My Vouchers",browseToGo:"Browse To Go",shoppingCart:"Shopping Cart",profile:"Profile",settings:"Settings",activeBalance:"Active Balance",totalVouchersIssued:"Total Vouchers Issued",activeVouchers:"Active Vouchers",redeemed:"Redeemed",emptyCart:"Your cart is empty",noToGoItems:"No to go items available at the moment",redeemVouchers:"Redeem Vouchers",toGo:"To Go",issueVouchers:"Issue Vouchers",participatingShops:"Participating Shops",voucherHistory:"Voucher History",searchByCode:"Search by code...",searchVouchers:"Search Vouchers",statusFilter:"Status Filter",clearFilters:"Clear Filters",allVouchers:"All Vouchers",redeemedVouchers:"Redeemed Vouchers",expiredVouchers:"Expired",noVouchersFound:"No vouchers found",tabs:{overview:"Overview",voucherManagement:"Voucher Management",voucherOrders:"Voucher Orders",reports:"Reports",issueVouchers:"Issue Vouchers",toGo:"To Go",localShops:"Local Shops",allToGo:"All To Go",settings:"Settings",myShops:"My Shops",surplusFood:"Surplus Food",myVouchers:"My Vouchers",redeemVoucher:"Redeem Voucher",schoolsOrgs:"Schools/Care Orgs"},buttons:{changePassword:"Change Password",manageAdmins:"Manage Admins",loginStatistics:"Login Statistics"},headings:{settings:"Settings",localShopsWithToGo:"Local Shops with To Gos",allToGoItems:"All To Go Items"},totalVouchers:"Total Vouchers",activeValue:"Active Value",vcfseOrgs:"VCFSE Organizations",recipients:"Recipients",localShops:"Local Shops"},Du={hero:{title:"BAK UP E-Voucher System",subtitle:"Connecting food vendors, VCFSE organizations, and vulnerable families through a unified digital solution",getStarted:"Get Started",signIn:"Sign In"},features:{communities:{title:"Supporting Communities",description:"Digital food vouchers promoting dignity and choice for vulnerable families"},vcse:{title:"VCFSE Partnership",description:"Charitable organizations can fund and manage voucher distributions efficiently"},vendors:{title:"Vendor Network",description:"Local shops join the network to accept vouchers and support their community"},surplus:{title:"Surplus Food Sharing",description:"Vendors can post surplus food items for families as discount and free food surplus to VCFSE partners to support the families they serve, reducing food waste"}},whoWeServe:{title:"Who We Serve",recipients:{title:"Individual and Family",item1:"Receive digital food vouchers with dignity",item2:"Choose what you need from local vendors",item3:"Food to Go Items at a discount - Buy discounted Food to Go Items from participating vendors",item4:"Track your voucher balance easily"},vendors:{title:"Vendors/Local shops",item1:"Accept digital vouchers seamlessly",item2:"Post discounted food items for recipients",item3:"Post free surplus food for VCFSE collection",item4:"Support your local community",item5:"Manage multiple shop locations"},vcse:{title:"VCFSE Organisation",item1:"Issue and manage vouchers efficiently",item2:"Fund families digitally",item3:"Collect free surplus Food to Go Items to distribute to families you serve",item4:"Track usage and impact",item5:"Generate detailed reports"},schools:{title:"Schools and Care Organisations",item1:"Receive e-vouchers from BAK UP to support families",item2:"Distribute vouchers to families from underrepresented communities",item3:"Track voucher distribution and impact",item4:"Support students and families through trusted institutions",item5:"Generate reports for accountability"},admins:{title:"For Administrators",item1:"Oversee the entire platform",item2:"Manage users and roles",item3:"Monitor discount and surplus food programs",item4:"Generate comprehensive reports",item5:"Ensure system integrity"}},cta:{title:"Ready to Make a Difference?",subtitle:"Join our community-driven platform today",button:"Create Account"},footer:{adminAccess:"Administrator Access"},about:{sectionTitle:"About the Northamptonshire Community E-Voucher Scheme",mission:{title:"Mission Statement",text:"To create inclusive, resilient, and empowered communities by addressing the root causes of hardship and inequality through partnership, compassion, and community-driven innovation."},vision:{title:"Our Vision",text:"A fairer, healthier, and more connected society where everyone has the opportunity to reach their full potential."},values:{title:"Our Values",compassion:"Compassion",compassionDesc:"We care deeply about people and their stories.",equity:"Equity",equityDesc:"We champion fairness and inclusion for all.",empowerment:"Empowerment",empowermentDesc:"We invest in people to become agents of change.",collaboration:"Collaboration",collaborationDesc:"We build partnerships that strengthen collective impact.",integrity:"Integrity",integrityDesc:"We are accountable, transparent, and community-centred in all we do."},bakup:{title:"About BAK UP CIC",paragraph1:"BAK UP CIC is proud to lead the Northamptonshire Community E-Voucher Scheme, an innovative, community-led solution that ensures families and individuals facing hardship can access culturally appropriate essential goods and services with dignity, flexibility, and fairness.",paragraph2:"Our E-Voucher model replaces traditional food parcels with digital, text-based, and paper-based vouchers that can be redeemed at local participating shops, markets, and community suppliers. This approach not only supports households in crisis but also reinvests spending back into the local economy, strengthening small businesses and community networks."},keyAreas:{title:"Key Work Areas",foodSecurity:"Food Security & Household Support",foodSecurityDesc:"Mobile food services, E-Voucher schemes, white goods provision, and partnerships with local retailers to ensure families can access culturally appropriate and nutritious food.",youthEmpowerment:"Youth Empowerment",youthEmpowermentDesc:"Through the East Northamptonshire Youth Ambassadors (EYA) and other leadership programmes, we equip young people with the confidence, skills, and voice to become positive changemakers in their communities.",healthWellbeing:"Health & Wellbeing",healthWellbeingDesc:"Community-based interventions tackling health inequalities, loneliness, and social isolation, while promoting physical activity, mental health awareness, and trusted-adult relationships.",socialDeterminants:"Social Determinants of Health",socialDeterminantsDesc:"A holistic focus on improving access to education, employment, and healthcare, empowering people to thrive rather than survive.",communityCohesion:"Community Cohesion & Cultural Heritage",communityCohesionDesc:"Celebrating diversity through initiatives such as the Windrush Generation Celebration, storytelling projects, and intergenerational community events that honour identity and belonging."},circular:{title:"Creating a Circular and Sustainable Community Economy",paragraph1:"The E-Voucher Scheme also creates a unique opportunity for local shops and retailers to play an active role in reducing waste and promoting sustainability.",paragraph2:"Participating outlets will be able to notify BAK UP CIC and partner charities about surplus food and essential goods, enabling these items to be collected and redistributed to families in need rather than going to waste. This simple yet powerful system strengthens the local circular economy â€“ ensuring that valuable resources are used efficiently, environmental impact is reduced, and communities become more resilient, sustainable, and self-supporting."},funders:{title:"Why Funders Should Invest",text:"Funding the E-Voucher Scheme means investing in a smarter, fairer, and greener approach to tackling poverty and inequality. Every pound directly benefits both households facing hardship and local small businesses, creating a positive cycle of community wealth and wellbeing."},joinScheme:"Join the Scheme Today",footerAbout:{title:"About Us",description:"BAK UP CIC leads the Northamptonshire Community E-Voucher Scheme, providing dignified support to families and strengthening local economies.",learnMore:"Learn More"},footerFunders:{title:"For Funders",description:"Invest in a smarter, fairer approach to tackling poverty and inequality.",item1:"Direct community impact",item2:"Support local businesses",item3:"Measurable outcomes",item4:"Sustainable circular economy"},footerContact:{title:"Contact Us",company:"BAK UP CIC",location:"Enterprise Centre, Warth Park, Raunds NN9 6GR",email:"Email:",phone:"Phone:",hours:"Hours:",hoursText:"Monday - Friday: 9am - 5pm"},copyright:"Â© 2024 BAK UP CIC. All rights reserved. | Northamptonshire Community E-Voucher Scheme",charityNumber:"Charity Company Registration Number: 12994379"},pwa:{install:"Install BAK UP",addToHomeScreen:"Add to Home Screen",iosInstructions:"To install this app on your iPhone:",androidInstructions:"To install this app on your Android:",iosStep1:"Tap the Share button â¬†ï¸ at the bottom of Safari",iosStep2:'Scroll down and tap "Add to Home Screen" â•',iosStep3:'Tap "Add" in the top right corner',iosNote:"ğŸ’¡ The Share button is in Safari's toolbar, not in this popup",androidStep1:'Tap the green "Install" button below',androidStep2:'A system dialog will ask "Add to Home screen?"',androidStep3:'Tap "Add" to confirm',notNow:"Not Now",installButton:"Install",iphoneTab:"ğŸ iPhone",androidTab:"ğŸ¤– Android"}},Fu={selectRole:"Select Your Role",vendor:"Food Vendor / Shop",vcse:"VCFSE Organization",recipient:"Voucher Recipient",vendorDesc:"Donate surplus food and accept vouchers",vcseDesc:"Manage vouchers for vulnerable families",recipientDesc:"Browse and redeem food vouchers",loginTitle:"Login",noAccount:"Don't have an account?",registerHere:"Register here",forgotPassword:"Forgot Password?",name:"Name",organizationName:"Organization Name",phoneNumber:"Phone Number",register:"Register",alreadyHaveAccount:"Already have an account?",loginHere:"Login here"},Mu={title:"Vouchers",balance:"Balance",status:"Status",allStatus:"All Status",active:"Active",used:"Used",expired:"Expired",redeemed:"Redeemed",validUntil:"Valid Until",qrCode:"QR Code",showQR:"Show QR Code",hideQR:"Hide QR Code"},Lu={title:"Browse Available To Go",noItems:"No to go items available at the moment",addToCart:"Add to Cart",quantity:"Quantity",available:"available",category:"Category",shop:"Shop",description:"Description",price:"Price",per:"per"},Vu={title:"Shopping Cart",empty:"Your cart is empty",browseItems:"Browse To Go Items",continueShopping:"Continue Shopping",viewVouchers:"View My Vouchers",nextSteps:"Next Steps",step1:"Review your cart items above",step2:"Visit the shop locations to collect your items",step3:"Show your voucher QR code at the shop to complete purchase",step4:"Your voucher balance will be deducted at the shop",itemsInCart:"Items in your cart:",quantityInCart:"Quantity in cart:",remove:"Remove"},Wu={noVouchersAvailable:"No vouchers available",code:"Code:",status:"Status:",expires:"Expires:",expiry:"Expiry:",issuedBy:"Issued by:",redeemed:"Redeemed:",redeemedOn:"Redeemed On:",redeemedAt:"Redeemed At:",printVoucher:"Print Voucher",showQRCode:"Show QR Code",scanToRedeem:"Scan to Redeem",presentCode:"Present this code at the shop or scan the QR code below",noShopsAvailable:"No shops available",address:"Address:",phone:"Phone:",availableToGo:"Available To Go:",available:"Available:",category:"Category:",description:"Description:",freshReady:"Fresh and ready for collection",addToCart:"Add to Cart",useVoucher:"Use your voucher to purchase this item at the shop",per:"per",at:"at"},Uu={bakery:"Bakery",fruits:"Fruits",vegetables:"Vegetables",dairy:"Dairy",meat:"Meat",cannedGoods:"Canned Goods",freshProduce:"Fresh Produce",other:"Other"},Hu={select:"Select Language",en:"English",ar:"Arabic",ro:"Romanian",pl:"Polish"},Gu={toGoPosted:"To Go Items Posted",shopsRegistered:"Shops Registered",redemptionHistory:"Redemption History",redeemVouchers:"Redeem Vouchers",howToRedeem:"How to Redeem",step1:"Ask the recipient for their voucher code or scan their QR code",step2:"Enter the code in the field below or use the scan button",step3:"Click 'Validate' to check the voucher is valid and see the balance",step4:"Enter the amount to redeem (must not exceed voucher balance)",step5:"Click 'Redeem' to complete the transaction",step6:"The recipient's voucher balance will be updated automatically",tip:"Tip",tipText:"Always validate the voucher before accepting it as payment",enterVoucherCode:"Enter Voucher Code",scanQRCode:"Scan QR Code",validate:"Validate",redeem:"Redeem",validVoucher:"Valid Voucher",code:"Code",recipient:"Recipient",phone:"Phone",expires:"Expires",shopName:"Shop Name",address:"Address",cityCounty:"City/County",postcode:"Postcode",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",yourShops:"Your Shops",noShopYet:"You haven't registered any shops yet",createShopProfile:"Create Shop Profile",searchByCodeOrRecipient:"Search by code or recipient",allRedemptions:"All Redemptions",today:"Today",thisWeek:"This Week",thisMonth:"This Month",redemptionHistoryComingSoon:"Redemption History Coming Soon",redemptionHistoryDescription:"Track all your voucher redemptions here"},qu={title:"Scan QR Code",cameraActive:"Camera Active",positionQR:"Position QR code within the frame",initializing:"Initializing camera...",tryAgain:"Try Again",useManualEntryRecommended:"Use Manual Entry Instead (Recommended)",errorPermissionBlocked:"Camera Access Failed",errorNoCamera:"No camera found on this device",errorCameraInUse:"Camera is being used by another application",errorFailed:"Failed to start camera."},Xu={generateReport:"Generate Report",downloadPDF:"Download PDF",downloadExcel:"Download Excel",dateRange:"Date Range",from:"From",to:"To",reportType:"Report Type",voucherActivity:"Voucher Activity",financialSummary:"Financial Summary",impactReport:"Impact Report",reports:"Reports",generate:"Generate",export:"Export",download:"Download",view:"View"},Yu={previous:"Previous",next:"Next",page:"Page",of:"of",showing:"Showing",to:"to",entries:"entries",totalItems:"total items"},Ku={requestPayout:"Request Payout",payoutHistory:"Payout History",requestPayment:"Request Payment",amount:"Amount",bankDetails:"Bank Details",bankName:"Bank Name",accountNumber:"Account Number",sortCode:"Sort Code",accountHolderName:"Account Holder Name",notes:"Notes (Optional)",submitRequest:"Submit Request",status:"Status",pending:"Pending",approved:"Approved",rejected:"Rejected",paid:"Paid",requestedAt:"Requested At",reviewedAt:"Reviewed At",paidAt:"Paid At",adminNotes:"Admin Notes",noPayoutRequests:"No payout requests yet",payoutRequests:"Payout Requests",managePayout:"Manage Payouts",approve:"Approve",reject:"Reject",markAsPaid:"Mark as Paid",vendorName:"Vendor Name",shopName:"Shop Name",totalPending:"Total Pending",totalApproved:"Total Approved",totalPaid:"Total Paid",filterByStatus:"Filter by Status",allStatuses:"All Statuses",payoutRequestSubmitted:"Payout request submitted successfully",payoutApproved:"Payout approved successfully",payoutRejected:"Payout rejected successfully",payoutMarkedPaid:"Payout marked as paid successfully",confirmApprove:"Are you sure you want to approve this payout?",confirmReject:"Are you sure you want to reject this payout?",confirmMarkPaid:"Are you sure you want to mark this payout as paid?"},$u={portal:"School/Care Organization Portal",supportingFamilies:"Supporting families through education and care",description:"As a school or care organization, you play a vital role in identifying and supporting families from underrepresented communities."},Zu={portal:"VCFSE Organization Portal",description:"Manage vouchers and support vulnerable families in your community",totalValueDistributed:"Total Value Distributed"},Qu={management:"Wallet Management",currentBalance:"Current Wallet Balance",totalCredits:"Total Credits",totalDebits:"Total Debits",vouchersIssued:"Vouchers Issued",addFunds:"Add Funds to Wallet",fundsAdded:"Funds added to wallet",spentOnVouchers:"Spent on vouchers",availableForIssuance:"Available for voucher issuance",paymentReference:"Payment Reference",description:"Description (Optional)",addNotes:"Add notes about this transaction"},Ju={overview:"Overview",issueVouchers:"Issue Vouchers",voucherHistory:"Voucher History",foodToGo:"Food to Go Items",walletManagement:"Wallet Management",loadFunds:"Load Funds",voucherOrders:"Voucher Orders",reports:"Reports",myShops:"My Shops",surplusFood:"Surplus Food",settings:"Settings",recipientsVouchers:"Recipients & Vouchers",discountedItems:"Discounted Items"},ep={on:"Sound ON",off:"Sound OFF"},tp={title:"Discounted Items - Purchase for Distribution",description:"These discounted items can be purchased using your allocated funds and distributed to families in your community.",badge:"DISCOUNTED",save:"Save",per:"per",was:"Was",off:"off",available:"Available",category:"Category",freshAndReady:"Fresh and ready",contactShop:"Contact the shop directly to purchase this item using your allocated funds"},ip={addFunds:"Add Funds to Wallet",issueVoucher:"Issue Voucher",orderForClient:"Order for Client",continueToPayment:"Continue to Payment",exportToExcel:"Export to Excel",downloadPDF:"Download PDF",changePassword:"Change Password",logout:"Logout",save:"Save",cancel:"Cancel",submit:"Submit",back:"Back"},np={amount:"Amount (Â£)",firstName:"First Name",lastName:"Last Name",email:"Email Address",phone:"Phone Number",address:"Address",city:"City",cityOptional:"City (Optional for towns)",postcode:"Postcode",county:"County",enterAmount:"Enter amount",leaveEmptyForTown:"Leave empty if registering in a town"},rp={date:"Date",type:"Type",description:"Description",amount:"Amount",balanceAfter:"Balance After",status:"Status",code:"Code",recipient:"Recipient",shop:"Shop",category:"Category",available:"Available",expiry:"Expiry"},op={shop:"Shop:",category:"Category:",available:"Available:",expiry:"Expiry:",description:"Description:"},sp={foodToGoOrderTitle:"Available Food to Go Items - Order for Clients",foodToGoOrderDesc:"Browse available Food to Go Items from local shops and order them on behalf of your clients by providing their contact details.",transactionHistory:"Transaction History",issueVoucherTitle:"Issue E-Voucher to Family"},ap={active:"Active",redeemed:"Redeemed",expired:"Expired",completed:"Completed",pending:"Pending",credit:"CREDIT",debit:"DEBIT"},lp={fundsAddedSuccess:"Funds added successfully! New balance:",voucherIssuedSuccess:"Voucher issued successfully!",vouchersIssuedSuccess:"vouchers issued successfully! Total:",insufficientBalance:"Insufficient balance",fillAllFields:"Please fill in all required fields",invalidAmount:"Invalid amount",noTransactionsYet:"No transactions yet. Add funds to get started!",totalValue:"total value"},cp={title:"Register for BAK UP",userTypeLabel:"User Type",userTypes:{recipient:"Recipient",vendor:"Local Food Shop",vcse:"VCFSE Organization",school:"School/Care Organization"},firstNameLabel:"First Name",lastNameLabel:"Last Name",emailLabel:"Email",phoneLabel:"Phone",passwordLabel:"Password",confirmPasswordLabel:"Confirm Password",passwordMismatch:"Passwords do not match",organizationNameLabel:"Organization Name",charityNumberLabel:"Charity Commission Number",charityNumberPlaceholder:"e.g., 1234567",charityWarning:"Your registration will be verified against the Charity Commission database before approval.",schoolNameLabel:"School/Organization Name",shopNameLabel:"Shop Name",shopCategoryLabel:"Shop Category",shopCategories:{grocery:"Grocery Store",supermarket:"Supermarket",convenience:"Convenience Store",butcher:"Butcher",bakery:"Bakery",halal:"Halal Shop",asian:"Asian Grocery",african:"African/Caribbean Store",other:"Other"},addressLabel:"Address",postcodeLabel:"Postcode",cityLabel:"City",townLabel:"Town",townPlaceholder:"Leave empty if registering in a town",registerButton:"Register",registering:"Registering...",haveAccount:"Already have an account?",signInLink:"Sign in here",backToHome:"Back to Home",registrationSuccess:"Registration successful! Please sign in.",registrationFailed:"Registration failed"},dp={welcomeTitle:"Welcome to the Northamptonshire Community E-Voucher Scheme",welcomeThank:"Thank you for joining BAK UP CIC as a participating shop or vendor! You are a vital partner in our community-led approach to supporting families facing hardship.",welcomeDignity:"By accepting e-vouchers, you provide families with dignity, choice, and access to culturally appropriate food and essentials. At the same time, you benefit from increased footfall and support for your local business.",welcomeCircular:"You can also help reduce waste by notifying us about surplus food and goods for redistribution, strengthening our circular economy.",scanQRTitle:"Scan QR Code",cameraAccessFailed:"Camera Access Failed",failedToStartCamera:"Failed to start camera.",tryAgain:"Try Again",useManualEntry:"Use Manual Entry Instead (Recommended)",redemptionInstructions:"How to Redeem Vouchers",instruction1:"Scan the QR code or enter the voucher code manually",instruction2:"Enter the code in the field below or use the scan button",instruction3:"Click 'Validate' to check the voucher is valid and see the balance",instruction4:"Enter the amount to redeem (must not exceed voucher balance)",instruction5:"Always validate the voucher before accepting it as payment",instruction6:"The recipient's voucher balance will be updated automatically",totalSales:"Total Sales",purchaseAmount:"Purchase Amount",availableBalance:"Available balance",enterAmount:"Enter amount",maxAmount:"max"},hp={title:"Welcome to the Northamptonshire Community E-Voucher Scheme",paragraph1:"Thank you for partnering with BAK UP CIC to support families and individuals facing hardship across Northamptonshire. As a VCFSE organization, you are at the heart of our community-led approach to tackling food insecurity.",paragraph2:"Our E-Voucher system replaces traditional food parcels with flexible, dignified support that respects cultural preferences and gives families real choice. Every voucher you issue helps strengthen local economies by supporting participating shops and retailers.",paragraph3:"Together, we're building a more inclusive, sustainable, and resilient community where everyone can thrive."},up={title:"System Changelog",version:"Version",lastUpdated:"Last Updated",totalChanges:"Total Changes",bugFixes:"Bug Fixes",i18nUpdates:"i18n Updates",uiEnhancements:"UI Enhancements",filterByCategory:"Filter by Category",filterByPriority:"Filter by Priority",allCategories:"All Categories",allPriorities:"All Priorities",showing:"Showing",of:"of",changes:"changes",noChangesMatch:"No changes match your filters",details:"Details",impact:"Impact",components:"Components",userTypes:"User Types",categories:{bugFix:"Bug Fix",feature:"Feature",internationalization:"Internationalization",uiEnhancement:"UI Enhancement",configuration:"Configuration",security:"Security",deployment:"Deployment"},priorities:{critical:"Critical",high:"High",medium:"Medium",low:"Low"}},pp={globalSearch:{title:"Global Search",description:"Search across VCFSE Organizations, Schools/Care Organizations, and Local Shops by name, email, town, ID, or registration number.",placeholder:"Enter search query...",searchButton:"Search",searching:"Searching...",resultsCount:"Search Results ({{count}} found)",vcseOrgs:"VCFSE Organizations",schools:"Schools/Care Organizations",shops:"Local Shops",name:"Name",email:"Email",city:"City",charityNumber:"Charity #",balance:"Balance",phone:"Phone",address:"Address",noResults:"No results found"},fundAllocation:{title:"Fund Allocation",allocateFunds:"Allocate Funds",organizationType:"Organization Type",vcseOrganization:"VCFSE Organization",schoolOrganization:"School/Care Organization",selectOrganization:"Select Organization",selectOrgPlaceholder:"-- Select Organization --",currentBalance:"Current Balance",amount:"Amount (Â£)",amountPlaceholder:"0.00",newBalance:"New Balance",notes:"Notes",notesPlaceholder:"Add any notes about this allocation...",allocateButton:"Allocate Funds",allocating:"Allocating...",allocationHistory:"Allocation History",noHistory:"No allocation history yet",date:"Date",organization:"Organization",allocated:"Allocated",by:"By"},transactions:{title:"Transaction Search",description:"Search and filter all transactions across the system",searchPlaceholder:"Search by voucher code, recipient, vendor...",filterByType:"Filter by Type",allTypes:"All Types",redemption:"Redemption",allocation:"Allocation",transfer:"Transfer",filterByDate:"Filter by Date",from:"From",to:"To",searchButton:"Search",searching:"Searching...",resultsCount:"{{count}} transactions found",date:"Date",type:"Type",amount:"Amount",voucher:"Voucher",status:"Status",noResults:"No transactions found"},broadcast:{title:"Broadcast Message",description:"Send notifications to all users or specific user groups",selectRecipients:"Select Recipients",allUsers:"All Users",vcseOnly:"VCFSE Organizations Only",schoolsOnly:"Schools/Care Organizations Only",recipientsOnly:"Recipients Only",vendorsOnly:"Vendors/Local Shops Only",messageTitle:"Message Title",titlePlaceholder:"Enter message title...",messageContent:"Message Content",contentPlaceholder:"Enter your message here...",sendButton:"Send Broadcast",sending:"Sending...",preview:"Preview",recipientCount:"This message will be sent to {{count}} users"}},fp={title:"VCFSE Verification",pending:"Pending",active:"Active",rejected:"Rejected",total:"Total",pending_verifications:"Pending Verifications",no_pending:"No pending verifications",organization:"Organization",contact:"Contact",charity_number:"Charity Number",submitted:"Submitted",actions:"Actions",approve:"âœ… Approve",reject:"âŒ Reject",reject_vcfse:"Reject VCFSE",rejection_reason:"Rejection Reason",confirm_rejection:"Confirm Rejection",default_rejection_reason:"Charity Commission number not found or details do not match",confirm_approve:`Approve {{name}}?

This will grant them access to the VCFSE portal.`,approved_success:"{{name}} has been approved! Approval email sent to {{email}}",rejected_success:"{{name}} has been rejected. Notification email sent.",provide_reason:"Please provide a rejection reason",error_loading:"Error loading pending verifications",error_loading_stats:"Error loading stats",error_approving:"Error approving VCFSE",error_rejecting:"Error rejecting VCFSE"},gp={vcfse_organizations:"VCFSE Organizations",organization:"Organization",contact:"Contact",email:"Email",phone:"Phone",address:"Address"},xp={recipients:"Recipients",recipient:"Recipient",name:"Name",email:"Email",vouchers:"Vouchers",balance:"Balance"},mp={voucher_management:"Voucher Management",voucher:"Voucher",code:"Code",value:"Value",status:"Status",assign:"Assign",unassign:"Unassign"},yp={schools:"Schools",care_organizations:"Care Organizations",school:"School",organization:"Organization",students:"Students"},bp={local_shops:"Local Shops",vendor:"Vendor",shop:"Shop",location:"Location",products:"Products"},wp={all_to_go:"All To Go",surplus_food:"Surplus Food",available:"Available",collected:"Collected"},vp={manage_payouts:"Manage Payouts",payout:"Payout",amount:"Amount",date:"Date",status:"Status",process:"Process"},Cp={analytics:"Analytics",statistics:"Statistics",charts:"Charts",reports:"Reports",data:"Data"},Sp={settings:"Settings",configuration:"Configuration",preferences:"Preferences",account:"Account",system:"System"},Ap={app:Ru,common:Iu,alerts:Bu,prompts:Ou,login:Nu,admin:zu,dashboard:Pu,landing:Du,auth:Fu,voucher:Mu,toGo:Lu,cart:Vu,recipient:Wu,categories:Uu,language:Hu,shop:Gu,qrScanner:qu,reports:Xu,pagination:Yu,payout:Ku,school:$u,vcse:Zu,wallet:Qu,tabs:Ju,sound:ep,discount:tp,buttons:ip,forms:np,table:rp,product:op,pages:sp,status:ap,messages:lp,register:cp,vendor:dp,vcseWelcome:hp,changelog:up,adminEnhancements:pp,vcfseVerification:fp,vcfseOrgs:gp,recipients:xp,vouchers:mp,schools:yp,vendors:bp,allToGo:wp,payouts:vp,analytics:Cp,settings:Sp},jp={title:"Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© BAK UP",tagline:"Ø±Ø¨Ø· Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ Ø¨Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† Ù‡Ù… ÙÙŠ Ø£Ù…Ø³ Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„ÙŠÙ‡"},_p={email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",password:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",signIn:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",signOut:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",cancel:"Ø¥Ù„ØºØ§Ø¡",save:"Ø­ÙØ¸",delete:"Ø­Ø°Ù",edit:"ØªØ¹Ø¯ÙŠÙ„",add:"Ø¥Ø¶Ø§ÙØ©",remove:"Ø¥Ø²Ø§Ù„Ø©",close:"Ø¥ØºÙ„Ø§Ù‚",search:"Ø¨Ø­Ø«",filter:"ØªØµÙÙŠØ©",loading:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",error:"Ø®Ø·Ø£",success:"Ù†Ø¬Ø­",confirm:"ØªØ£ÙƒÙŠØ¯",back:"Ø±Ø¬ÙˆØ¹",next:"Ø§Ù„ØªØ§Ù„ÙŠ",submit:"Ø¥Ø±Ø³Ø§Ù„",welcome:"Ù…Ø±Ø­Ø¨Ø§",changeLanguage:"ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",phone:"Ø§Ù„Ù‡Ø§ØªÙ",shopOwner:"ØµØ§Ø­Ø¨ Ø§Ù„Ù…ØªØ¬Ø±",foodToGoItems:"Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ø¹Ø§Ù… Ù„Ù„Ø°Ù‡Ø§Ø¨",view:"Ø¹Ø±Ø¶",actions:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª",status:"Ø§Ù„Ø­Ø§Ù„Ø©",name:"Ø§Ù„Ø§Ø³Ù…",organization:"Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",date:"Ø§Ù„ØªØ§Ø±ÙŠØ®",amount:"Ø§Ù„Ù…Ø¨Ù„Øº",description:"Ø§Ù„ÙˆØµÙ",category:"Ø§Ù„ÙØ¦Ø©",quantity:"Ø§Ù„ÙƒÙ…ÙŠØ©",price:"Ø§Ù„Ø³Ø¹Ø±",total:"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹",refresh:"ØªØ­Ø¯ÙŠØ«",redeemed:"Ù…Ø³ØªØ±Ø¯Ø©",totalValue:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©",recipients:"Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙˆÙ†",vendors:"Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙˆÙ†",schools:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³",vcfseOrganizations:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",redemptionRate:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",activeVouchers:"Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ù†Ø´Ø·Ø©",totalVouchers:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",totalUsers:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",systemAnalyticsDashboard:"Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…",systemOverview:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…",marketplaceStatistics:"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³ÙˆÙ‚",claimedItems:"Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø·Ø§Ù„Ø¨ Ø¨Ù‡Ø§",availableItems:"Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØªØ§Ø­Ø©",totalItems:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ±",activeShops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù†Ø´Ø·Ø©",enterEmail:"Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",enterPassword:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",enterAdminPassword:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",enterNewPassword:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",confirmNewPassword:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",enterNewPasswordOptional:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø­Ø§Ù„ÙŠØ©)",firstNamePlaceholder:"Ø¬ÙˆÙ†",lastNamePlaceholder:"Ø¯Ùˆ",emailPlaceholder:"john.doe@email.com",phonePlaceholder:"+44 7700 900000",charityNamePlaceholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø®ÙŠØ±ÙŠØ© Ø§Ù„Ù…Ø³Ø¬Ù„Ø©",charityNumberPlaceholder:"Ù…Ø«Ù„Ø§Ù‹ØŒ 1234567",schoolNamePlaceholder:"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø£Ùˆ Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",shopNamePlaceholder:"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù…ØªØ¬Ø±Ùƒ",addressPlaceholder:"123 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",postcodePlaceholder:"NN8 1AA",searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø±Ù…Ø²ØŒ Ø§Ù„Ù…Ø³ØªÙ„Ù…...",confirmDelete:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù {{name}}ØŸ",confirmDeactivate:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ ØªØ¹Ø·ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ„Ù…ØŸ",confirmDeleteShop:'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù "{{name}}"ØŸ',errorDeleting:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù",errorLoading:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„",na:"ØºÙŠØ± Ù…ØªÙˆÙØ±"},Ep={itemAddedToCart:"ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!",failedToAddToCart:"ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©:",itemRemoved:"ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ø³Ù„Ø©",failedToRemove:"ÙØ´Ù„ ÙÙŠ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ±:"},kp={adminNotes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):",rejectionReason:"Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶:"},Tp={title:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ BAK UP",emailLabel:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",emailPlaceholder:"Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",passwordLabel:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",passwordPlaceholder:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",signInButton:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",signingIn:"Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...",noAccount:"Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ",registerLink:"Ø³Ø¬Ù„ Ù‡Ù†Ø§",forgotPassword:"Ù‡Ù„ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ",backToHome:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",aboutTitle:"Ø­ÙˆÙ„ BAK UP CIC",aboutText:"ØªÙ‚ÙˆØ¯ BAK UP CIC Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙÙŠ Ù†ÙˆØ±Ø«Ù‡Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±ØŒ ÙˆØªÙˆÙØ± Ø¯Ø¹Ù…Ù‹Ø§ ÙƒØ±ÙŠÙ…Ù‹Ø§ Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ù‚Ø³Ø§Ø¦Ù… Ù…Ø±Ù†Ø© ØªØ­ØªØ±Ù… Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ© ÙˆØªØ¹Ø²Ø² Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©.",loginFailed:"ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."},Rp={fundAllocation:"ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",organizationType:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",selectVCSE:"Ø§Ø®ØªØ± Ù…Ù†Ø¸Ù…Ø© VCSE",amount:"Ø§Ù„Ù…Ø¨Ù„Øº (Â£)",notes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",allocateFunds:"ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",vcseOrganizations:"Ù…Ù†Ø¸Ù…Ø§Øª VCSE",allocatedBalance:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø®ØµØµ",chooseOrganization:"Ø§Ø®ØªØ± Ù…Ù†Ø¸Ù…Ø© VCSE...",vcseOrganization:"Ù…Ù†Ø¸Ù…Ø© VCSE",schoolOrganization:"Ù…Ø¯Ø±Ø³Ø© / Ù…Ù†Ø¸Ù…Ø© Ø±Ø¹Ø§ÙŠØ©",selectSchool:"Ø§Ø®ØªØ± Ù…Ø¯Ø±Ø³Ø© / Ù…Ù†Ø¸Ù…Ø© Ø±Ø¹Ø§ÙŠØ©",organizationName:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",charityNumber:"Ø±Ù‚Ù… Ù„Ø¬Ù†Ø© Ø§Ù„Ø®ÙŠØ±ÙŠØ©",save:"Ø­ÙØ¸",cancel:"Ø¥Ù„ØºØ§Ø¡",edit:"ØªØ¹Ø¯ÙŠÙ„",delete:"Ø­Ø°Ù",allVouchers:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",noVouchers:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ø³Ø§Ø¦Ù…",localShops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ø¹ To Gos",noShops:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ØªØ§Ø¬Ø± Ù…Ø­Ù„ÙŠØ©",schoolsOrganizations:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ ÙˆÙ…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",noSchools:"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø¯Ø§Ø±Ø³ / Ù…Ù†Ø¸Ù…Ø§Øª Ø±Ø¹Ø§ÙŠØ© Ø¨Ø¹Ø¯",editSchool:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©",firstName:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„",lastName:"Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©",phone:"Ø§Ù„Ù‡Ø§ØªÙ",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",city:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",postcode:"Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ",resetPassword:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",noToGoItems:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± to go",changePassword:"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ",currentPassword:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©",newPassword:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",confirmPassword:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",createAdmin:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø¤ÙˆÙ„ Ø¬Ø¯ÙŠØ¯",createAdminAccount:"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø³Ø¤ÙˆÙ„ Ø¬Ø¯ÙŠØ¯",password:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",adminAccounts:"Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†",noAdmins:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†",name:"Ø§Ù„Ø§Ø³Ù…",created:"ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡",lastLogin:"Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„",logins:"Ø¹Ù…Ù„ÙŠØ§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",actions:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª",currentUser:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ",loginStatistics:"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",searchRecipients:"Ø¨Ø­Ø« Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†",searchPlaceholder:"Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ...",sortBy:"ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨",sortName:"Ø§Ù„Ø§Ø³Ù… (Ø£-ÙŠ)",sortEmail:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø£-ÙŠ)",sortVouchers:"Ø§Ù„Ø£ÙƒØ«Ø± Ù‚Ø³Ø§Ø¦Ù…",sortValue:"Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø©",sortRecent:"Ø§Ù„Ø£Ø­Ø¯Ø«",totalVouchers:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",active:"Ù†Ø´Ø·",redeemed:"Ù…Ø³ØªØ±Ø¯Ø©",activeValue:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù†Ø´Ø·Ø©",globalSearch:"Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù…",transactions:"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",broadcast:"Ø§Ù„Ø¨Ø«",vcfseVerification:"Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† VCFSE",vcfseOrganisations:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",recipients:"Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙˆÙ†",analytics:"Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª",reports:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",dashboardOverview:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©"},Ip={welcome:"Ù…Ø±Ø­Ø¨Ø§",overview:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©",myVouchers:"Ù‚Ø³Ø§Ø¦Ù…ÙŠ",browseToGo:"ØªØµÙØ­ Ù„Ù„Ø°Ù‡Ø§Ø¨",shoppingCart:"Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚",profile:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",activeBalance:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ø´Ø·",activeVouchers:"Ù†Ø´Ø·Ø©",redeemed:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",emptyCart:"Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©",noToGoItems:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø°Ù‡Ø§Ø¨ Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ",redeemVouchers:"Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",toGo:"Ù„Ù„Ø°Ù‡Ø§Ø¨",issueVouchers:"Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",participatingShops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©",voucherHistory:"Ø³Ø¬Ù„ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",searchByCode:"Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø±Ù…Ø²...",allVouchers:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",redeemedVouchers:"ØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ù‡Ø§",expiredVouchers:"Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",noVouchersFound:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ø³Ø§Ø¦Ù…",tabs:{overview:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©",voucherManagement:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",voucherOrders:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",reports:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",issueVouchers:"Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",toGo:"Ù„Ù„Ø°Ù‡Ø§Ø¨",localShops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©",allToGo:"Ø¬Ù…ÙŠØ¹ Ù„Ù„Ø°Ù‡Ø§Ø¨",settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",myShops:"Ù…ØªØ§Ø¬Ø±ÙŠ",surplusFood:"Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶",myVouchers:"Ù‚Ø³Ø§Ø¦Ù…ÙŠ",redeemVoucher:"Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©",schoolsOrgs:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ / Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©"},buttons:{changePassword:"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",manageAdmins:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†",loginStatistics:"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"},headings:{settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",localShopsWithToGo:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ø¹ Ù„Ù„Ø°Ù‡Ø§Ø¨",allToGoItems:"Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø°Ù‡Ø§Ø¨"},searchVouchers:"Ø¨Ø­Ø« Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",statusFilter:"ØªØµÙÙŠØ© Ø§Ù„Ø­Ø§Ù„Ø©",clearFilters:"Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±",totalVouchers:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",activeValue:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù†Ø´Ø·Ø©",vcfseOrgs:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",recipients:"Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙˆÙ†",localShops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©"},Bp={hero:{title:"Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© BAK UP",subtitle:"Ø±Ø¨Ø· Ø¨Ø§Ø¦Ø¹ÙŠ Ø§Ù„Ø£ØºØ°ÙŠØ© ÙˆÙ…Ù†Ø¸Ù…Ø§Øª VCFSE ÙˆØ§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„Ø¶Ø¹ÙŠÙØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ø­Ù„ Ø±Ù‚Ù…ÙŠ Ù…ÙˆØ­Ø¯",getStarted:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†",signIn:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"},features:{communities:{title:"Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª",description:"Ù‚Ø³Ø§Ø¦Ù… ØºØ°Ø§Ø¦ÙŠØ© Ø±Ù‚Ù…ÙŠØ© ØªØ¹Ø²Ø² Ø§Ù„ÙƒØ±Ø§Ù…Ø© ÙˆØ§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„Ø¶Ø¹ÙŠÙØ©"},vcse:{title:"Ø´Ø±Ø§ÙƒØ© VCSE",description:"ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø®ÙŠØ±ÙŠØ© ØªÙ…ÙˆÙŠÙ„ ÙˆØ¥Ø¯Ø§Ø±Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø¨ÙƒÙØ§Ø¡Ø©"},vendors:{title:"Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†",description:"ØªÙ†Ø¶Ù… Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… ÙˆØ¯Ø¹Ù… Ù…Ø¬ØªÙ…Ø¹Ù‡Ø§"},surplus:{title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶",description:"ÙŠÙ…ÙƒÙ† Ù„Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ù†Ø´Ø± Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ø®ÙØ¶Ø© ÙˆØ§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ù„Ø´Ø±ÙƒØ§Ø¡ VCFSE Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„ØªÙŠ ÙŠØ®Ø¯Ù…ÙˆÙ†Ù‡Ø§ØŒ Ù…Ù…Ø§ ÙŠÙ‚Ù„Ù„ Ù…Ù† Ù‡Ø¯Ø± Ø§Ù„Ø·Ø¹Ø§Ù…"}},whoWeServe:{title:"Ù…Ù† Ù†Ø®Ø¯Ù…",recipients:{title:"Ø§Ù„Ø£ÙØ±Ø§Ø¯ ÙˆØ§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª",item1:"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‚Ø³Ø§Ø¦Ù… ØºØ°Ø§Ø¦ÙŠØ© Ø±Ù‚Ù…ÙŠØ© Ø¨ÙƒØ±Ø§Ù…Ø©",item2:"Ø§Ø®ØªØ± Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ù…Ù† Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ†",item3:"Ø·Ø¹Ø§Ù… Ù„Ù„Ø°Ù‡Ø§Ø¨ Ø¨Ø³Ø¹Ø± Ù…Ø®ÙØ¶ - Ø§Ø´ØªØ±Ù Ø·Ø¹Ø§Ù…Ù‹Ø§ Ù…Ø®ÙØ¶Ù‹Ø§ Ù…Ù† Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†",item4:"ØªØªØ¨Ø¹ Ø±ØµÙŠØ¯ Ù‚Ø³ÙŠÙ…ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©"},vendors:{title:"Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†/Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©",item1:"Ø§Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø³Ù„Ø§Ø³Ø©",item2:"Ø§Ù†Ø´Ø± Ø¹Ù†Ø§ØµØ± ØºØ°Ø§Ø¦ÙŠØ© Ù…Ø®ÙØ¶Ø© Ù„Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†",item3:"Ø§Ù†Ø´Ø± Ø·Ø¹Ø§Ù…Ù‹Ø§ ÙØ§Ø¦Ø¶Ù‹Ø§ Ù…Ø¬Ø§Ù†ÙŠÙ‹Ø§ Ù„Ø¬Ù…Ø¹ VCSE",item4:"Ø§Ø¯Ø¹Ù… Ù…Ø¬ØªÙ…Ø¹Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ",item5:"Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ù‚Ø¹ Ù…ØªØ§Ø¬Ø± Ù…ØªØ¹Ø¯Ø¯Ø©"},vcse:{title:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",item1:"Ø¥ØµØ¯Ø§Ø± ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø¨ÙƒÙØ§Ø¡Ø©",item2:"ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø±Ù‚Ù…ÙŠÙ‹Ø§",item3:"Ø¬Ù…Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ù„ØªÙˆØ²ÙŠØ¹Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„ØªÙŠ ØªØ®Ø¯Ù…Ù‡Ø§",item4:"ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±",item5:"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø©"},schools:{title:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ ÙˆÙ…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",item1:"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‚Ø³Ø§Ø¦Ù… Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù…Ù† BAK UP Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª",item2:"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„Ù…Ù…Ø«Ù„Ø© ØªÙ…Ø«ÙŠÙ„Ø§Ù‹ Ù†Ø§Ù‚ØµÙ‹Ø§",item3:"ØªØªØ¨Ø¹ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±",item4:"Ø¯Ø¹Ù… Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø¤Ø³Ø³Ø§Øª Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø©",item5:"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø§Ø±ÙŠØ± Ù„Ù„Ù…Ø³Ø§Ø¡Ù„Ø©"},admins:{title:"Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†",item1:"Ø§Ù„Ø¥Ø´Ø±Ø§Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø£ÙƒÙ…Ù„Ù‡Ø§",item2:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±",item3:"Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø®ØµÙ… ÙˆØ§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶",item4:"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø§Ø±ÙŠØ± Ø´Ø§Ù…Ù„Ø©",item5:"Ø¶Ù…Ø§Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù†Ø¸Ø§Ù…"}},cta:{title:"Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ø¥Ø­Ø¯Ø§Ø« ÙØ±Ù‚ØŸ",subtitle:"Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…Ù†ØµØªÙ†Ø§ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© Ø§Ù„ÙŠÙˆÙ…",button:"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨"},footer:{adminAccess:"ÙˆØµÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"},about:{sectionTitle:"Ø­ÙˆÙ„ Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙÙŠ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±",mission:{title:"Ø¨ÙŠØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©",text:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø´Ø§Ù…Ù„Ø© ÙˆÙ…Ø±Ù†Ø© ÙˆÙ…ØªÙ…ÙƒÙ†Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø¬Ø°Ø±ÙŠØ© Ù„Ù„Ù…Ø´Ù‚Ø© ÙˆØ¹Ø¯Ù… Ø§Ù„Ù…Ø³Ø§ÙˆØ§Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ø±Ø§ÙƒØ© ÙˆØ§Ù„Ø±Ø­Ù…Ø© ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø± Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠ."},vision:{title:"Ø±Ø¤ÙŠØªÙ†Ø§",text:"Ù…Ø¬ØªÙ…Ø¹ Ø£ÙƒØ«Ø± Ø¹Ø¯Ù„Ø§Ù‹ ÙˆØµØ­Ø© ÙˆØªØ±Ø§Ø¨Ø·Ø§Ù‹ Ø­ÙŠØ« ÙŠØªÙ…ØªØ¹ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¨ÙØ±ØµØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¥Ù…ÙƒØ§Ù†Ø§ØªÙ‡Ù… Ø§Ù„ÙƒØ§Ù…Ù„Ø©."},values:{title:"Ù‚ÙŠÙ…Ù†Ø§",compassion:"Ø§Ù„Ø±Ø­Ù…Ø©",compassionDesc:"Ù†Ø­Ù† Ù†Ù‡ØªÙ… Ø¨Ø¹Ù…Ù‚ Ø¨Ø§Ù„Ù†Ø§Ø³ ÙˆÙ‚ØµØµÙ‡Ù….",equity:"Ø§Ù„Ø¹Ø¯Ø§Ù„Ø©",equityDesc:"Ù†Ø­Ù† Ù†Ø¯Ø§ÙØ¹ Ø¹Ù† Ø§Ù„Ø¥Ù†ØµØ§Ù ÙˆØ§Ù„Ø´Ù…ÙˆÙ„ Ù„Ù„Ø¬Ù…ÙŠØ¹.",empowerment:"Ø§Ù„ØªÙ…ÙƒÙŠÙ†",empowermentDesc:"Ù†Ø­Ù† Ù†Ø³ØªØ«Ù…Ø± ÙÙŠ Ø§Ù„Ù†Ø§Ø³ Ù„ÙŠØµØ¨Ø­ÙˆØ§ Ø¹ÙˆØ§Ù…Ù„ ØªØºÙŠÙŠØ±.",collaboration:"Ø§Ù„ØªØ¹Ø§ÙˆÙ†",collaborationDesc:"Ù†Ø­Ù† Ù†Ø¨Ù†ÙŠ Ø´Ø±Ø§ÙƒØ§Øª ØªØ¹Ø²Ø² Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ.",integrity:"Ø§Ù„Ù†Ø²Ø§Ù‡Ø©",integrityDesc:"Ù†Ø­Ù† Ù…Ø³Ø¤ÙˆÙ„ÙˆÙ† ÙˆØ´ÙØ§ÙÙˆÙ† ÙˆÙ…ØªÙ…Ø±ÙƒØ²ÙˆÙ† Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙÙŠ ÙƒÙ„ Ù…Ø§ Ù†Ù‚ÙˆÙ… Ø¨Ù‡."},bakup:{title:"Ø­ÙˆÙ„ BAK UP CIC",paragraph1:"ØªÙØ®Ø± BAK UP CIC Ø¨Ù‚ÙŠØ§Ø¯Ø© Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙÙŠ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±ØŒ ÙˆÙ‡Ùˆ Ø­Ù„ Ù…Ø¨ØªÙƒØ± ÙŠÙ‚ÙˆØ¯Ù‡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙŠØ¶Ù…Ù† Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ÙˆØ§Ù„Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø°ÙŠÙ† ÙŠÙˆØ§Ø¬Ù‡ÙˆÙ† Ø§Ù„Ù…Ø´Ù‚Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø¹ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø«Ù‚Ø§ÙÙŠØ§Ù‹ Ø¨ÙƒØ±Ø§Ù…Ø© ÙˆÙ…Ø±ÙˆÙ†Ø© ÙˆØ¹Ø¯Ø§Ù„Ø©.",paragraph2:"ÙŠØ³ØªØ¨Ø¯Ù„ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ø¯ÙŠÙ†Ø§ Ø§Ù„Ø·Ø±ÙˆØ¯ Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ù‚Ø³Ø§Ø¦Ù… Ø±Ù‚Ù…ÙŠØ© ÙˆÙ†ØµÙŠØ© ÙˆÙˆØ±Ù‚ÙŠØ© ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ù„Ø£Ø³ÙˆØ§Ù‚ ÙˆØ§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†. Ù„Ø§ ÙŠØ¯Ø¹Ù… Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ø£Ø³Ø± ÙÙŠ Ø§Ù„Ø£Ø²Ù…Ø§Øª ÙØ­Ø³Ø¨ØŒ Ø¨Ù„ ÙŠØ¹ÙŠØ¯ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø¥Ù†ÙØ§Ù‚ ÙÙŠ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„Ù…Ø­Ù„ÙŠØŒ Ù…Ù…Ø§ ÙŠØ¹Ø²Ø² Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ©."},keyAreas:{title:"Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",foodSecurity:"Ø§Ù„Ø£Ù…Ù† Ø§Ù„ØºØ°Ø§Ø¦ÙŠ ÙˆØ¯Ø¹Ù… Ø§Ù„Ø£Ø³Ø±Ø©",foodSecurityDesc:"Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø©ØŒ ÙˆÙ…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©ØŒ ÙˆØªÙˆÙÙŠØ± Ø§Ù„Ø³Ù„Ø¹ Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ ÙˆØ§Ù„Ø´Ø±Ø§ÙƒØ§Øª Ù…Ø¹ ØªØ¬Ø§Ø± Ø§Ù„ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ† Ù„Ø¶Ù…Ø§Ù† ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø«Ù‚Ø§ÙÙŠØ§Ù‹ ÙˆØ§Ù„Ù…ØºØ°ÙŠ.",youthEmpowerment:"ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø´Ø¨Ø§Ø¨",youthEmpowermentDesc:"Ù…Ù† Ø®Ù„Ø§Ù„ Ø³ÙØ±Ø§Ø¡ Ø´Ø¨Ø§Ø¨ Ø´Ø±Ù‚ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ± (EYA) ÙˆØ¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø®Ø±Ù‰ØŒ Ù†Ø²ÙˆØ¯ Ø§Ù„Ø´Ø¨Ø§Ø¨ Ø¨Ø§Ù„Ø«Ù‚Ø© ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„ØµÙˆØª Ù„ÙŠØµØ¨Ø­ÙˆØ§ ØµØ§Ù†Ø¹ÙŠ ØªØºÙŠÙŠØ± Ø¥ÙŠØ¬Ø§Ø¨ÙŠÙŠÙ† ÙÙŠ Ù…Ø¬ØªÙ…Ø¹Ø§ØªÙ‡Ù….",healthWellbeing:"Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø±ÙØ§Ù‡ÙŠØ©",healthWellbeingDesc:"Ø§Ù„ØªØ¯Ø®Ù„Ø§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¹Ø¯Ù… Ø§Ù„Ù…Ø³Ø§ÙˆØ§Ø© Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„ÙˆØ­Ø¯Ø© ÙˆØ§Ù„Ø¹Ø²Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŒ Ù…Ø¹ ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ ÙˆØ§Ù„ÙˆØ¹ÙŠ Ø¨Ø§Ù„ØµØ­Ø© Ø§Ù„Ø¹Ù‚Ù„ÙŠØ© ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ†.",socialDeterminants:"Ø§Ù„Ù…Ø­Ø¯Ø¯Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ù„Ù„ØµØ­Ø©",socialDeterminantsDesc:"ØªØ±ÙƒÙŠØ² Ø´Ø§Ù…Ù„ Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªÙˆØ¸ÙŠÙ ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©ØŒ ÙˆØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù†Ø§Ø³ Ù…Ù† Ø§Ù„Ø§Ø²Ø¯Ù‡Ø§Ø± Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ù‚ÙŠØ¯ Ø§Ù„Ø­ÙŠØ§Ø©.",communityCohesion:"Ø§Ù„ØªÙ…Ø§Ø³Ùƒ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠ ÙˆØ§Ù„ØªØ±Ø§Ø« Ø§Ù„Ø«Ù‚Ø§ÙÙŠ",communityCohesionDesc:"Ø§Ù„Ø§Ø­ØªÙØ§Ù„ Ø¨Ø§Ù„ØªÙ†ÙˆØ¹ Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ù…Ø«Ù„ Ø§Ø­ØªÙØ§Ù„ Ø¬ÙŠÙ„ ÙˆÙŠÙ†Ø¯Ø±Ø´ØŒ ÙˆÙ…Ø´Ø§Ø±ÙŠØ¹ Ø³Ø±Ø¯ Ø§Ù„Ù‚ØµØµØŒ ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„ØªÙŠ ØªÙƒØ±Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ø§Ù†ØªÙ…Ø§Ø¡."},circular:{title:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù‚ØªØµØ§Ø¯ Ù…Ø¬ØªÙ…Ø¹ÙŠ Ø¯Ø§Ø¦Ø±ÙŠ ÙˆÙ…Ø³ØªØ¯Ø§Ù…",paragraph1:"ÙŠØ®Ù„Ù‚ Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø£ÙŠØ¶Ø§Ù‹ ÙØ±ØµØ© ÙØ±ÙŠØ¯Ø© Ù„Ù„Ù…ØªØ§Ø¬Ø± ÙˆØªØ¬Ø§Ø± Ø§Ù„ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ† Ù„Ù„Ø¹Ø¨ Ø¯ÙˆØ± Ù†Ø´Ø· ÙÙŠ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù†ÙØ§ÙŠØ§Øª ÙˆØªØ¹Ø²ÙŠØ² Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø©.",paragraph2:"Ø³ØªØªÙ…ÙƒÙ† Ø§Ù„Ù…Ù†Ø§ÙØ° Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù† Ø¥Ø®Ø·Ø§Ø± BAK UP CIC ÙˆØ§Ù„Ø¬Ù…Ø¹ÙŠØ§Øª Ø§Ù„Ø®ÙŠØ±ÙŠØ© Ø§Ù„Ø´Ø±ÙŠÙƒØ© Ø¨Ø´Ø£Ù† Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ ÙˆØ§Ù„Ø³Ù„Ø¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©ØŒ Ù…Ù…Ø§ ÙŠØªÙŠØ­ Ø¬Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªÙˆØ²ÙŠØ¹Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„Ù…Ø­ØªØ§Ø¬Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¥Ù‡Ø¯Ø§Ø±Ù‡Ø§. ÙŠØ¹Ø²Ø² Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø³ÙŠØ· ÙˆØ§Ù„Ù‚ÙˆÙŠ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠ - Ù…Ù…Ø§ ÙŠØ¶Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨ÙƒÙØ§Ø¡Ø©ØŒ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¨ÙŠØ¦ÙŠØŒ ÙˆØ¬Ø¹Ù„ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø£ÙƒØ«Ø± Ù…Ø±ÙˆÙ†Ø© ÙˆØ§Ø³ØªØ¯Ø§Ù…Ø© ÙˆØ¯Ø¹Ù…Ø§Ù‹ Ø°Ø§ØªÙŠØ§Ù‹."},funders:{title:"Ù„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù…ÙˆÙ„ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±",text:"ÙŠØ¹Ù†ÙŠ ØªÙ…ÙˆÙŠÙ„ Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙŠ Ù†Ù‡Ø¬ Ø£ÙƒØ«Ø± Ø°ÙƒØ§Ø¡Ù‹ ÙˆØ¹Ø¯Ø§Ù„Ø© ÙˆØµØ¯ÙŠÙ‚Ø§Ù‹ Ù„Ù„Ø¨ÙŠØ¦Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙÙ‚Ø± ÙˆØ¹Ø¯Ù… Ø§Ù„Ù…Ø³Ø§ÙˆØ§Ø©. ÙƒÙ„ Ø¬Ù†ÙŠÙ‡ ÙŠÙÙŠØ¯ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø± ÙƒÙ„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø³Ø± Ø§Ù„ØªÙŠ ØªÙˆØ§Ø¬Ù‡ Ø§Ù„Ù…Ø´Ù‚Ø© ÙˆØ§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ù…Ù…Ø§ ÙŠØ®Ù„Ù‚ Ø¯ÙˆØ±Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ù…Ù† Ø«Ø±ÙˆØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙˆØ§Ù„Ø±ÙØ§Ù‡ÙŠØ©."},joinScheme:"Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„ÙŠÙˆÙ…",footerAbout:{title:"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†Ø§",description:"ØªÙ‚ÙˆØ¯ BAK UP CIC Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙÙŠ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±ØŒ ÙˆØªÙˆÙØ± Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙƒØ±ÙŠÙ… Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ÙˆØªØ¹Ø²ÙŠØ² Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©.",learnMore:"Ø§Ø¹Ø±Ù Ø§Ù„Ù…Ø²ÙŠØ¯"},footerFunders:{title:"Ù„Ù„Ù…Ù…ÙˆÙ„ÙŠÙ†",description:"Ø§Ø³ØªØ«Ù…Ø± ÙÙŠ Ù†Ù‡Ø¬ Ø£ÙƒØ«Ø± Ø°ÙƒØ§Ø¡Ù‹ ÙˆØ¹Ø¯Ø§Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙÙ‚Ø± ÙˆØ¹Ø¯Ù… Ø§Ù„Ù…Ø³Ø§ÙˆØ§Ø©.",item1:"ØªØ£Ø«ÙŠØ± Ù…Ø¬ØªÙ…Ø¹ÙŠ Ù…Ø¨Ø§Ø´Ø±",item2:"Ø¯Ø¹Ù… Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©",item3:"Ù†ØªØ§Ø¦Ø¬ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù‚ÙŠØ§Ø³",item4:"Ø§Ù‚ØªØµØ§Ø¯ Ø¯Ø§Ø¦Ø±ÙŠ Ù…Ø³ØªØ¯Ø§Ù…"},footerContact:{title:"Ø§ØªØµÙ„ Ø¨Ù†Ø§",company:"BAK UP CIC",location:"Enterprise Centre, Warth Park, Raunds NN9 6GR",email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:",phone:"Ø§Ù„Ù‡Ø§ØªÙ:",hours:"Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„:",hoursText:"Ø§Ù„Ø§Ø«Ù†ÙŠÙ† - Ø§Ù„Ø¬Ù…Ø¹Ø©: 9 ØµØ¨Ø§Ø­Ø§Ù‹ - 5 Ù…Ø³Ø§Ø¡Ù‹"},copyright:"Â© 2024 BAK UP CIC. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©. | Ù…Ø®Ø·Ø· Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙÙŠ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±",charityNumber:"Ø±Ù‚Ù… ØªØ³Ø¬ÙŠÙ„ Ø´Ø±ÙƒØ© Ø§Ù„Ø®ÙŠØ±ÙŠØ©: 12994379"},pwa:{install:"ØªØ«Ø¨ÙŠØª BAK UP",addToHomeScreen:"Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",iosInstructions:"Ù„ØªØ«Ø¨ÙŠØª Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ iPhone Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:",androidInstructions:"Ù„ØªØ«Ø¨ÙŠØª Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Android Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:",iosStep1:"Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© â¬†ï¸ ÙÙŠ Ø£Ø³ÙÙ„ Safari",iosStep2:'Ù‚Ù… Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„ ÙˆØ§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" â•',iosStep3:'Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ©" ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© Ø§Ù„ÙŠÙ…Ù†Ù‰',iosNote:"ğŸ’¡ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø´Ø±ÙŠØ· Ø£Ø¯ÙˆØ§Øª SafariØŒ ÙˆÙ„ÙŠØ³ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©",androidStep1:'Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± "ØªØ«Ø¨ÙŠØª" Ø§Ù„Ø£Ø®Ø¶Ø± Ø£Ø¯Ù†Ø§Ù‡',androidStep2:'Ø³ÙŠØ³Ø£Ù„ Ù…Ø±Ø¨Ø¹ Ø­ÙˆØ§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… "Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ"',androidStep3:'Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ©" Ù„Ù„ØªØ£ÙƒÙŠØ¯',notNow:"Ù„ÙŠØ³ Ø§Ù„Ø¢Ù†",installButton:"ØªØ«Ø¨ÙŠØª",iphoneTab:"ğŸ iPhone",androidTab:"ğŸ¤– Android"}},Op={selectRole:"Ø§Ø®ØªØ± Ø¯ÙˆØ±Ùƒ",vendor:"Ø¨Ø§Ø¦Ø¹ Ø£ØºØ°ÙŠØ© / Ù…ØªØ¬Ø±",vcse:"Ù…Ù†Ø¸Ù…Ø© VCSE",recipient:"Ù…Ø³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©",vendorDesc:"ØªØ¨Ø±Ø¹ Ø¨Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶ ÙˆØ§Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",vcseDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„Ø¶Ø¹ÙŠÙØ©",recipientDesc:"ØªØµÙØ­ ÙˆØ§Ø³ØªØ±Ø¯Ø§Ø¯ Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø·Ø¹Ø§Ù…",loginTitle:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",noAccount:"Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ",registerHere:"Ø³Ø¬Ù„ Ù‡Ù†Ø§",forgotPassword:"Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ",name:"Ø§Ù„Ø§Ø³Ù…",organizationName:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",phoneNumber:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",register:"ØªØ³Ø¬ÙŠÙ„",alreadyHaveAccount:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ",loginHere:"Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§"},Np={title:"Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",balance:"Ø§Ù„Ø±ØµÙŠØ¯",status:"Ø§Ù„Ø­Ø§Ù„Ø©",active:"Ù†Ø´Ø·",used:"Ù…Ø³ØªØ®Ø¯Ù…",expired:"Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",redeemed:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",validUntil:"ØµØ§Ù„Ø­ Ø­ØªÙ‰",qrCode:"Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",showQR:"Ø¥Ø¸Ù‡Ø§Ø± Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",hideQR:"Ø¥Ø®ÙØ§Ø¡ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©"},zp={title:"ØªØµÙØ­ Ø§Ù„Ù…ØªØ§Ø­ Ù„Ù„Ø°Ù‡Ø§Ø¨",noItems:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø°Ù‡Ø§Ø¨ Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ",addToCart:"Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©",quantity:"Ø§Ù„ÙƒÙ…ÙŠØ©",available:"Ù…ØªØ§Ø­",category:"Ø§Ù„ÙØ¦Ø©",shop:"Ø§Ù„Ù…ØªØ¬Ø±",description:"Ø§Ù„ÙˆØµÙ",price:"Ø§Ù„Ø³Ø¹Ø±",per:"Ù„ÙƒÙ„"},Pp={title:"Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚",empty:"Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©",browseItems:"ØªØµÙØ­ Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø°Ù‡Ø§Ø¨",continueShopping:"Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚",viewVouchers:"Ø¹Ø±Ø¶ Ù‚Ø³Ø§Ø¦Ù…ÙŠ",nextSteps:"Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©",step1:"Ø±Ø§Ø¬Ø¹ Ø¹Ù†Ø§ØµØ± Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø£Ø¹Ù„Ø§Ù‡",step2:"Ù‚Ù… Ø¨Ø²ÙŠØ§Ø±Ø© Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±",step3:"Ø£Ø¸Ù‡Ø± Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ù‚Ø³ÙŠÙ…Ø© ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø´Ø±Ø§Ø¡",step4:"Ø³ÙŠØªÙ… Ø®ØµÙ… Ø±ØµÙŠØ¯ Ù‚Ø³ÙŠÙ…ØªÙƒ ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±",itemsInCart:"Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚:",quantityInCart:"Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ø³Ù„Ø©:",remove:"Ø¥Ø²Ø§Ù„Ø©"},Dp={noVouchersAvailable:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø³Ø§Ø¦Ù… Ù…ØªØ§Ø­Ø©",code:"Ø§Ù„Ø±Ù…Ø²:",status:"Ø§Ù„Ø­Ø§Ù„Ø©:",expires:"ØªÙ†ØªÙ‡ÙŠ:",expiry:"Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©:",issuedBy:"ØµØ§Ø¯Ø± Ø¹Ù†:",redeemed:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯:",redeemedOn:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙÙŠ:",redeemedAt:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙÙŠ:",printVoucher:"Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©",showQRCode:"Ø¥Ø¸Ù‡Ø§Ø± Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",scanToRedeem:"Ø§Ù…Ø³Ø­ Ù„Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",presentCode:"Ù‚Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± Ø£Ùˆ Ø§Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ø£Ø¯Ù†Ø§Ù‡",noShopsAvailable:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØªØ§Ø¬Ø± Ù…ØªØ§Ø­Ø©",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:",phone:"Ø§Ù„Ù‡Ø§ØªÙ:",availableToGo:"Ù…ØªØ§Ø­ Ù„Ù„Ø°Ù‡Ø§Ø¨:",available:"Ù…ØªØ§Ø­:",category:"Ø§Ù„ÙØ¦Ø©:",description:"Ø§Ù„ÙˆØµÙ:",freshReady:"Ø·Ø§Ø²Ø¬ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø¬Ù…Ø¹",addToCart:"Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©",useVoucher:"Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ø³ÙŠÙ…ØªÙƒ Ù„Ø´Ø±Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±",per:"Ù„ÙƒÙ„",at:"ÙÙŠ"},Fp={bakery:"Ù…Ø®Ø¨Ø²",fruits:"ÙÙˆØ§ÙƒÙ‡",vegetables:"Ø®Ø¶Ø±ÙˆØ§Øª",dairy:"Ø£Ù„Ø¨Ø§Ù†",meat:"Ù„Ø­ÙˆÙ…",cannedGoods:"Ù…Ø¹Ù„Ø¨Ø§Øª",freshProduce:"Ù…Ù†ØªØ¬Ø§Øª Ø·Ø§Ø²Ø¬Ø©",other:"Ø£Ø®Ø±Ù‰"},Mp={select:"Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©",en:"Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",ro:"Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©",pl:"Ø§Ù„Ø¨ÙˆÙ„Ù†Ø¯ÙŠØ©"},Lp={toGoPosted:"Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©",shopsRegistered:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø³Ø¬Ù„Ø©",redemptionHistory:"Ø³Ø¬Ù„ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",redeemVouchers:"Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",howToRedeem:"ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",step1:"Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙ„Ù… Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø£Ùˆ Ø§Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡",step2:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø£Ø¯Ù†Ø§Ù‡ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± Ø§Ù„Ù…Ø³Ø­",step3:"Ø§Ù†Ù‚Ø± ÙÙˆÙ‚ 'Ø§Ù„ØªØ­Ù‚Ù‚' Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© ÙˆÙ…Ø¹Ø±ÙØ© Ø§Ù„Ø±ØµÙŠØ¯",step4:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ù‡ (ÙŠØ¬Ø¨ Ø£Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² Ø±ØµÙŠØ¯ Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©)",step5:"Ø§Ù†Ù‚Ø± ÙÙˆÙ‚ 'Ø§Ø³ØªØ±Ø¯Ø§Ø¯' Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©",step6:"Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ù‚Ø³ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§",tip:"Ù†ØµÙŠØ­Ø©",tipText:"ØªØ­Ù‚Ù‚ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ù‚Ø¨Ù„ Ù‚Ø¨ÙˆÙ„Ù‡Ø§ ÙƒØ¯ÙØ¹Ø©",enterVoucherCode:"Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©",scanQRCode:"Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",validate:"Ø§Ù„ØªØ­Ù‚Ù‚",redeem:"Ø§Ø³ØªØ±Ø¯Ø§Ø¯",validVoucher:"Ù‚Ø³ÙŠÙ…Ø© ØµØ§Ù„Ø­Ø©",code:"Ø§Ù„Ø±Ù…Ø²",recipient:"Ø§Ù„Ù…Ø³ØªÙ„Ù…",phone:"Ø§Ù„Ù‡Ø§ØªÙ",expires:"ØªÙ†ØªÙ‡ÙŠ",shopName:"Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",cityCounty:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©/Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø©",postcode:"Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ",edit:"ØªØ¹Ø¯ÙŠÙ„",delete:"Ø­Ø°Ù",save:"Ø­ÙØ¸",cancel:"Ø¥Ù„ØºØ§Ø¡",yourShops:"Ù…ØªØ§Ø¬Ø±Ùƒ",noShopYet:"Ù„Ù… ØªÙ‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ù…ØªØ§Ø¬Ø± Ø¨Ø¹Ø¯",createShopProfile:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØ¬Ø±",searchByCodeOrRecipient:"Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø±Ù…Ø² Ø£Ùˆ Ø§Ù„Ù…Ø³ØªÙ„Ù…",allRedemptions:"Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯",today:"Ø§Ù„ÙŠÙˆÙ…",thisWeek:"Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹",thisMonth:"Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±",redemptionHistoryComingSoon:"Ø³Ø¬Ù„ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù‚Ø±ÙŠØ¨Ù‹Ø§",redemptionHistoryDescription:"ØªØªØ¨Ø¹ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ù‡Ù†Ø§"},Vp={generateReport:"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±",downloadPDF:"ØªÙ†Ø²ÙŠÙ„ PDF",downloadExcel:"ØªÙ†Ø²ÙŠÙ„ Excel",dateRange:"Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ§Ø±ÙŠØ®",from:"Ù…Ù†",to:"Ø¥Ù„Ù‰",reportType:"Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±",voucherActivity:"Ù†Ø´Ø§Ø· Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",financialSummary:"Ù…Ù„Ø®Øµ Ù…Ø§Ù„ÙŠ",impactReport:"ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø«ÙŠØ±",reports:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",generate:"Ø¥Ù†Ø´Ø§Ø¡",export:"ØªØµØ¯ÙŠØ±",download:"ØªÙ†Ø²ÙŠÙ„",view:"Ø¹Ø±Ø¶"},Wp={previous:"Ø§Ù„Ø³Ø§Ø¨Ù‚",next:"Ø§Ù„ØªØ§Ù„ÙŠ",page:"ØµÙØ­Ø©",of:"Ù…Ù†",showing:"Ø¹Ø±Ø¶",to:"Ø¥Ù„Ù‰",entries:"Ø¥Ø¯Ø®Ø§Ù„Ø§Øª",totalItems:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ±"},Up={requestPayout:"Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙØ¹",payoutHistory:"Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª",requestPayment:"Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙØ¹Ø©",amount:"Ø§Ù„Ù…Ø¨Ù„Øº",bankDetails:"Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙÙŠØ©",bankName:"Ø§Ø³Ù… Ø§Ù„Ø¨Ù†Ùƒ",accountNumber:"Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨",sortCode:"Ø±Ù…Ø² Ø§Ù„ÙØ±Ø²",accountHolderName:"Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨",notes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",submitRequest:"Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨",status:"Ø§Ù„Ø­Ø§Ù„Ø©",pending:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",approved:"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡",rejected:"Ù…Ø±ÙÙˆØ¶",paid:"Ù…Ø¯ÙÙˆØ¹",requestedAt:"ØªÙ… Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ",reviewedAt:"ØªÙ…Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙÙŠ",paidAt:"ØªÙ… Ø§Ù„Ø¯ÙØ¹ ÙÙŠ",adminNotes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",noPayoutRequests:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¯ÙØ¹ Ø¨Ø¹Ø¯",payoutRequests:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹",managePayout:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª",approve:"Ù…ÙˆØ§ÙÙ‚Ø©",reject:"Ø±ÙØ¶",markAsPaid:"ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ù…Ø¯ÙÙˆØ¹",vendorName:"Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹",shopName:"Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±",totalPending:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",totalApproved:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡",totalPaid:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹",filterByStatus:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©",allStatuses:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª",payoutRequestSubmitted:"ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­",payoutApproved:"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­",payoutRejected:"ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­",payoutMarkedPaid:"ØªÙ… ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ù…Ø¯ÙÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­",confirmApprove:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙØ¹ØŸ",confirmReject:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ÙØ¶ Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙØ¹ØŸ",confirmMarkPaid:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ù…Ø¯ÙÙˆØ¹ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙØ¹ØŸ"},Hp={portal:"Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©/Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",supportingFamilies:"Ø¯Ø¹Ù… Ø§Ù„Ø£Ø³Ø± Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ©",description:"Ø¨ØµÙØªÙƒ Ù…Ø¯Ø±Ø³Ø© Ø£Ùˆ Ù…Ù†Ø¸Ù…Ø© Ø±Ø¹Ø§ÙŠØ©ØŒ ØªÙ„Ø¹Ø¨ Ø¯ÙˆØ±Ù‹Ø§ Ø­ÙŠÙˆÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„Ù…Ù…Ø«Ù„Ø© ØªÙ…Ø«ÙŠÙ„Ø§Ù‹ Ù†Ø§Ù‚ØµÙ‹Ø§ ÙˆØ¯Ø¹Ù…Ù‡Ø§."},Gp={portal:"Ø¨ÙˆØ§Ø¨Ø© Ù…Ù†Ø¸Ù…Ø© VCSE",description:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… ÙˆØ¯Ø¹Ù… Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ø¶Ø¹ÙŠÙØ© ÙÙŠ Ù…Ø¬ØªÙ…Ø¹Ùƒ",totalValueDistributed:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…ÙˆØ²Ø¹Ø©"},qp={management:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©",currentBalance:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…Ø­ÙØ¸Ø©",totalCredits:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯Ø§Øª",totalDebits:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†ÙŠÙ†",vouchersIssued:"Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„ØµØ§Ø¯Ø±Ø©",addFunds:"Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø©",fundsAdded:"Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø©",spentOnVouchers:"Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…ØµØ±ÙˆÙØ© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",availableForIssuance:"Ù…ØªØ§Ø­ Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©",paymentReference:"Ù…Ø±Ø¬Ø¹ Ø§Ù„Ø¯ÙØ¹",description:"Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",addNotes:"Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©"},Xp={overview:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©",issueVouchers:"Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",voucherHistory:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",foodToGo:"Ø£Ø·Ø¹Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø£Ø®Ø°",walletManagement:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©",loadFunds:"ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",voucherOrders:"Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",reports:"ØªÙ‚Ø§Ø±ÙŠØ±",myShops:"Ù…ØªØ§Ø¬Ø±ÙŠ",surplusFood:"Ø§Ù„ÙØ§Ø¦Ø¶ Ù…Ù† Ø§Ù„Ø·Ø¹Ø§Ù…",settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",recipientsVouchers:"Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙˆÙ† ÙˆØ§Ù„Ù‚Ø³Ø§Ø¦Ù…",discountedItems:"Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®ÙØ¶Ø©"},Yp={addFunds:"Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø©",issueVoucher:"Ø¥ØµØ¯Ø§Ø± Ù‚Ø³ÙŠÙ…Ø©",orderForClient:"Ø·Ù„Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„",continueToPayment:"Ù…ØªØ§Ø¨Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹",exportToExcel:"ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Ø¥ÙƒØ³Ù„",downloadPDF:"ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù PDF",changePassword:"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",logout:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",save:"Ø­ÙØ¸",cancel:"Ø¥Ù„ØºØ§Ø¡",submit:"Ø¥Ø±Ø³Ø§Ù„",back:"Ø§Ù„Ø¹ÙˆØ¯Ø©"},Kp={amount:"Ø§Ù„Ù…Ø¨Ù„Øº (Â£)",firstName:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„",lastName:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±",email:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",phone:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",city:"Ù…Ø¯ÙŠÙ†Ø©",cityOptional:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„Ø¨Ù„Ø¯Ø§Øª)",postcode:"Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ",county:"Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø©",enterAmount:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº",leaveEmptyForTown:"Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³Ø¬Ù„ ÙÙŠ Ø¨Ù„Ø¯Ø©"},$p={date:"ØªØ§Ø±ÙŠØ®",type:"Ø§ÙƒØªØ¨",description:"Ø§Ù„ÙˆØµÙ",amount:"Ø§Ù„Ù…Ø¨Ù„Øº",balanceAfter:"Ø§Ù„Ø±ØµÙŠØ¯ Ø¨Ø¹Ø¯",status:"Ø§Ù„Ø­Ø§Ù„Ø©",code:"Ø±Ù…Ø²",recipient:"Ø§Ù„Ù…Ø³ØªÙ„Ù…",shop:"Ù…ØªØ¬Ø±",category:"Ø§Ù„ÙØ¦Ø©",available:"Ù…ØªØ§Ø­",expiry:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡"},Zp={shop:"Ù…ØªØ¬Ø±:",category:"Ø§Ù„ÙØ¦Ø©:",available:"Ù…ØªØ§Ø­:",expiry:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡:",description:"Ø§Ù„ÙˆØµÙ:"},Qp={foodToGoOrderTitle:"Ø§Ù„Ø£Ø·Ø¹Ù…Ø© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø°Ù‡Ø§Ø¨ - Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡",foodToGoOrderDesc:"ØªØµÙØ­ Ø£ØµÙ†Ø§Ù Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø¬Ø§Ù‡Ø² Ø§Ù„Ù…ØªÙˆÙØ±Ø© Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ø·Ù„Ø¨Ù‡Ø§ Ù†ÙŠØ§Ø¨Ø©Ù‹ Ø¹Ù† Ø¹Ù…Ù„Ø§Ø¦Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ ØªÙ‚Ø¯ÙŠÙ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ù….",transactionHistory:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",issueVoucherTitle:"Ø¥ØµØ¯Ø§Ø± Ù‚Ø³ÙŠÙ…Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©"},Jp={active:"Ù†Ø´Ø·",redeemed:"Ù…ØºÙ’ÙÙˆØ±",expired:"Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",completed:"Ù…ÙƒØªÙ…Ù„",pending:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",credit:"Ø§Ø¦ØªÙ…Ø§Ù†",debit:"Ù…Ø¯ÙŠÙ†"},ef={fundsAddedSuccess:"ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯:",voucherIssuedSuccess:"ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© Ø¨Ù†Ø¬Ø§Ø­!",vouchersIssuedSuccess:"ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:",insufficientBalance:"Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ",fillAllFields:"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",invalidAmount:"Ù…Ø¨Ù„Øº ØºÙŠØ± ØµØ§Ù„Ø­",noTransactionsYet:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†. Ø£Ø¶Ù Ø£Ù…ÙˆØ§Ù„Ø§Ù‹ Ù„Ù„Ø¨Ø¯Ø¡!",totalValue:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©"},tf={title:"Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ BAK UP",userTypeLabel:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",userTypes:{recipient:"Ù…Ø³ØªÙÙŠØ¯",vendor:"Ù…ØªØ¬Ø± Ø£ØºØ°ÙŠØ© Ù…Ø­Ù„ÙŠ",vcse:"Ù…Ù†Ø¸Ù…Ø© VCSE",school:"Ù…Ø¯Ø±Ø³Ø© / Ù…Ù†Ø¸Ù…Ø© Ø±Ø¹Ø§ÙŠØ©"},firstNameLabel:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„",lastNameLabel:"Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©",emailLabel:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",phoneLabel:"Ø§Ù„Ù‡Ø§ØªÙ",passwordLabel:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",confirmPasswordLabel:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",passwordMismatch:"ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©",organizationNameLabel:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",charityNumberLabel:"Ø±Ù‚Ù… Ù„Ø¬Ù†Ø© Ø§Ù„Ø®ÙŠØ±ÙŠØ©",charityNumberPlaceholder:"Ù…Ø«Ø§Ù„: 1234567",charityWarning:"Ø³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„Ùƒ Ù…Ù‚Ø§Ø¨Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¬Ù†Ø© Ø§Ù„Ø®ÙŠØ±ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©.",schoolNameLabel:"Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© / Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",shopNameLabel:"Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±",shopCategoryLabel:"ÙØ¦Ø© Ø§Ù„Ù…ØªØ¬Ø±",shopCategories:{grocery:"Ù…ØªØ¬Ø± Ø¨Ù‚Ø§Ù„Ø©",supermarket:"Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª",convenience:"Ù…ØªØ¬Ø± ØµØºÙŠØ±",butcher:"Ø¬Ø²Ø§Ø±",bakery:"Ù…Ø®Ø¨Ø²",halal:"Ù…ØªØ¬Ø± Ø­Ù„Ø§Ù„",asian:"Ø¨Ù‚Ø§Ù„Ø© Ø¢Ø³ÙŠÙˆÙŠØ©",african:"Ù…ØªØ¬Ø± Ø£ÙØ±ÙŠÙ‚ÙŠ / ÙƒØ§Ø±ÙŠØ¨ÙŠ",other:"Ø£Ø®Ø±Ù‰"},addressLabel:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",postcodeLabel:"Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ",cityLabel:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",townLabel:"Ø§Ù„Ø¨Ù„Ø¯Ø©",townPlaceholder:"Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³Ø¬Ù„ ÙÙŠ Ø¨Ù„Ø¯Ø©",registerButton:"ØªØ³Ø¬ÙŠÙ„",registering:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...",haveAccount:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ",signInLink:"Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§",backToHome:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",registrationSuccess:"ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.",registrationFailed:"ÙØ´Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„"},nf={totalSales:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª",welcomeTitle:"Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ù…Ø¬ØªÙ…Ø¹ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±",welcomeThank:"Ø´ÙƒØ±Ù‹Ø§ Ù„Ø§Ù†Ø¶Ù…Ø§Ù…Ùƒ Ø¥Ù„Ù‰ BAK UP CIC ÙƒÙ…ØªØ¬Ø± Ø£Ùˆ Ø¨Ø§Ø¦Ø¹ Ù…Ø´Ø§Ø±Ùƒ! Ø£Ù†Øª Ø´Ø±ÙŠÙƒ Ø­ÙŠÙˆÙŠ ÙÙŠ Ù†Ù‡Ø¬Ù†Ø§ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠ Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„ØªÙŠ ØªÙˆØ§Ø¬Ù‡ Ø§Ù„Ù…Ø´Ù‚Ø©.",welcomeDignity:"Ù…Ù† Ø®Ù„Ø§Ù„ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©ØŒ ÙØ¥Ù†Ùƒ ØªÙˆÙØ± Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„ÙƒØ±Ø§Ù…Ø© ÙˆØ§Ù„Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø¶Ø±ÙˆØ±ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø«Ù‚Ø§ÙÙŠÙ‹Ø§. ÙˆÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ù†ÙØ³Ù‡ØŒ ØªØ³ØªÙÙŠØ¯ Ù…Ù† Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ù‚Ø¨Ø§Ù„ ÙˆØ§Ù„Ø¯Ø¹Ù… Ù„Ø¹Ù…Ù„Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ.",welcomeCircular:"ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù†ÙØ§ÙŠØ§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ø¥Ø®Ø·Ø§Ø±Ù†Ø§ Ø¨Ø´Ø£Ù† Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø³Ù„Ø¹ Ø§Ù„ÙØ§Ø¦Ø¶Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ²ÙŠØ¹Ù‡Ø§ØŒ Ù…Ù…Ø§ ÙŠØ¹Ø²Ø² Ø§Ù‚ØªØµØ§Ø¯Ù†Ø§ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ."},rf={title:"Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",cameraActive:"Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù†Ø´Ø·Ø©",positionQR:"Ø¶Ø¹ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±",initializing:"Ø¬Ø§Ø±Ù ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§...",tryAgain:"Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",useManualEntryRecommended:"Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ (Ù…ÙˆØµÙ‰ Ø¨Ù‡)",errorPermissionBlocked:"ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§",errorNoCamera:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙƒØ§Ù…ÙŠØ±Ø§ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø²",errorCameraInUse:"Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù† Ù‚Ø¨Ù„ ØªØ·Ø¨ÙŠÙ‚ Ø¢Ø®Ø±",errorFailed:"ÙØ´Ù„ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§."},of={title:"Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ù…Ø¬ØªÙ…Ø¹ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±",paragraph1:"Ø´ÙƒØ±Ù‹Ø§ Ù„Ø´Ø±Ø§ÙƒØªÙƒ Ù…Ø¹ BAK UP CIC Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ÙˆØ§Ù„Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø°ÙŠÙ† ÙŠÙˆØ§Ø¬Ù‡ÙˆÙ† Ø§Ù„Ù…Ø´Ù‚Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ù†ÙˆØ±Ø«Ø§Ù…Ø¨ØªÙˆÙ†Ø´Ø§ÙŠØ±. Ø¨ØµÙØªÙƒ Ù…Ù†Ø¸Ù…Ø© VCFSEØŒ ÙØ¥Ù†Ùƒ ÙÙŠ ØµÙ…ÙŠÙ… Ù†Ù‡Ø¬Ù†Ø§ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠ Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù†Ø¹Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ù† Ø§Ù„ØºØ°Ø§Ø¦ÙŠ.",paragraph2:"ÙŠØ³ØªØ¨Ø¯Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø³Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ø¯ÙŠÙ†Ø§ Ø·Ø±ÙˆØ¯ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ø¯Ø¹Ù… Ù…Ø±Ù† ÙˆÙƒØ±ÙŠÙ… ÙŠØ­ØªØ±Ù… Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ© ÙˆÙŠÙ…Ù†Ø­ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø®ÙŠØ§Ø±Ù‹Ø§ Ø­Ù‚ÙŠÙ‚ÙŠÙ‹Ø§. ÙƒÙ„ Ù‚Ø³ÙŠÙ…Ø© ØªØµØ¯Ø±Ù‡Ø§ ØªØ³Ø§Ø¹Ø¯ ÙÙŠ ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ø¯Ø¹Ù… Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†.",paragraph3:"Ù…Ø¹Ù‹Ø§ØŒ Ù†Ø­Ù† Ù†Ø¨Ù†ÙŠ Ù…Ø¬ØªÙ…Ø¹Ù‹Ø§ Ø£ÙƒØ«Ø± Ø´Ù…ÙˆÙ„Ù‹Ø§ ÙˆØ§Ø³ØªØ¯Ø§Ù…Ø© ÙˆÙ…Ø±ÙˆÙ†Ø© ÙŠÙ…ÙƒÙ† Ù„Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø²Ø¯Ù‡Ø§Ø± ÙÙŠÙ‡."},sf={on:"Ø§Ù„ØµÙˆØª Ù…ÙØ¹Ù„",off:"Ø§Ù„ØµÙˆØª Ù…Ø¹Ø·Ù„"},af={title:"Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®ÙØ¶Ø© - Ø´Ø±Ø§Ø¡ Ù„Ù„ØªÙˆØ²ÙŠØ¹",description:"ÙŠÙ…ÙƒÙ† Ø´Ø±Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®ÙØ¶Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…ÙˆØ§Ù„Ùƒ Ø§Ù„Ù…Ø®ØµØµØ© ÙˆØªÙˆØ²ÙŠØ¹Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ÙÙŠ Ù…Ø¬ØªÙ…Ø¹Ùƒ.",badge:"Ù…Ø®ÙØ¶",save:"ÙˆÙØ±",per:"Ù„ÙƒÙ„",was:"ÙƒØ§Ù†",off:"Ø®ØµÙ…",available:"Ù…ØªØ§Ø­",category:"Ø§Ù„ÙØ¦Ø©",freshAndReady:"Ø·Ø§Ø²Ø¬ ÙˆØ¬Ø§Ù‡Ø²",contactShop:"Ø§ØªØµÙ„ Ø¨Ø§Ù„Ù…ØªØ¬Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ø´Ø±Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…ÙˆØ§Ù„Ùƒ Ø§Ù„Ù…Ø®ØµØµØ©"},lf={title:"Ø³Ø¬Ù„ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…",version:"Ø§Ù„Ø¥ØµØ¯Ø§Ø±",lastUpdated:"Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«",totalChanges:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª",bugFixes:"Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡",i18nUpdates:"ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ØªØ±Ø¬Ù…Ø©",uiEnhancements:"ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©",filterByCategory:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©",filterByPriority:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©",allCategories:"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª",allPriorities:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª",showing:"Ø¹Ø±Ø¶",of:"Ù…Ù†",changes:"ØªØºÙŠÙŠØ±Ø§Øª",noChangesMatch:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØºÙŠÙŠØ±Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ",details:"Ø§Ù„ØªÙØ§ØµÙŠÙ„",impact:"Ø§Ù„ØªØ£Ø«ÙŠØ±",components:"Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª",userTypes:"Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",categories:{bugFix:"Ø¥ØµÙ„Ø§Ø­ Ø®Ø·Ø£",feature:"Ù…ÙŠØ²Ø© Ø¬Ø¯ÙŠØ¯Ø©",internationalization:"Ø§Ù„ØªØ±Ø¬Ù…Ø©",uiEnhancement:"ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©",configuration:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",security:"Ø§Ù„Ø£Ù…Ø§Ù†",deployment:"Ø§Ù„Ù†Ø´Ø±"},priorities:{critical:"Ø­Ø±Ø¬",high:"Ø¹Ø§Ù„ÙŠ",medium:"Ù…ØªÙˆØ³Ø·",low:"Ù…Ù†Ø®ÙØ¶"}},cf={globalSearch:{title:"Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ",description:"Ø§Ø¨Ø­Ø« Ø¹Ø¨Ø± Ù…Ù†Ø¸Ù…Ø§Øª VCFSEØŒ ÙˆØ§Ù„Ù…Ø¯Ø§Ø±Ø³/Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©ØŒ ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ø§Ù„Ù…Ø¹Ø±ÙØŒ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„.",placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¨Ø­Ø«...",searchButton:"Ø¨Ø­Ø«",searching:"Ø¬Ø§Ø±Ù Ø§Ù„Ø¨Ø­Ø«...",resultsCount:"Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« (ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ {{count}})",vcseOrgs:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",schools:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³/Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",shops:"Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©",name:"Ø§Ù„Ø§Ø³Ù…",email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",city:"Ù…Ø¯ÙŠÙ†Ø©",charityNumber:"Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®ÙŠØ±ÙŠ #",balance:"Ø§Ù„Ø±ØµÙŠØ¯",phone:"Ù‡Ø§ØªÙ",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",noResults:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬"},fundAllocation:{title:"ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",allocateFunds:"ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",organizationType:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",vcseOrganization:"Ù…Ù†Ø¸Ù…Ø© VCFSE",schoolOrganization:"Ø§Ù„Ù…Ø¯Ø±Ø³Ø©/Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",selectOrganization:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",selectOrgPlaceholder:"-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø¸Ù…Ø© --",currentBalance:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ",amount:"Ø§Ù„Ù…Ø¨Ù„Øº (Â£)",amountPlaceholder:"0.00",newBalance:"Ù†ÙŠÙˆ Ø¨Ø§Ù„Ø§Ù†Ø³",notes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª",notesPlaceholder:"Ø£Ø¶Ù Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„ØªØ®ØµÙŠØµ...",allocateButton:"ØªØ®ØµÙŠØµ Ø§Ù„Ø£Ù…ÙˆØ§Ù„",allocating:"Ø¬Ø§Ø±Ù Ø§Ù„ØªØ®ØµÙŠØµ...",allocationHistory:"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ®ØµÙŠØµ",noHistory:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª ØªØ®ØµÙŠØµ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†",date:"Ø§Ù„ØªØ§Ø±ÙŠØ®",organization:"Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",allocated:"Ù…Ø®ØµØµ",by:"Ø¨ÙˆØ§Ø³Ø·Ø©"},transactions:{title:"Ø¨Ø­Ø« Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",description:"Ø§Ø¨Ø­Ø« ÙˆÙ‚Ù… Ø¨ØªØµÙÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù…",searchPlaceholder:"Ø§Ù„Ø¨Ø­Ø« Ø¨ÙˆØ§Ø³Ø·Ø© Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©ØŒ Ø§Ù„Ù…Ø³ØªÙ„Ù…ØŒ Ø§Ù„Ø¨Ø§Ø¦Ø¹...",filterByType:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹",allTypes:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",redemption:"Ø§Ù„ÙØ¯Ø§Ø¡",allocation:"Ø§Ù„ØªØ®ØµÙŠØµ",transfer:"Ù†Ù‚Ù„",filterByDate:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®",from:"Ù…Ù†",to:"Ø¥Ù„Ù‰",searchButton:"Ø¨Ø­Ø«",searching:"Ø¬Ø§Ø±Ù Ø§Ù„Ø¨Ø­Ø«...",resultsCount:"ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ {{count}} Ù…Ø¹Ø§Ù…Ù„Ø©",date:"Ø§Ù„ØªØ§Ø±ÙŠØ®",type:"Ø§ÙƒØªØ¨",amount:"Ø§Ù„Ù…Ø¨Ù„Øº",voucher:"Ù‚Ø³ÙŠÙ…Ø©",status:"Ø§Ù„Ø­Ø§Ù„Ø©",noResults:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ù…Ù„Ø§Øª"},broadcast:{title:"Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨Ø«",description:"Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø£Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",selectRecipients:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†",allUsers:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",vcseOnly:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE ÙÙ‚Ø·",schoolsOnly:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³/Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© ÙÙ‚Ø·",recipientsOnly:"Ù„Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ† ÙÙ‚Ø·",vendorsOnly:"Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙˆÙ†/Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙ‚Ø·",messageTitle:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©",titlePlaceholder:"Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©...",messageContent:"Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",contentPlaceholder:"Ø£Ø¯Ø®Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",sendButton:"Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±",sending:"Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...",preview:"Ù…Ø¹Ø§ÙŠÙ†Ø©",recipientCount:"Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ {{count}} Ù…Ø³ØªØ®Ø¯Ù…Ù‹Ø§"}},df={title:"Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† VCFSE",pending:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",active:"Ù†Ø´Ø·",rejected:"Ù…Ø±ÙÙˆØ¶",total:"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ",pending_verifications:"Ø§Ù„ØªØ­Ù‚Ù‚Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",no_pending:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ù‚Ù‚Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",organization:"Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",contact:"Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„",charity_number:"Ø±Ù‚Ù… Ø§Ù„Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø®ÙŠØ±ÙŠØ©",submitted:"ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„",actions:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª",approve:"âœ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©",reject:"âŒ Ø§Ù„Ø±ÙØ¶",reject_vcfse:"Ø±ÙØ¶ VCFSE",rejection_reason:"Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶",confirm_rejection:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±ÙØ¶",default_rejection_reason:"Ø±Ù‚Ù… Ù„Ø¬Ù†Ø© Ø§Ù„Ø¬Ù…Ø¹ÙŠØ§Øª Ø§Ù„Ø®ÙŠØ±ÙŠØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©",confirm_approve:`Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ {{name}}ØŸ

Ø³ÙŠÙ…Ù†Ø­Ù‡Ù… Ù‡Ø°Ø§ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙˆØ§Ø¨Ø© VCFSE.`,approved_success:"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ {{name}}! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¥Ù„Ù‰ {{email}}",rejected_success:"ØªÙ… Ø±ÙØ¶ {{name}}. ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±.",provide_reason:"ÙŠØ±Ø¬Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø³Ø¨Ø¨ Ù„Ù„Ø±ÙØ¶",error_loading:"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù‚Ù‚Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",error_loading_stats:"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",error_approving:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ VCFSE",error_rejecting:"Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¶ VCFSE"},hf={vcfse_organizations:"Ù…Ù†Ø¸Ù…Ø§Øª VCFSE",organization:"Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",contact:"Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„",email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",phone:"Ø§Ù„Ù‡Ø§ØªÙ",address:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"},uf={recipients:"Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙˆÙ†",recipient:"Ø§Ù„Ù…Ø³ØªÙ„Ù…",name:"Ø§Ù„Ø§Ø³Ù…",email:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",vouchers:"Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",balance:"Ø§Ù„Ø±ØµÙŠØ¯"},pf={voucher_management:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ø§Ø¦Ù…",voucher:"Ù‚Ø³ÙŠÙ…Ø©",code:"Ø§Ù„Ø±Ù…Ø²",value:"Ø§Ù„Ù‚ÙŠÙ…Ø©",status:"Ø§Ù„Ø­Ø§Ù„Ø©",assign:"ØªØ¹ÙŠÙŠÙ†",unassign:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹ÙŠÙŠÙ†"},ff={schools:"Ø§Ù„Ù…Ø¯Ø§Ø±Ø³",care_organizations:"Ù…Ù†Ø¸Ù…Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",school:"Ø§Ù„Ù…Ø¯Ø±Ø³Ø©",organization:"Ø§Ù„Ù…Ù†Ø¸Ù…Ø©",students:"Ø§Ù„Ø·Ù„Ø§Ø¨"},gf={local_shops:"Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©",vendor:"Ø§Ù„Ø¨Ø§Ø¦Ø¹",shop:"Ø§Ù„Ù…ØªØ¬Ø±",location:"Ø§Ù„Ù…ÙˆÙ‚Ø¹",products:"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª"},xf={all_to_go:"Ø§Ù„ÙƒÙ„ Ù„Ù„Ø°Ù‡Ø§Ø¨",surplus_food:"Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙØ§Ø¦Ø¶",available:"Ù…ØªØ§Ø­",collected:"ØªÙ… Ø§Ù„Ø¬Ù…Ø¹"},mf={manage_payouts:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª",payout:"Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª",amount:"Ø§Ù„Ù…Ø¨Ù„Øº",date:"Ø§Ù„ØªØ§Ø±ÙŠØ®",status:"Ø§Ù„Ø­Ø§Ù„Ø©",process:"Ù…Ø¹Ø§Ù„Ø¬Ø©"},yf={analytics:"Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª",statistics:"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",charts:"Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©",reports:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",data:"Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"},bf={settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",configuration:"Ø§Ù„ØªÙƒÙˆÙŠÙ†",preferences:"Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª",account:"Ø§Ù„Ø­Ø³Ø§Ø¨",system:"Ø§Ù„Ù†Ø¸Ø§Ù…"},wf={app:jp,common:_p,alerts:Ep,prompts:kp,login:Tp,admin:Rp,dashboard:Ip,landing:Bp,auth:Op,voucher:Np,toGo:zp,cart:Pp,recipient:Dp,categories:Fp,language:Mp,shop:Lp,reports:Vp,pagination:Wp,payout:Up,school:Hp,vcse:Gp,wallet:qp,tabs:Xp,buttons:Yp,forms:Kp,table:$p,product:Zp,pages:Qp,status:Jp,messages:ef,register:tf,vendor:nf,qrScanner:rf,vcseWelcome:of,sound:sf,discount:af,changelog:lf,adminEnhancements:cf,vcfseVerification:df,vcfseOrgs:hf,recipients:uf,vouchers:pf,schools:ff,vendors:gf,allToGo:xf,payouts:mf,analytics:yf,settings:bf},vf={title:"Sistemul de Vouchere Electronice BAK UP",tagline:"ConectÃ¢nd alimentele excedentare cu cei care au cea mai mare nevoie"},Cf={email:"Email",password:"ParolÄƒ",signIn:"Autentificare",signOut:"Deconectare",cancel:"Anulare",save:"Salvare",delete:"È˜tergere",edit:"Editare",add:"AdÄƒugare",remove:"Eliminare",close:"Ãnchidere",search:"CÄƒutare",filter:"Filtrare",loading:"Se Ã®ncarcÄƒ...",error:"Eroare",success:"Succes",confirm:"Confirmare",back:"Ãnapoi",next:"UrmÄƒtorul",submit:"Trimite",welcome:"Bun venit",changeLanguage:"SchimbÄƒ Limba",enterEmail:"IntroduceÈ›i adresa de email",enterPassword:"IntroduceÈ›i parola",enterAdminPassword:"IntroduceÈ›i parola de administrator",enterNewPassword:"IntroduceÈ›i parola nouÄƒ",confirmNewPassword:"ConfirmaÈ›i parola nouÄƒ",enterNewPasswordOptional:"IntroduceÈ›i parola nouÄƒ (lÄƒsaÈ›i necompletat pentru a pÄƒstra cea curentÄƒ)",firstNamePlaceholder:"John",lastNamePlaceholder:"Doe",emailPlaceholder:"john.doe@email.com",phonePlaceholder:"+44 7700 900000",charityNamePlaceholder:"IntroduceÈ›i denumirea EXACTÄ‚ a organizaÈ›iei caritabile Ã®nregistrate",charityNumberPlaceholder:"de ex., 1234567",schoolNamePlaceholder:"IntroduceÈ›i numele È™colii sau organizaÈ›iei",shopNamePlaceholder:"IntroduceÈ›i numele magazinului dvs.",addressPlaceholder:"123 Strada PrincipalÄƒ",postcodePlaceholder:"NN8 1AA",searchPlaceholder:"CÄƒutaÈ›i dupÄƒ cod, destinatar...",confirmDelete:"SunteÈ›i sigur cÄƒ doriÈ›i sÄƒ È™tergeÈ›i {{name}}?",confirmDeactivate:"SunteÈ›i sigur cÄƒ doriÈ›i sÄƒ dezactivaÈ›i acest cont de destinatar?",confirmDeleteShop:"SunteÈ›i sigur cÄƒ doriÈ›i sÄƒ È™tergeÈ›i â€{{name}}â€?",errorDeleting:"Eroare la È™tergere",errorLoading:"Eroare la Ã®ncÄƒrcare",na:"N/A"},Sf={title:"Autentificare Ã®n BAK UP",emailLabel:"AdresÄƒ de Email",emailPlaceholder:"IntroduceÈ›i adresa de email",passwordLabel:"ParolÄƒ",passwordPlaceholder:"IntroduceÈ›i parola",signInButton:"Autentificare",signingIn:"Se autentificÄƒ...",noAccount:"Nu aveÈ›i un cont?",registerLink:"ÃnregistraÈ›i-vÄƒ aici",forgotPassword:"AÈ›i uitat parola?",backToHome:"Ãnapoi la PaginÄƒ PrincipalÄƒ",aboutTitle:"Despre BAK UP CIC",aboutText:"BAK UP CIC conduce Schema de Vouchere Electronice Comunitare Northamptonshire, oferind sprijin demn familiilor prin vouchere flexibile care respectÄƒ preferinÈ›ele culturale È™i Ã®ntÄƒresc economiile locale.",loginFailed:"Autentificare eÈ™uatÄƒ. VÄƒ rugÄƒm sÄƒ Ã®ncercaÈ›i din nou."},Af={fundAllocation:"Alocarea fondurilor",organizationType:"Tipul OrganizaÈ›iei",selectVCSE:"SelectaÈ›i OrganizaÈ›ia VCSE",amount:"SumÄƒ (Â£)",notes:"Note (OpÈ›ional)",allocateFunds:"AlocaÈ›i Fonduri",vcseOrganizations:"OrganizaÈ›ii VCSE",allocatedBalance:"Sold Alocat",chooseOrganization:"AlegeÈ›i o organizaÈ›ie VCSE...",vcseOrganization:"OrganizaÈ›ie VCSE",schoolOrganization:"È˜coalÄƒ / OrganizaÈ›ie de Ãngrijire",selectSchool:"SelectaÈ›i È˜coala / OrganizaÈ›ia de Ãngrijire",organizationName:"Numele OrganizaÈ›iei",email:"Email",charityNumber:"NumÄƒr Comisie de Caritate",save:"SalveazÄƒ",cancel:"AnuleazÄƒ",edit:"EditeazÄƒ",delete:"È˜terge",allVouchers:"Toate Voucherele",noVouchers:"Nu s-au gÄƒsit vouchere",localShops:"Magazine Locale cu To Gos",noShops:"Nu s-au gÄƒsit magazine locale",schoolsOrganizations:"È˜coli È™i OrganizaÈ›ii de Ãngrijire",noSchools:"Nu sunt Ã®ncÄƒ Ã®nregistrate È™coli / organizaÈ›ii de Ã®ngrijire",editSchool:"EditeazÄƒ È˜coala",firstName:"Prenume",lastName:"Nume",phone:"Telefon",address:"AdresÄƒ",city:"OraÈ™",postcode:"Cod PoÈ™tal",resetPassword:"ReseteazÄƒ Parola (OpÈ›ional)",noToGoItems:"Nu s-au gÄƒsit articole to go",changePassword:"SchimbÄƒ-È›i Parola",currentPassword:"Parola CurentÄƒ",newPassword:"ParolÄƒ NouÄƒ",confirmPassword:"ConfirmaÈ›i Parola NouÄƒ",createAdmin:"CreaÈ›i Administrator Nou",createAdminAccount:"CreaÈ›i Cont de Administrator Nou",password:"ParolÄƒ",adminAccounts:"Conturi de Administrator",noAdmins:"Nu s-au gÄƒsit conturi de administrator",name:"Nume",created:"Creat",lastLogin:"Ultima Autentificare",logins:"AutentificÄƒri",actions:"AcÈ›iuni",currentUser:"Utilizator Curent",loginStatistics:"Statistici de Autentificare Utilizatori",searchRecipients:"CÄƒutare beneficiari",searchPlaceholder:"CÄƒutare dupÄƒ nume, email sau telefon...",sortBy:"Sortare dupÄƒ",sortName:"Nume (A-Z)",sortEmail:"Email (A-Z)",sortVouchers:"Cele mai multe vouchere",sortValue:"Valoare maximÄƒ",sortRecent:"Cele mai recente",totalVouchers:"Total vouchere",active:"Activ",redeemed:"RÄƒscumpÄƒrat",activeValue:"Valoare activÄƒ",globalSearch:"CÄƒutare globalÄƒ",transactions:"TranzacÈ›ii",broadcast:"Difuzare",vcfseVerification:"Verificare VCFSE",vcfseOrganisations:"OrganizaÈ›ii VCFSE",recipients:"Beneficiari",analytics:"AnalizÄƒ",reports:"Rapoarte",dashboardOverview:"Prezentare generalÄƒ panou admin"},jf={welcome:"Bun venit",overview:"Prezentare GeneralÄƒ",myVouchers:"Voucherele Mele",browseToGo:"RÄƒsfoieÈ™te To Go",shoppingCart:"CoÈ™ de CumpÄƒrÄƒturi",profile:"Profil",settings:"SetÄƒri",activeBalance:"Sold Activ",activeVouchers:"Active",redeemed:"RÄƒscumpÄƒrate",emptyCart:"CoÈ™ul tÄƒu este gol",noToGoItems:"Nu existÄƒ articole to go disponibile momentan",redeemVouchers:"RÄƒscumpÄƒrÄƒ Vouchere",toGo:"To Go",issueVouchers:"Emite Vouchere",participatingShops:"Magazine Participante",voucherHistory:"Istoric Vouchere",searchByCode:"CÄƒutare dupÄƒ cod...",allVouchers:"Toate Voucherele",redeemedVouchers:"RÄƒscumpÄƒrate",expiredVouchers:"Expirate",noVouchersFound:"Nu s-au gÄƒsit vouchere",tabs:{overview:"Prezentare GeneralÄƒ",voucherManagement:"Gestionare Vouchere",voucherOrders:"Comenzi Vouchere",reports:"Rapoarte",issueVouchers:"Emite Vouchere",toGo:"To Go",localShops:"Magazine Locale",allToGo:"Toate To Go",settings:"SetÄƒri",myShops:"Magazinele Mele",surplusFood:"Alimente Excedentare",myVouchers:"Voucherele Mele",redeemVoucher:"RÄƒscumpÄƒrÄƒ Voucher",schoolsOrgs:"È˜coli/Org. de Ãngrijire"},buttons:{changePassword:"SchimbÄƒ Parola",manageAdmins:"GestioneazÄƒ Administratori",loginStatistics:"Statistici Autentificare"},headings:{settings:"SetÄƒri",localShopsWithToGo:"Magazine Locale cu To Go",allToGoItems:"Toate Articolele To Go"},searchVouchers:"CÄƒutare vouchere",statusFilter:"Filtru stare",clearFilters:"È˜terge filtre",totalVouchers:"Total vouchere",activeValue:"Valoare activÄƒ",vcfseOrgs:"OrganizaÈ›ii VCFSE",recipients:"Beneficiari",localShops:"Magazine locale"},_f={hero:{title:"Sistemul de Vouchere Electronice BAK UP",subtitle:"ConectÃ¢nd vÃ¢nzÄƒtorii de alimente, organizaÈ›iile VCFSE È™i familiile vulnerabile printr-o soluÈ›ie digitalÄƒ unificatÄƒ",getStarted:"Ãncepe",signIn:"Autentificare"},features:{communities:{title:"Sprijinirea ComunitÄƒÈ›ilor",description:"Vouchere digitale pentru alimente care promoveazÄƒ demnitatea È™i alegerea pentru familiile vulnerabile"},vcse:{title:"Parteneriat VCSE",description:"OrganizaÈ›iile caritabile pot finanÈ›a È™i gestiona eficient distribuÈ›ia voucherelor"},vendors:{title:"ReÈ›ea de VÃ¢nzÄƒtori",description:"Magazinele locale se alÄƒturÄƒ reÈ›elei pentru a accepta vouchere È™i a-È™i sprijini comunitatea"},surplus:{title:"Partajarea Alimentelor Excedentare",description:"VÃ¢nzÄƒtorii pot posta articole alimentare excedentare pentru familii la preÈ›uri reduse È™i alimente excedentare gratuite pentru partenerii VCFSE pentru a sprijini familiile pe care le servesc, reducÃ¢nd risipa alimentarÄƒ"}},whoWeServe:{title:"Pe Cine Servim",recipients:{title:"Indivizi È™i Familii",item1:"PrimiÈ›i vouchere digitale pentru alimente cu demnitate",item2:"AlegeÈ›i ce aveÈ›i nevoie de la vÃ¢nzÄƒtorii locali",item3:"Alimente To Go la reducere - CumpÄƒraÈ›i alimente reduse de la vÃ¢nzÄƒtorii participanÈ›i",item4:"UrmÄƒriÈ›i cu uÈ™urinÈ›Äƒ soldul voucherului"},vendors:{title:"VÃ¢nzÄƒtori/Magazine Locale",item1:"AcceptaÈ›i vouchere digitale fÄƒrÄƒ probleme",item2:"PostaÈ›i articole alimentare reduse pentru beneficiari",item3:"PostaÈ›i alimente excedentare gratuite pentru colectarea VCSE",item4:"SprijiniÈ›i comunitatea localÄƒ",item5:"GestionaÈ›i mai multe locaÈ›ii de magazine"},vcse:{title:"OrganizaÈ›ii VCFSE",item1:"EmiteÈ›i È™i gestionaÈ›i vouchere eficient",item2:"FinanÈ›aÈ›i familii digital",item3:"ColectaÈ›i alimente excedentare gratuite pentru a le distribui familiilor pe care le serviÈ›i",item4:"UrmÄƒriÈ›i utilizarea È™i impactul",item5:"GeneraÈ›i rapoarte detaliate"},schools:{title:"È˜coli È™i OrganizaÈ›ii de Ãngrijire",item1:"PrimiÈ›i e-vouchere de la BAK UP pentru a sprijini familiile",item2:"DistribuiÈ›i vouchere familiilor din comunitÄƒÈ›ile subreprezentate",item3:"UrmÄƒriÈ›i distribuÈ›ia voucherelor È™i impactul",item4:"SprijiniÈ›i elevii È™i familiile prin instituÈ›ii de Ã®ncredere",item5:"GeneraÈ›i rapoarte pentru responsabilitate"},admins:{title:"Pentru Administratori",item1:"SupravegheaÈ›i Ã®ntreaga platformÄƒ",item2:"GestionaÈ›i utilizatorii È™i rolurile",item3:"MonitorizaÈ›i programele de reducere È™i alimente excedentare",item4:"GeneraÈ›i rapoarte cuprinzÄƒtoare",item5:"AsiguraÈ›i integritatea sistemului"}},cta:{title:"Gata sÄƒ Faci o DiferenÈ›Äƒ?",subtitle:"AlÄƒturÄƒ-te platformei noastre comunitare astÄƒzi",button:"CreeazÄƒ Cont"},footer:{adminAccess:"Acces Administrator"},about:{sectionTitle:"Despre Schema de Vouchere Electronice Comunitare Northamptonshire",mission:{title:"DeclaraÈ›ia de Misiune",text:"SÄƒ creÄƒm comunitÄƒÈ›i incluzive, reziliente È™i Ã®mputernicite prin abordarea cauzelor fundamentale ale dificultÄƒÈ›ilor È™i inegalitÄƒÈ›ii prin parteneriat, compasiune È™i inovaÈ›ie condusÄƒ de comunitate."},vision:{title:"Viziunea NoastrÄƒ",text:"O societate mai echitabilÄƒ, mai sÄƒnÄƒtoasÄƒ È™i mai conectatÄƒ Ã®n care toatÄƒ lumea are oportunitatea de a-È™i atinge Ã®ntregul potenÈ›ial."},values:{title:"Valorile Noastre",compassion:"Compasiune",compassionDesc:"Ne pasÄƒ profund de oameni È™i poveÈ™tile lor.",equity:"Echitate",equityDesc:"SusÈ›inem corectitudinea È™i incluziunea pentru toÈ›i.",empowerment:"Ãmputernicire",empowermentDesc:"Investim Ã®n oameni pentru a deveni agenÈ›i ai schimbÄƒrii.",collaboration:"Colaborare",collaborationDesc:"Construim parteneriate care Ã®ntÄƒresc impactul colectiv.",integrity:"Integritate",integrityDesc:"Suntem responsabili, transparenÈ›i È™i centraÈ›i pe comunitate Ã®n tot ce facem."},bakup:{title:"Despre BAK UP CIC",paragraph1:"BAK UP CIC este mÃ¢ndrÄƒ sÄƒ conducÄƒ Schema de Vouchere Electronice Comunitare Northamptonshire, o soluÈ›ie inovatoare, condusÄƒ de comunitate, care asigurÄƒ cÄƒ familiile È™i indivizii care se confruntÄƒ cu dificultÄƒÈ›i pot accesa bunuri È™i servicii esenÈ›iale adecvate din punct de vedere cultural cu demnitate, flexibilitate È™i corectitudine.",paragraph2:"Modelul nostru de Voucher Electronic Ã®nlocuieÈ™te pachetele alimentare tradiÈ›ionale cu vouchere digitale, bazate pe text È™i pe hÃ¢rtie care pot fi rÄƒscumpÄƒrate la magazine locale participante, pieÈ›e È™i furnizori comunitari. AceastÄƒ abordare nu numai cÄƒ sprijinÄƒ gospodÄƒriile Ã®n crizÄƒ, dar reinvesteÈ™te È™i cheltuielile Ã®napoi Ã®n economia localÄƒ, Ã®ntÄƒrind afacerile mici È™i reÈ›elele comunitare."},keyAreas:{title:"Domenii Cheie de Lucru",foodSecurity:"Securitate AlimentarÄƒ È™i Sprijin pentru GospodÄƒrii",foodSecurityDesc:"Servicii mobile de alimente, scheme de Vouchere Electronice, furnizare de bunuri albe È™i parteneriate cu comercianÈ›ii locali pentru a asigura cÄƒ familiile pot accesa alimente adecvate din punct de vedere cultural È™i nutritive.",youthEmpowerment:"Ãmputernicirea Tinerilor",youthEmpowermentDesc:"Prin Ambasadorii Tineri din East Northamptonshire (EYA) È™i alte programe de leadership, echipÄƒm tinerii cu Ã®ncrederea, abilitÄƒÈ›ile È™i vocea pentru a deveni factori de schimbare pozitivÄƒ Ã®n comunitÄƒÈ›ile lor.",healthWellbeing:"SÄƒnÄƒtate È™i BunÄƒstare",healthWellbeingDesc:"IntervenÈ›ii bazate pe comunitate care abordeazÄƒ inegalitÄƒÈ›ile Ã®n sÄƒnÄƒtate, singurÄƒtatea È™i izolarea socialÄƒ, promovÃ¢nd Ã®n acelaÈ™i timp activitatea fizicÄƒ, conÈ™tientizarea sÄƒnÄƒtÄƒÈ›ii mentale È™i relaÈ›iile de Ã®ncredere cu adulÈ›ii.",socialDeterminants:"DeterminanÈ›i Sociali ai SÄƒnÄƒtÄƒÈ›ii",socialDeterminantsDesc:"O abordare holisticÄƒ pentru Ã®mbunÄƒtÄƒÈ›irea accesului la educaÈ›ie, ocuparea forÈ›ei de muncÄƒ È™i asistenÈ›Äƒ medicalÄƒ, Ã®mputernicind oamenii sÄƒ prospere mai degrabÄƒ decÃ¢t sÄƒ supravieÈ›uiascÄƒ.",communityCohesion:"Coeziune ComunitarÄƒ È™i Patrimoniu Cultural",communityCohesionDesc:"SÄƒrbÄƒtorirea diversitÄƒÈ›ii prin iniÈ›iative precum Celebrarea GeneraÈ›iei Windrush, proiecte de povestire È™i evenimente comunitare intergeneraÈ›ionale care onoreazÄƒ identitatea È™i apartenenÈ›a."},circular:{title:"Crearea unei Economii Comunitare Circulare È™i Durabile",paragraph1:"Schema de Vouchere Electronice creeazÄƒ, de asemenea, o oportunitate unicÄƒ pentru magazinele È™i comercianÈ›ii locali de a juca un rol activ Ã®n reducerea deÈ™eurilor È™i promovarea durabilitÄƒÈ›ii.",paragraph2:"Punctele de vÃ¢nzare participante vor putea notifica BAK UP CIC È™i organizaÈ›iile caritabile partenere despre alimentele excedentare È™i bunurile esenÈ›iale, permiÈ›Ã¢nd colectarea È™i redistribuirea acestor articole cÄƒtre familiile nevoiaÈ™e, mai degrabÄƒ decÃ¢t sÄƒ fie irosite. Acest sistem simplu, dar puternic, Ã®ntÄƒreÈ™te economia circularÄƒ localÄƒ - asigurÃ¢nd cÄƒ resursele valoroase sunt utilizate eficient, impactul asupra mediului este redus È™i comunitÄƒÈ›ile devin mai reziliente, durabile È™i auto-susÈ›inÄƒtoare."},funders:{title:"De Ce Ar Trebui FinaÈ›atorii sÄƒ InvesteascÄƒ",text:"FinanÈ›area Schemei de Vouchere Electronice Ã®nseamnÄƒ investiÈ›ia Ã®ntr-o abordare mai inteligentÄƒ, mai echitabilÄƒ È™i mai ecologicÄƒ pentru combaterea sÄƒrÄƒciei È™i inegalitÄƒÈ›ii. Fiecare lirÄƒ beneficiazÄƒ direct atÃ¢t gospodÄƒriile care se confruntÄƒ cu dificultÄƒÈ›i, cÃ¢t È™i afacerile mici locale, creÃ¢nd un ciclu pozitiv de bogÄƒÈ›ie comunitare È™i bunÄƒstare."},joinScheme:"AlÄƒturaÈ›i-vÄƒ Schemei AstÄƒzi",footerAbout:{title:"Despre Noi",description:"BAK UP CIC conduce Schema de Vouchere Electronice Comunitare Northamptonshire, oferind sprijin demn familiilor È™i Ã®ntÄƒrind economiile locale.",learnMore:"AflÄƒ Mai Multe"},footerFunders:{title:"Pentru FinanÈ›atori",description:"InvestiÈ›i Ã®ntr-o abordare mai inteligentÄƒ È™i mai echitabilÄƒ pentru combaterea sÄƒrÄƒciei È™i inegalitÄƒÈ›ii.",item1:"Impact comunitar direct",item2:"Sprijin pentru afacerile locale",item3:"Rezultate mÄƒsurabile",item4:"Economie circularÄƒ durabilÄƒ"},footerContact:{title:"ContactaÈ›i-ne",company:"BAK UP CIC",location:"Enterprise Centre, Warth Park, Raunds NN9 6GR",email:"Email:",phone:"Telefon:",hours:"Program:",hoursText:"Luni - Vineri: 9:00 - 17:00"},copyright:"Â© 2024 BAK UP CIC. Toate drepturile rezervate. | Schema de Vouchere Electronice Comunitare Northamptonshire",charityNumber:"NumÄƒr de Ãnregistrare a Companiei Caritabile: 12994379"},pwa:{install:"InstaleazÄƒ BAK UP",addToHomeScreen:"AdaugÄƒ pe Ecranul Principal",iosInstructions:"Pentru a instala aceastÄƒ aplicaÈ›ie pe iPhone-ul dvs.:",androidInstructions:"Pentru a instala aceastÄƒ aplicaÈ›ie pe Android-ul dvs.:",iosStep1:"ApÄƒsaÈ›i butonul de Partajare â¬†ï¸ din partea de jos a Safari",iosStep2:'DerulaÈ›i Ã®n jos È™i apÄƒsaÈ›i "AdÄƒugaÈ›i pe ecranul principal" â•',iosStep3:'ApÄƒsaÈ›i "AdÄƒugaÈ›i" Ã®n colÈ›ul din dreapta sus',iosNote:"ğŸ’¡ Butonul de Partajare este Ã®n bara de instrumente Safari, nu Ã®n acest pop-up",androidStep1:'ApÄƒsaÈ›i butonul verde "Instalare" de mai jos',androidStep2:'Un dialog de sistem va Ã®ntreba "AdÄƒugaÈ›i pe ecranul principal?"',androidStep3:'ApÄƒsaÈ›i "AdÄƒugaÈ›i" pentru a confirma',notNow:"Nu Acum",installButton:"Instalare",iphoneTab:"ğŸ iPhone",androidTab:"ğŸ¤– Android"}},Ef={selectRole:"SelectaÈ›i Rolul Dvs.",vendor:"VÃ¢nzÄƒtor de Alimente / Magazin",vcse:"OrganizaÈ›ie VCSE",recipient:"Beneficiar de Voucher",vendorDesc:"DonaÈ›i alimente excedentare È™i acceptaÈ›i vouchere",vcseDesc:"GestionaÈ›i vouchere pentru familii vulnerabile",recipientDesc:"RÄƒsfoiÈ›i È™i rÄƒscumpÄƒraÈ›i vouchere pentru alimente",loginTitle:"Autentificare",noAccount:"Nu aveÈ›i un cont?",registerHere:"ÃnregistraÈ›i-vÄƒ aici",forgotPassword:"AÈ›i uitat parola?",name:"Nume",organizationName:"Numele OrganizaÈ›iei",phoneNumber:"NumÄƒr de Telefon",register:"Ãnregistrare",alreadyHaveAccount:"AveÈ›i deja un cont?",loginHere:"AutentificaÈ›i-vÄƒ aici"},kf={title:"Vouchere",balance:"Sold",status:"Stare",active:"Activ",used:"Folosit",expired:"Expirat",redeemed:"RÄƒscumpÄƒrat",validUntil:"Valid PÃ¢nÄƒ La",qrCode:"Cod QR",showQR:"AratÄƒ Cod QR",hideQR:"Ascunde Cod QR"},Tf={title:"RÄƒsfoieÈ™te To Go Disponibil",noItems:"Nu existÄƒ articole to go disponibile momentan",addToCart:"AdaugÄƒ Ã®n CoÈ™",quantity:"Cantitate",available:"disponibil",category:"Categorie",shop:"Magazin",description:"Descriere",price:"PreÈ›",per:"pe"},Rf={title:"CoÈ™ de CumpÄƒrÄƒturi",empty:"CoÈ™ul tÄƒu este gol",browseItems:"RÄƒsfoieÈ™te Articole To Go",continueShopping:"ContinuÄƒ CumpÄƒrÄƒturile",viewVouchers:"Vezi Voucherele Mele",nextSteps:"PaÈ™ii UrmÄƒtori",step1:"RevizuieÈ™te articolele din coÈ™ de mai sus",step2:"ViziteazÄƒ locaÈ›iile magazinului pentru a colecta articolele",step3:"AratÄƒ codul QR al voucherului la magazin pentru a finaliza achiziÈ›ia",step4:"Soldul voucherului tÄƒu va fi dedus la magazin",itemsInCart:"Articole Ã®n coÈ™ul tÄƒu:",quantityInCart:"Cantitate Ã®n coÈ™:",remove:"EliminÄƒ"},If={noVouchersAvailable:"Nu existÄƒ vouchere disponibile",code:"Cod:",status:"Stare:",expires:"ExpirÄƒ:",expiry:"Expirare:",issuedBy:"Emis de:",redeemed:"RÄƒscumpÄƒrat:",redeemedOn:"RÄƒscumpÄƒrat La:",redeemedAt:"RÄƒscumpÄƒrat La:",printVoucher:"TipÄƒreÈ™te Voucher",showQRCode:"AratÄƒ Cod QR",scanToRedeem:"ScaneazÄƒ pentru RÄƒscumpÄƒrare",presentCode:"PrezintÄƒ acest cod la magazin sau scaneazÄƒ codul QR de mai jos",noShopsAvailable:"Nu existÄƒ magazine disponibile",address:"AdresÄƒ:",phone:"Telefon:",availableToGo:"Disponibil To Go:",available:"Disponibil:",category:"Categorie:",description:"Descriere:",freshReady:"ProaspÄƒt È™i gata de colectare",addToCart:"AdaugÄƒ Ã®n CoÈ™",useVoucher:"FoloseÈ™te voucherul tÄƒu pentru a cumpÄƒra acest articol la magazin",per:"pe",at:"la"},Bf={itemAddedToCart:"Articol adÄƒugat Ã®n coÈ™ cu succes!",failedToAddToCart:"EÈ™ec la adÄƒugarea articolului Ã®n coÈ™:",itemRemoved:"Articol eliminat din coÈ™",failedToRemove:"EÈ™ec la eliminarea articolului:"},Of={bakery:"BrutÄƒrie",fruits:"Fructe",vegetables:"Legume",dairy:"Lactate",meat:"Carne",cannedGoods:"Conserve",freshProduce:"Produse Proaspete",other:"Altele"},Nf={select:"SelectaÈ›i Limba",en:"EnglezÄƒ",ar:"ArabÄƒ",ro:"RomÃ¢nÄƒ",pl:"PolonezÄƒ"},zf={toGoPosted:"Articole de MÃ¢ncare Postate",shopsRegistered:"Magazine Ãnregistrate",redemptionHistory:"Istoric RÄƒscumpÄƒrÄƒri",redeemVouchers:"RÄƒscumpÄƒrare Vouchere",howToRedeem:"Cum sÄƒ RÄƒscumpÄƒraÈ›i",step1:"CereÈ›i beneficiarului codul voucherului sau scanaÈ›i codul QR",step2:"IntroduceÈ›i codul Ã®n cÃ¢mpul de mai jos sau folosiÈ›i butonul de scanare",step3:"ApÄƒsaÈ›i 'ValideazÄƒ' pentru a verifica dacÄƒ voucherul este valid È™i pentru a vedea soldul",step4:"IntroduceÈ›i suma de rÄƒscumpÄƒrat (nu trebuie sÄƒ depÄƒÈ™eascÄƒ soldul voucherului)",step5:"ApÄƒsaÈ›i 'RÄƒscumpÄƒrÄƒ' pentru a finaliza tranzacÈ›ia",step6:"Soldul voucherului beneficiarului va fi actualizat automat",tip:"Sfat",tipText:"ValidaÈ›i Ã®ntotdeauna voucherul Ã®nainte de a-l accepta ca platÄƒ",enterVoucherCode:"IntroduceÈ›i Codul Voucherului",scanQRCode:"ScaneazÄƒ Cod QR",validate:"ValideazÄƒ",redeem:"RÄƒscumpÄƒrÄƒ",validVoucher:"Voucher Valid",code:"Cod",recipient:"Beneficiar",phone:"Telefon",expires:"ExpirÄƒ",shopName:"Nume Magazin",address:"AdresÄƒ",cityCounty:"OraÈ™/JudeÈ›",postcode:"Cod PoÈ™tal",edit:"EditeazÄƒ",delete:"È˜terge",save:"SalveazÄƒ",cancel:"AnuleazÄƒ",yourShops:"Magazinele Tale",noShopYet:"Nu aÈ›i Ã®nregistrat Ã®ncÄƒ niciun magazin",createShopProfile:"CreeazÄƒ Profil Magazin",searchByCodeOrRecipient:"CÄƒutaÈ›i dupÄƒ cod sau beneficiar",allRedemptions:"Toate RÄƒscumpÄƒrÄƒrile",today:"AstÄƒzi",thisWeek:"AceastÄƒ SÄƒptÄƒmÃ¢nÄƒ",thisMonth:"AceastÄƒ LunÄƒ",redemptionHistoryComingSoon:"Istoric RÄƒscumpÄƒrÄƒri Ãn CurÃ¢nd",redemptionHistoryDescription:"UrmÄƒriÈ›i toate rÄƒscumpÄƒrÄƒrile de vouchere aici"},Pf={title:"ScaneazÄƒ codul QR",cameraActive:"Camera activÄƒ",positionQR:"PoziÈ›ioneazÄƒ codul QR Ã®n cadru",initializing:"IniÈ›ializare camerÄƒ...",tryAgain:"ÃncearcÄƒ din nou",useManualEntryRecommended:"FoloseÈ™te introducerea manualÄƒ Ã®n schimb (Recomandat)",errorPermissionBlocked:"Acces la camerÄƒ eÈ™uat",errorNoCamera:"Nu s-a gÄƒsit nicio camerÄƒ pe acest dispozitiv",errorCameraInUse:"Camera este utilizatÄƒ de o altÄƒ aplicaÈ›ie",errorFailed:"Pornirea camerei a eÈ™uat."},Df={generateReport:"GenereazÄƒ Raport",downloadPDF:"DescarcÄƒ PDF",downloadExcel:"DescarcÄƒ Excel",dateRange:"Interval de Date",from:"De la",to:"PÃ¢nÄƒ la",reportType:"Tip Raport",voucherActivity:"Activitate Vouchere",financialSummary:"Rezumat Financiar",impactReport:"Raport de Impact",reports:"Rapoarte",generate:"GenereazÄƒ",export:"ExportÄƒ",download:"DescarcÄƒ",view:"VizualizeazÄƒ"},Ff={previous:"Anterior",next:"UrmÄƒtor",page:"Pagina",of:"din",showing:"AfiÈ™are",to:"pÃ¢nÄƒ la",entries:"intrÄƒri",totalItems:"total articole"},Mf={requestPayout:"Solicitare PlatÄƒ",payoutHistory:"Istoric PlÄƒÈ›i",requestPayment:"SolicitÄƒ Plata",amount:"SumÄƒ",bankDetails:"Detalii Bancare",bankName:"Nume BancÄƒ",accountNumber:"NumÄƒr Cont",sortCode:"Cod Sortare",accountHolderName:"Nume Titular Cont",notes:"Note (OpÈ›ional)",submitRequest:"Trimite Cererea",status:"Status",pending:"Ãn AÈ™teptare",approved:"Aprobat",rejected:"Respins",paid:"PlÄƒtit",requestedAt:"Solicitat La",reviewedAt:"Revizuit La",paidAt:"PlÄƒtit La",adminNotes:"Note Admin",noPayoutRequests:"Nicio cerere de platÄƒ Ã®ncÄƒ",payoutRequests:"Cereri de PlatÄƒ",managePayout:"Gestionare PlÄƒÈ›i",approve:"AprobÄƒ",reject:"Respinge",markAsPaid:"MarcheazÄƒ ca PlÄƒtit",vendorName:"Nume VÃ¢nzÄƒtor",shopName:"Nume Magazin",totalPending:"Total Ãn AÈ™teptare",totalApproved:"Total Aprobat",totalPaid:"Total PlÄƒtit",filterByStatus:"Filtrare dupÄƒ Status",allStatuses:"Toate Statusurile",payoutRequestSubmitted:"Cererea de platÄƒ a fost trimisÄƒ cu succes",payoutApproved:"Plata a fost aprobatÄƒ cu succes",payoutRejected:"Plata a fost respinsÄƒ cu succes",payoutMarkedPaid:"Plata a fost marcatÄƒ ca plÄƒtitÄƒ cu succes",confirmApprove:"Sigur doriÈ›i sÄƒ aprobaÈ›i aceastÄƒ platÄƒ?",confirmReject:"Sigur doriÈ›i sÄƒ respingeÈ›i aceastÄƒ platÄƒ?",confirmMarkPaid:"Sigur doriÈ›i sÄƒ marcaÈ›i aceastÄƒ platÄƒ ca plÄƒtitÄƒ?"},Lf={portal:"Portalul È˜colii/OrganizaÈ›iei de Ãngrijire",supportingFamilies:"Sprijinirea familiilor prin educaÈ›ie È™i Ã®ngrijire",description:"Ca È™coalÄƒ sau organizaÈ›ie de Ã®ngrijire, jucaÈ›i un rol vital Ã®n identificarea È™i sprijinirea familiilor din comunitÄƒÈ›i subreprezentate."},Vf={portal:"Portalul OrganizaÈ›iei VCSE",description:"GestioneazÄƒ voucherele È™i sprijinÄƒ familiile vulnerabile din comunitatea ta",totalValueDistributed:"Valoare totalÄƒ distribuitÄƒ"},Wf={management:"Gestionarea Portofelului",currentBalance:"Soldul curent al portofelului",totalCredits:"Total Credite",totalDebits:"Totalul debitelor",vouchersIssued:"Vouchere emise",addFunds:"AdaugÄƒ fonduri Ã®n portofel",fundsAdded:"Fonduri adÄƒugate Ã®n portofel",spentOnVouchers:"Cheltuit pe vouchere",availableForIssuance:"Disponibil pentru emiterea voucherului",paymentReference:"ReferinÈ›Äƒ platÄƒ",description:"Descriere (OpÈ›ional)",addNotes:"AdaugÄƒ notiÈ›e despre aceastÄƒ tranzacÈ›ie"},Uf={overview:"Prezentare generalÄƒ",issueVouchers:"Eliberare cupoane",voucherHistory:"Istoricul voucherelor",foodToGo:"Produse Alimentare Pentru A Lua La Pachet",walletManagement:"Gestionarea portofelului",loadFunds:"ÃncarcÄƒ fonduri",voucherOrders:"Comenzi cu voucher",reports:"Rapoarte",myShops:"Magazinele Mele",surplusFood:"Alimente Ã®n exces",settings:"SetÄƒri",recipientsVouchers:"Beneficiari È™i Vouchere",discountedItems:"Articole Reduse"},Hf={addFunds:"AdaugÄƒ fonduri Ã®n portofel",issueVoucher:"Emite bon valoric",orderForClient:"ComandÄƒ pentru client",continueToPayment:"ContinuÄƒ cÄƒtre Plata",exportToExcel:"ExportÄƒ Ã®n Excel",downloadPDF:"DescarcÄƒ PDF",changePassword:"SchimbÄƒ parola",logout:"Deconectare",save:"SalveazÄƒ",cancel:"AnuleazÄƒ",submit:"TrimiteÈ›i",back:"Ãnapoi"},Gf={amount:"SumÄƒ (Â£)",firstName:"Prenume",lastName:"Nume de familie",email:"AdresÄƒ de email",phone:"NumÄƒr de telefon",address:"AdresÄƒ",city:"OraÈ™",cityOptional:"OraÈ™ (OpÈ›ional pentru localitÄƒÈ›i)",postcode:"Cod poÈ™tal",county:"JudeÈ›",enterAmount:"IntroduceÈ›i suma",leaveEmptyForTown:"LÄƒsaÈ›i necompletat dacÄƒ vÄƒ Ã®nregistraÈ›i Ã®ntr-un oraÈ™"},qf={date:"DatÄƒ",type:"Tip",description:"Descriere",amount:"SumÄƒ",balanceAfter:"Sold rÄƒmas",status:"Stare",code:"Cod",recipient:"Destinatar",shop:"Magazin",category:"Categorie",available:"Disponibil",expiry:"Data de expirare"},Xf={shop:"Magazin:",category:"Categorie:",available:"Disponibil:",expiry:"Expirare:",description:"Descriere:"},Yf={foodToGoOrderTitle:"Produse alimentare disponibile pentru a lua - ComandÄƒ pentru clienÈ›i",foodToGoOrderDesc:"RÄƒsfoieÈ™te articolele Food to Go disponibile Ã®n magazinele locale È™i comandÄƒ-le Ã®n numele clienÈ›ilor tÄƒi, furnizÃ¢nd detaliile lor de contact.",transactionHistory:"Istoric TranzacÈ›ii",issueVoucherTitle:"EmiteÈ›i un e-voucher pentru familie"},Kf={active:"Activ",redeemed:"RÄƒscumpÄƒrat",expired:"Expirat",completed:"Finalizat",pending:"Ãn aÈ™teptare",credit:"CREDIT",debit:"DEBIT"},$f={fundsAddedSuccess:"Fonduri adÄƒugate cu succes! Sold nou:",voucherIssuedSuccess:"Voucher emis cu succes!",vouchersIssuedSuccess:"vouchere emise cu succes! Total:",insufficientBalance:"Sold insuficient",fillAllFields:"VÄƒ rugÄƒm sÄƒ completaÈ›i toate cÃ¢mpurile obligatorii",invalidAmount:"SumÄƒ nevalidÄƒ",noTransactionsYet:"ÃncÄƒ nu existÄƒ tranzacÈ›ii. AdaugÄƒ fonduri pentru a Ã®ncepe!",totalValue:"valoare totalÄƒ"},Zf={title:"Ãnregistrare pentru BAK UP",userTypeLabel:"Tipul Utilizatorului",userTypes:{recipient:"Beneficiar",vendor:"Magazin Alimentar Local",vcse:"OrganizaÈ›ie VCSE",school:"È˜coalÄƒ / OrganizaÈ›ie de Ãngrijire"},firstNameLabel:"Prenume",lastNameLabel:"Nume",emailLabel:"Email",phoneLabel:"Telefon",passwordLabel:"ParolÄƒ",confirmPasswordLabel:"ConfirmÄƒ Parola",passwordMismatch:"Parolele nu se potrivesc",organizationNameLabel:"Numele OrganizaÈ›iei",charityNumberLabel:"NumÄƒr Comisie de Caritate",charityNumberPlaceholder:"ex., 1234567",charityWarning:"Ãnregistrarea dvs. va fi verificatÄƒ Ã®n baza de date a Comisiei de Caritate Ã®nainte de aprobare.",schoolNameLabel:"Numele È˜colii / OrganizaÈ›iei",shopNameLabel:"Numele Magazinului",shopCategoryLabel:"Categoria Magazinului",shopCategories:{grocery:"Magazin Alimentar",supermarket:"Supermarket",convenience:"Magazin de Cartier",butcher:"MÄƒcelÄƒrie",bakery:"BrutÄƒrie",halal:"Magazin Halal",asian:"Magazin Asiatic",african:"Magazin African/Caraibe",other:"Altele"},addressLabel:"AdresÄƒ",postcodeLabel:"Cod PoÈ™tal",cityLabel:"OraÈ™",townLabel:"Localitate",townPlaceholder:"LÄƒsaÈ›i gol dacÄƒ vÄƒ Ã®nregistraÈ›i Ã®ntr-o localitate",registerButton:"Ãnregistrare",registering:"Se Ã®nregistreazÄƒ...",haveAccount:"AveÈ›i deja un cont?",signInLink:"AutentificaÈ›i-vÄƒ aici",backToHome:"Ãnapoi la PaginÄƒ PrincipalÄƒ",registrationSuccess:"Ãnregistrare reuÈ™itÄƒ! VÄƒ rugÄƒm sÄƒ vÄƒ autentificaÈ›i.",registrationFailed:"Ãnregistrare eÈ™uatÄƒ"},Qf={totalSales:"VÃ¢nzÄƒri totale",welcomeTitle:"Bun venit la Schema de Vouchere Electronice a ComunitÄƒÈ›ii Northamptonshire",welcomeThank:"VÄƒ mulÈ›umim cÄƒ v-aÈ›i alÄƒturat BAK UP CIC ca magazin sau vÃ¢nzÄƒtor participant! SunteÈ›i un partener vital Ã®n abordarea noastrÄƒ comunitarÄƒ pentru sprijinirea familiilor care se confruntÄƒ cu dificultÄƒÈ›i.",welcomeDignity:"Prin acceptarea voucherelor electronice, oferiÈ›i familiilor demnitate, alegere È™i acces la alimente È™i produse de bazÄƒ adecvate din punct de vedere cultural. Ãn acelaÈ™i timp, beneficiaÈ›i de creÈ™terea traficului È™i sprijin pentru afacerea dvs. localÄƒ.",welcomeCircular:"De asemenea, puteÈ›i ajuta la reducerea deÈ™eurilor prin notificarea noastrÄƒ despre alimentele È™i bunurile excedentare pentru redistribuire, consolidÃ¢nd economia noastrÄƒ circularÄƒ."},Jf={title:"Bun venit la Schema de Vouchere Electronice a ComunitÄƒÈ›ii Northamptonshire",paragraph1:"VÄƒ mulÈ›umim pentru parteneriatul cu BAK UP CIC pentru a sprijini familiile È™i persoanele care se confruntÄƒ cu dificultÄƒÈ›i Ã®n Northamptonshire. Ca organizaÈ›ie VCFSE, vÄƒ aflaÈ›i Ã®n centrul abordÄƒrii noastre comunitare pentru combaterea insecuritÄƒÈ›ii alimentare.",paragraph2:"Sistemul nostru de vouchere electronice Ã®nlocuieÈ™te pachetele alimentare tradiÈ›ionale cu sprijin flexibil È™i demn care respectÄƒ preferinÈ›ele culturale È™i oferÄƒ familiilor o alegere realÄƒ. Fiecare voucher pe care Ã®l emiteÈ›i ajutÄƒ la consolidarea economiilor locale prin sprijinirea magazinelor È™i comercianÈ›ilor participanÈ›i.",paragraph3:"ÃmpreunÄƒ, construim o comunitate mai incluzivÄƒ, durabilÄƒ È™i rezistentÄƒ Ã®n care toatÄƒ lumea poate prospera."},eg={on:"Sunet PORNIT",off:"Sunet OPRIT"},tg={title:"Articole Reduse - CumpÄƒrare pentru DistribuÈ›ie",description:"Aceste articole reduse pot fi cumpÄƒrate folosind fondurile alocate È™i distribuite familiilor din comunitatea dvs.",badge:"REDUS",save:"EconomiseÈ™te",per:"per",was:"Era",off:"reducere",available:"Disponibil",category:"Categorie",freshAndReady:"ProaspÄƒt È™i gata",contactShop:"ContactaÈ›i magazinul direct pentru a cumpÄƒra acest articol folosind fondurile alocate"},ig={title:"Jurnalul modificÄƒrilor sistemului",version:"Versiune",lastUpdated:"Ultima actualizare",totalChanges:"Total modificÄƒri",bugFixes:"Remedieri de erori",i18nUpdates:"ActualizÄƒri traduceri",uiEnhancements:"ÃmbunÄƒtÄƒÈ›iri interfaÈ›Äƒ",filterByCategory:"Filtrare dupÄƒ categorie",filterByPriority:"Filtrare dupÄƒ prioritate",allCategories:"Toate categoriile",allPriorities:"Toate prioritÄƒÈ›ile",showing:"Se afiÈ™eazÄƒ",of:"din",changes:"modificÄƒri",noChangesMatch:"Nicio modificare nu corespunde filtrelor",details:"Detalii",impact:"Impact",components:"Componente",userTypes:"Tipuri de utilizatori",categories:{bugFix:"Remediere eroare",feature:"FuncÈ›ie nouÄƒ",internationalization:"Traducere",uiEnhancement:"ÃmbunÄƒtÄƒÈ›ire interfaÈ›Äƒ",configuration:"Configurare",security:"Securitate",deployment:"Implementare"},priorities:{critical:"Critic",high:"Ridicat",medium:"Mediu",low:"ScÄƒzut"}},ng={globalSearch:{title:"CÄƒutare GlobalÄƒ",description:"CautÄƒ Ã®n organizaÈ›iile VCFSE, È™coli/organizaÈ›ii de Ã®ngrijire È™i magazine locale dupÄƒ nume, email, oraÈ™, ID sau numÄƒr de Ã®nregistrare.",placeholder:"IntroduceÈ›i interogarea de cÄƒutare...",searchButton:"CÄƒutare",searching:"CÄƒutare...",resultsCount:"Rezultate cÄƒutare ({{count}} gÄƒsite)",vcseOrgs:"OrganizaÈ›iile VCFSE",schools:"È˜coli/OrganizaÈ›ii de Ãngrijire",shops:"Magazine locale",name:"Nume",email:"Email",city:"OraÈ™",charityNumber:"Caritate #",balance:"Sold",phone:"Telefon",address:"AdresÄƒ",noResults:"Nu au fost gÄƒsite rezultate"},fundAllocation:{title:"Alocarea fondurilor",allocateFunds:"AlocÄƒ Fonduri",organizationType:"Tipul organizaÈ›iei",vcseOrganization:"OrganizaÈ›ia VCFSE",schoolOrganization:"È˜coalÄƒ/OrganizaÈ›ie de Ã®ngrijire",selectOrganization:"SelectaÈ›i organizaÈ›ia",selectOrgPlaceholder:"-- SelectaÈ›i organizaÈ›ia --",currentBalance:"Sold curent",amount:"SumÄƒ (Â£)",amountPlaceholder:"0,00",newBalance:"New Balance",notes:"Note",notesPlaceholder:"AdÄƒugaÈ›i orice notiÈ›e despre aceastÄƒ alocare...",allocateButton:"AlocÄƒ Fonduri",allocating:"Se alocÄƒ...",allocationHistory:"Istoricul alocÄƒrilor",noHistory:"ÃncÄƒ nu existÄƒ istoric de alocare",date:"DatÄƒ",organization:"OrganizaÈ›ie",allocated:"Alocat",by:"De cÄƒtre"},transactions:{title:"CÄƒutare tranzacÈ›ii",description:"CautÄƒ È™i filtreazÄƒ toate tranzacÈ›iile din Ã®ntregul sistem",searchPlaceholder:"CautÄƒ dupÄƒ codul voucherului, destinatar, furnizor...",filterByType:"FiltreazÄƒ dupÄƒ Tip",allTypes:"Toate tipurile",redemption:"RÄƒscumpÄƒrare",allocation:"Alocare",transfer:"TransferÄƒ",filterByDate:"FiltreazÄƒ dupÄƒ datÄƒ",from:"De la",to:"CÄƒtre",searchButton:"CÄƒutare",searching:"CÄƒutare...",resultsCount:"Au fost gÄƒsite {{count}} tranzacÈ›ii",date:"DatÄƒ",type:"Tip",amount:"SumÄƒ",voucher:"Voucher",status:"Stare",noResults:"Nu au fost gÄƒsite tranzacÈ›ii"},broadcast:{title:"Mesaj transmis",description:"Trimite notificÄƒri tuturor utilizatorilor sau grupurilor specifice de utilizatori",selectRecipients:"SelectaÈ›i destinatarii",allUsers:"ToÈ›i utilizatorii",vcseOnly:"Doar organizaÈ›ii VCFSE",schoolsOnly:"Doar pentru È™coli/organizaÈ›ii de Ã®ngrijire",recipientsOnly:"Doar destinatari",vendorsOnly:"Doar furnizori/magazine locale",messageTitle:"Titlul mesajului",titlePlaceholder:"IntroduceÈ›i titlul mesajului...",messageContent:"ConÈ›inutul mesajului",contentPlaceholder:"IntroduceÈ›i mesajul dvs. aici...",sendButton:"Trimite difuzarea",sending:"Se trimite...",preview:"Previzualizare",recipientCount:"Acest mesaj va fi trimis cÄƒtre {{count}} utilizatori"}},rg={title:"Verificare VCFSE",pending:"Ãn aÈ™teptare",active:"Activ",rejected:"Respins",total:"Total",pending_verifications:"VerificÄƒri Ã®n aÈ™teptare",no_pending:"Nicio verificare Ã®n aÈ™teptare",organization:"OrganizaÈ›ie",contact:"Contact",charity_number:"NumÄƒr de caritate",submitted:"Trimis",actions:"AcÈ›iuni",approve:"âœ… AprobaÈ›i",reject:"âŒ RespingeÈ›i",reject_vcfse:"RespingeÈ›i VCFSE",rejection_reason:"Motivul respingerii",confirm_rejection:"ConfirmÄƒ respingerea",default_rejection_reason:"NumÄƒrul Comisiei de caritate nu a fost gÄƒsit sau detaliile nu corespund",confirm_approve:`AprobaÈ›i pe {{name}}?

Aceasta Ã®i va acorda acces la portalul VCFSE.`,approved_success:"{{name}} a fost aprobat! Email de aprobare trimis cÄƒtre {{email}}",rejected_success:"{{name}} a fost respins. Email de notificare trimis.",provide_reason:"VÄƒ rugÄƒm sÄƒ furnizaÈ›i un motiv pentru respingere",error_loading:"Eroare la Ã®ncÄƒrcarea verificÄƒrilor Ã®n aÈ™teptare",error_loading_stats:"Eroare la Ã®ncÄƒrcarea statisticilor",error_approving:"Eroare la aprobarea VCFSE",error_rejecting:"Eroare la respingerea VCFSE"},og={vcfse_organizations:"OrganizaÈ›ii VCFSE",organization:"OrganizaÈ›ie",contact:"Contact",email:"Email",phone:"Telefon",address:"AdresÄƒ"},sg={recipients:"Destinatari",recipient:"Destinatar",name:"Nume",email:"Email",vouchers:"Vouchere",balance:"Sold"},ag={voucher_management:"Gestionare Vouchere",voucher:"Voucher",code:"Cod",value:"Valoare",status:"Stare",assign:"Atribuire",unassign:"Eliberare"},lg={schools:"È˜coli",care_organizations:"OrganizaÈ›ii de Ãngrijire",school:"È˜coalÄƒ",organization:"OrganizaÈ›ie",students:"Elevi"},cg={local_shops:"Magazine Locale",vendor:"Furnizor",shop:"Magazin",location:"LocaÈ›ie",products:"Produse"},dg={all_to_go:"Tot de luat",surplus_food:"MÃ¢ncare Ã®n exces",available:"Disponibil",collected:"Colectat"},hg={manage_payouts:"Gestionare PlÄƒÈ›i",payout:"PlatÄƒ",amount:"SumÄƒ",date:"DatÄƒ",status:"Stare",process:"ProceseazÄƒ"},ug={analytics:"Analitice",statistics:"Statistici",charts:"Grafice",reports:"Rapoarte",data:"Date"},pg={settings:"SetÄƒri",configuration:"Configurare",preferences:"PreferinÈ›e",account:"Cont",system:"Sistem"},fg={app:vf,common:Cf,login:Sf,admin:Af,dashboard:jf,landing:_f,auth:Ef,voucher:kf,toGo:Tf,cart:Rf,recipient:If,alerts:Bf,categories:Of,language:Nf,shop:zf,qrScanner:Pf,reports:Df,pagination:Ff,payout:Mf,school:Lf,vcse:Vf,wallet:Wf,tabs:Uf,buttons:Hf,forms:Gf,table:qf,product:Xf,pages:Yf,status:Kf,messages:$f,register:Zf,vendor:Qf,vcseWelcome:Jf,sound:eg,discount:tg,changelog:ig,adminEnhancements:ng,vcfseVerification:rg,vcfseOrgs:og,recipients:sg,vouchers:ag,schools:lg,vendors:cg,allToGo:dg,payouts:hg,analytics:ug,settings:pg},gg={title:"System VoucherÃ³w Elektronicznych BAK UP",tagline:"ÅÄ…czenie nadwyÅ¼ek Å¼ywnoÅ›ci z tymi, ktÃ³rzy najbardziej jej potrzebujÄ…"},xg={email:"Email",password:"HasÅ‚o",signIn:"Zaloguj siÄ™",signOut:"Wyloguj siÄ™",cancel:"Anuluj",save:"Zapisz",delete:"UsuÅ„",edit:"Edytuj",add:"Dodaj",remove:"UsuÅ„",close:"Zamknij",search:"Szukaj",filter:"Filtruj",loading:"Åadowanie...",error:"BÅ‚Ä…d",success:"Sukces",confirm:"PotwierdÅº",back:"Wstecz",next:"Dalej",submit:"WyÅ›lij",welcome:"Witaj",changeLanguage:"ZmieÅ„ JÄ™zyk",enterEmail:"WprowadÅº swÃ³j email",enterPassword:"WprowadÅº swoje hasÅ‚o",enterAdminPassword:"WprowadÅº hasÅ‚o administratora",enterNewPassword:"WprowadÅº nowe hasÅ‚o",confirmNewPassword:"PotwierdÅº nowe hasÅ‚o",enterNewPasswordOptional:"WprowadÅº nowe hasÅ‚o (pozostaw puste, aby zachowaÄ‡ obecne)",firstNamePlaceholder:"John",lastNamePlaceholder:"Doe",emailPlaceholder:"john.doe@email.com",phonePlaceholder:"+44 7700 900000",charityNamePlaceholder:"WprowadÅº DOKÅADNÄ„ nazwÄ™ zarejestrowanej organizacji charytatywnej",charityNumberPlaceholder:"np. 1234567",schoolNamePlaceholder:"WprowadÅº nazwÄ™ szkoÅ‚y lub organizacji",shopNamePlaceholder:"WprowadÅº nazwÄ™ swojego sklepu",addressPlaceholder:"123 Main Street",postcodePlaceholder:"NN8 1AA",searchPlaceholder:"Szukaj wedÅ‚ug kodu, odbiorcy...",confirmDelete:"Czy na pewno chcesz usunÄ…Ä‡ {{name}}?",confirmDeactivate:"Czy na pewno chcesz dezaktywowaÄ‡ konto tego odbiorcy?",confirmDeleteShop:'Czy na pewno chcesz usunÄ…Ä‡ "{{name}}"?',errorDeleting:"BÅ‚Ä…d podczas usuwania",errorLoading:"BÅ‚Ä…d podczas Å‚adowania",na:"N/D"},mg={title:"Zaloguj siÄ™ do BAK UP",emailLabel:"Adres Email",emailPlaceholder:"WprowadÅº swÃ³j email",passwordLabel:"HasÅ‚o",passwordPlaceholder:"WprowadÅº hasÅ‚o",signInButton:"Zaloguj siÄ™",signingIn:"Logowanie...",noAccount:"Nie masz konta?",registerLink:"Zarejestruj siÄ™ tutaj",forgotPassword:"ZapomniaÅ‚eÅ› hasÅ‚a?",backToHome:"PowrÃ³t do Strony GÅ‚Ã³wnej",aboutTitle:"O BAK UP CIC",aboutText:"BAK UP CIC prowadzi Program VoucherÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire, zapewniajÄ…c godnewsparcie rodzinom poprzez elastyczne vouchery, ktÃ³re szanujÄ… preferencje kulturowe i wzmacniajÄ… lokalne gospodarki.",loginFailed:"Logowanie nie powiodÅ‚o siÄ™. SprÃ³buj ponownie."},yg={fundAllocation:"Alokacja funduszy",organizationType:"Typ Organizacji",selectVCSE:"Wybierz OrganizacjÄ™ VCSE",amount:"Kwota (Â£)",notes:"Notatki (Opcjonalne)",allocateFunds:"Przydziel Fundusze",vcseOrganizations:"Organizacje VCSE",allocatedBalance:"Przydzielone Saldo",chooseOrganization:"Wybierz organizacjÄ™ VCSE...",vcseOrganization:"Organizacja VCSE",schoolOrganization:"SzkoÅ‚a / Organizacja Opieki",selectSchool:"Wybierz SzkoÅ‚Ä™ / OrganizacjÄ™ Opieki",organizationName:"Nazwa Organizacji",email:"Email",charityNumber:"Numer Komisji Charytatywnej",save:"Zapisz",cancel:"Anuluj",edit:"Edytuj",delete:"UsuÅ„",allVouchers:"Wszystkie Vouchery",noVouchers:"Nie znaleziono voucherÃ³w",localShops:"Lokalne Sklepy z To Gos",noShops:"Nie znaleziono lokalnych sklepÃ³w",schoolsOrganizations:"SzkoÅ‚y i Organizacje Opieki",noSchools:"Nie zarejestrowano jeszcze szkÃ³Å‚ / organizacji opieki",editSchool:"Edytuj SzkoÅ‚Ä™",firstName:"ImiÄ™",lastName:"Nazwisko",phone:"Telefon",address:"Adres",city:"Miasto",postcode:"Kod Pocztowy",resetPassword:"Zresetuj HasÅ‚o (Opcjonalne)",noToGoItems:"Nie znaleziono artykuÅ‚Ã³w to go",changePassword:"ZmieÅ„ Swoje HasÅ‚o",currentPassword:"Obecne HasÅ‚o",newPassword:"Nowe HasÅ‚o",confirmPassword:"PotwierdÅº Nowe HasÅ‚o",createAdmin:"UtwÃ³rz Nowego Administratora",createAdminAccount:"UtwÃ³rz Nowe Konto Administratora",password:"HasÅ‚o",adminAccounts:"Konta AdministratorÃ³w",noAdmins:"Nie znaleziono kont administratorÃ³w",name:"Nazwa",created:"Utworzono",lastLogin:"Ostatnie Logowanie",logins:"Logowania",actions:"DziaÅ‚ania",currentUser:"Obecny UÅ¼ytkownik",loginStatistics:"Statystyki Logowania UÅ¼ytkownikÃ³w",searchRecipients:"Szukaj odbiorcÃ³w",searchPlaceholder:"Szukaj po nazwie, emailu lub telefonie...",sortBy:"Sortuj wedÅ‚ug",sortName:"Nazwa (A-Z)",sortEmail:"Email (A-Z)",sortVouchers:"NajwiÄ™cej voucherÃ³w",sortValue:"NajwyÅ¼sza wartoÅ›Ä‡",sortRecent:"Najnowsze",totalVouchers:"ÅÄ…cznie voucherÃ³w",active:"Aktywny",redeemed:"Zrealizowany",activeValue:"WartoÅ›Ä‡ aktywna",globalSearch:"Wyszukiwanie globalne",transactions:"Transakcje",broadcast:"Transmisja",vcfseVerification:"Weryfikacja VCFSE",vcfseOrganisations:"Organizacje VCFSE",recipients:"Odbiorcy",analytics:"Analityka",reports:"Raporty",dashboardOverview:"PrzeglÄ…d pulpitu administratora"},bg={welcome:"Witaj",overview:"PrzeglÄ…d",myVouchers:"Moje Vouchery",browseToGo:"PrzeglÄ…daj To Go",shoppingCart:"Koszyk",profile:"Profil",settings:"Ustawienia",activeBalance:"Aktywne Saldo",activeVouchers:"Aktywne",redeemed:"Zrealizowane",emptyCart:"TwÃ³j koszyk jest pusty",noToGoItems:"Brak artykuÅ‚Ã³w to go w tej chwili",redeemVouchers:"Zrealizuj Vouchery",toGo:"To Go",issueVouchers:"Wydaj Vouchery",participatingShops:"UczestniczÄ…ce Sklepy",voucherHistory:"Historia VoucherÃ³w",searchByCode:"Szukaj po kodzie...",allVouchers:"Wszystkie Vouchery",redeemedVouchers:"Zrealizowane",expiredVouchers:"WygasÅ‚e",noVouchersFound:"Nie znaleziono voucherÃ³w",tabs:{overview:"PrzeglÄ…d",voucherManagement:"ZarzÄ…dzanie Voucherami",voucherOrders:"ZamÃ³wienia VoucherÃ³w",reports:"Raporty",issueVouchers:"Wydaj Vouchery",toGo:"To Go",localShops:"Lokalne Sklepy",allToGo:"Wszystkie To Go",settings:"Ustawienia",myShops:"Moje Sklepy",surplusFood:"NadwyÅ¼ki Å»ywnoÅ›ci",myVouchers:"Moje Vouchery",redeemVoucher:"Zrealizuj Voucher",schoolsOrgs:"SzkoÅ‚y/Org. Opieki"},buttons:{changePassword:"ZmieÅ„ HasÅ‚o",manageAdmins:"ZarzÄ…dzaj Administratorami",loginStatistics:"Statystyki Logowania"},headings:{settings:"Ustawienia",localShopsWithToGo:"Lokalne Sklepy z To Go",allToGoItems:"Wszystkie ArtykuÅ‚y To Go"},searchVouchers:"Szukaj voucherÃ³w",statusFilter:"Filtr statusu",clearFilters:"WyczyÅ›Ä‡ filtry",totalVouchers:"ÅÄ…cznie voucherÃ³w",activeValue:"WartoÅ›Ä‡ aktywna",vcfseOrgs:"Organizacje VCFSE",recipients:"Odbiorcy",localShops:"Lokalne sklepy"},wg={hero:{title:"System VoucherÃ³w Elektronicznych BAK UP",subtitle:"ÅÄ…czenie sprzedawcÃ³w Å¼ywnoÅ›ci, organizacji VCFSE i rodzin w trudnej sytuacji poprzez ujednolicone rozwiÄ…zanie cyfrowe",getStarted:"Rozpocznij",signIn:"Zaloguj siÄ™"},features:{communities:{title:"Wspieranie SpoÅ‚ecznoÅ›ci",description:"Cyfrowe vouchery Å¼ywnoÅ›ciowe promujÄ…ce godnoÅ›Ä‡ i wybÃ³r dla rodzin w trudnej sytuacji"},vcse:{title:"Partnerstwo VCSE",description:"Organizacje charytatywne mogÄ… efektywnie finansowaÄ‡ i zarzÄ…dzaÄ‡ dystrybucjÄ… voucherÃ³w"},vendors:{title:"SieÄ‡ SprzedawcÃ³w",description:"Lokalne sklepy doÅ‚Ä…czajÄ… do sieci, aby akceptowaÄ‡ vouchery i wspieraÄ‡ swojÄ… spoÅ‚ecznoÅ›Ä‡"},surplus:{title:"Dzielenie siÄ™ NadwyÅ¼kami Å»ywnoÅ›ci",description:"Sprzedawcy mogÄ… publikowaÄ‡ artykuÅ‚y spoÅ¼ywcze nadwyÅ¼kowe dla rodzin po obniÅ¼onych cenach oraz darmowe nadwyÅ¼ki Å¼ywnoÅ›ci dla partnerÃ³w VCSE, aby wspieraÄ‡ rodziny, ktÃ³rym sÅ‚uÅ¼Ä…, zmniejszajÄ…c marnotrawstwo Å¼ywnoÅ›ci"}},whoWeServe:{title:"Komu SÅ‚uÅ¼ymy",recipients:{title:"Osoby i Rodziny",item1:"Otrzymuj cyfrowe vouchery Å¼ywnoÅ›ciowe z godnoÅ›ciÄ…",item2:"Wybieraj to, czego potrzebujesz od lokalnych sprzedawcÃ³w",item3:"Jedzenie To Go w promocji - Kupuj zniÅ¼kowÄ… Å¼ywnoÅ›Ä‡ od uczestniczÄ…cych sprzedawcÃ³w",item4:"Åatwo Å›ledÅº saldo swojego vouchera"},vendors:{title:"Sprzedawcy/Lokalne Sklepy",item1:"Akceptuj cyfrowe vouchery bezproblemowo",item2:"Publikuj zniÅ¼kowe artykuÅ‚y spoÅ¼ywcze dla odbiorcÃ³w",item3:"Publikuj darmowe nadwyÅ¼ki Å¼ywnoÅ›ci do odbioru przez VCSE",item4:"Wspieraj swojÄ… lokalnÄ… spoÅ‚ecznoÅ›Ä‡",item5:"ZarzÄ…dzaj wieloma lokalizacjami sklepÃ³w"},vcse:{title:"Organizacje VCFSE",item1:"Wydawaj i zarzÄ…dzaj voucherami efektywnie",item2:"Finansuj rodziny cyfrowo",item3:"Zbieraj darmowe nadwyÅ¼ki Å¼ywnoÅ›ci do dystrybucji rodzinom, ktÃ³rym sÅ‚uÅ¼ysz",item4:"ÅšledÅº wykorzystanie i wpÅ‚yw",item5:"Generuj szczegÃ³Å‚owe raporty"},schools:{title:"SzkoÅ‚y i Organizacje Opieki",item1:"Otrzymuj e-vouchery od BAK UP, aby wspieraÄ‡ rodziny",item2:"Dystrybuuj vouchery rodzinom ze spoÅ‚ecznoÅ›ci niedostatecznie reprezentowanych",item3:"ÅšledÅº dystrybucjÄ™ voucherÃ³w i wpÅ‚yw",item4:"Wspieraj uczniÃ³w i rodziny poprzez zaufane instytucje",item5:"Generuj raporty dla rozliczalnoÅ›ci"},admins:{title:"Dla AdministratorÃ³w",item1:"Nadzoruj caÅ‚Ä… platformÄ™",item2:"ZarzÄ…dzaj uÅ¼ytkownikami i rolami",item3:"Monitoruj programy zniÅ¼ek i nadwyÅ¼ek Å¼ywnoÅ›ci",item4:"Generuj kompleksowe raporty",item5:"Zapewnij integralnoÅ›Ä‡ systemu"}},cta:{title:"Gotowy, aby ZrobiÄ‡ RÃ³Å¼nicÄ™?",subtitle:"DoÅ‚Ä…cz do naszej platformy spoÅ‚ecznoÅ›ciowej juÅ¼ dziÅ›",button:"UtwÃ³rz Konto"},footer:{adminAccess:"DostÄ™p Administratora"},about:{sectionTitle:"O Programie BonÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire",mission:{title:"Misja",text:"TworzyÄ‡ inkluzywne, odporne i wzmocnione spoÅ‚ecznoÅ›ci poprzez rozwiÄ…zywanie podstawowych przyczyn trudnoÅ›ci i nierÃ³wnoÅ›ci poprzez partnerstwo, wspÃ³Å‚czucie i innowacje napÄ™dzane przez spoÅ‚ecznoÅ›Ä‡."},vision:{title:"Nasza Wizja",text:"Bardziej sprawiedliwe, zdrowsze i bardziej poÅ‚Ä…czone spoÅ‚eczeÅ„stwo, w ktÃ³rym kaÅ¼dy ma szansÄ™ osiÄ…gnÄ…Ä‡ swÃ³j peÅ‚ny potencjaÅ‚."},values:{title:"Nasze WartoÅ›ci",compassion:"WspÃ³Å‚czucie",compassionDesc:"GÅ‚Ä™boko troszczymy siÄ™ o ludzi i ich historie.",equity:"SprawiedliwoÅ›Ä‡",equityDesc:"Wspieramy uczciwoÅ›Ä‡ i wÅ‚Ä…czenie dla wszystkich.",empowerment:"Wzmocnienie",empowermentDesc:"Inwestujemy w ludzi, aby stali siÄ™ czynnikami zmian.",collaboration:"WspÃ³Å‚praca",collaborationDesc:"Budujemy partnerstwa, ktÃ³re wzmacniajÄ… zbiorowy wpÅ‚yw.",integrity:"UczciwoÅ›Ä‡",integrityDesc:"JesteÅ›my odpowiedzialni, przejrzyÅ›ci i skoncentrowani na spoÅ‚ecznoÅ›ci we wszystkim, co robimy."},bakup:{title:"O BAK UP CIC",paragraph1:"BAK UP CIC jest dumna z prowadzenia Programu BonÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire, innowacyjnego rozwiÄ…zania kierowanego przez spoÅ‚ecznoÅ›Ä‡, ktÃ³re zapewnia rodzinom i osobom borykajÄ…cym siÄ™ z trudnoÅ›ciami dostÄ™p do kulturowo odpowiednich podstawowych towarÃ³w i usÅ‚ug z godnoÅ›ciÄ…, elastycznoÅ›ciÄ… i sprawiedliwoÅ›ciÄ….",paragraph2:"Nasz model Bonu Elektronicznego zastÄ™puje tradycyjne paczki Å¼ywnoÅ›ciowe bonami cyfrowymi, tekstowymi i papierowymi, ktÃ³re moÅ¼na wykorzystaÄ‡ w lokalnych uczestniczÄ…cych sklepach, na rynkach i u dostawcÃ³w spoÅ‚ecznoÅ›ciowych. To podejÅ›cie nie tylko wspiera gospodarstwa domowe w kryzysie, ale takÅ¼e reinwestuje wydatki z powrotem w lokalnÄ… gospodarkÄ™, wzmacniajÄ…c maÅ‚e firmy i sieci spoÅ‚ecznoÅ›ciowe."},keyAreas:{title:"Kluczowe Obszary Pracy",foodSecurity:"BezpieczeÅ„stwo Å»ywnoÅ›ciowe i Wsparcie Gospodarstw Domowych",foodSecurityDesc:"Mobilne usÅ‚ugi Å¼ywnoÅ›ciowe, programy BonÃ³w Elektronicznych, dostarczanie sprzÄ™tu AGD oraz partnerstwa z lokalnymi detalistami, aby zapewniÄ‡ rodzinom dostÄ™p do kulturowo odpowiedniej i poÅ¼ywnej Å¼ywnoÅ›ci.",youthEmpowerment:"Wzmocnienie MÅ‚odzieÅ¼y",youthEmpowermentDesc:"Poprzez AmbasadorÃ³w MÅ‚odzieÅ¼y East Northamptonshire (EYA) i inne programy przywÃ³dcze wyposaÅ¼amy mÅ‚odych ludzi w pewnoÅ›Ä‡ siebie, umiejÄ™tnoÅ›ci i gÅ‚os, aby stali siÄ™ pozytywnymi czynnikami zmian w swoich spoÅ‚ecznoÅ›ciach.",healthWellbeing:"Zdrowie i Dobrostan",healthWellbeingDesc:"Interwencje oparte na spoÅ‚ecznoÅ›ci zajmujÄ…ce siÄ™ nierÃ³wnoÅ›ciami zdrowotnymi, samotnoÅ›ciÄ… i izolacjÄ… spoÅ‚ecznÄ…, jednoczeÅ›nie promujÄ…ce aktywnoÅ›Ä‡ fizycznÄ…, Å›wiadomoÅ›Ä‡ zdrowia psychicznego i zaufane relacje z dorosÅ‚ymi.",socialDeterminants:"SpoÅ‚eczne Determinanty Zdrowia",socialDeterminantsDesc:"Holistyczne podejÅ›cie do poprawy dostÄ™pu do edukacji, zatrudnienia i opieki zdrowotnej, wzmacniajÄ…ce ludzi, aby prosperowali, a nie tylko przetrwali.",communityCohesion:"SpÃ³jnoÅ›Ä‡ SpoÅ‚ecznoÅ›ci i Dziedzictwo Kulturowe",communityCohesionDesc:"ÅšwiÄ™towanie rÃ³Å¼norodnoÅ›ci poprzez inicjatywy takie jak Celebracja Pokolenia Windrush, projekty opowiadania historii i miÄ™dzypokoleniowe wydarzenia spoÅ‚ecznoÅ›ciowe, ktÃ³re honorujÄ… toÅ¼samoÅ›Ä‡ i przynaleÅ¼noÅ›Ä‡."},circular:{title:"Tworzenie Cyrkularnej i ZrÃ³wnowaÅ¼onej Gospodarki SpoÅ‚ecznoÅ›ci",paragraph1:"Program BonÃ³w Elektronicznych tworzy rÃ³wnieÅ¼ wyjÄ…tkowÄ… okazjÄ™ dla lokalnych sklepÃ³w i detalistÃ³w do odgrywania aktywnej roli w redukcji odpadÃ³w i promowaniu zrÃ³wnowaÅ¼onego rozwoju.",paragraph2:"UczestniczÄ…ce punkty sprzedaÅ¼y bÄ™dÄ… mogÅ‚y powiadamiaÄ‡ BAK UP CIC i organizacje charytatywne partnerskie o nadwyÅ¼kach Å¼ywnoÅ›ci i podstawowych towarach, umoÅ¼liwiajÄ…c zbieranie i redystrybucjÄ™ tych przedmiotÃ³w do potrzebujÄ…cych rodzin, zamiast ich marnowania. Ten prosty, ale potÄ™Å¼ny system wzmacnia lokalnÄ… gospodarkÄ™ cyrkularnÄ… - zapewniajÄ…c, Å¼e cenne zasoby sÄ… wykorzystywane efektywnie, wpÅ‚yw na Å›rodowisko jest zmniejszany, a spoÅ‚ecznoÅ›ci stajÄ… siÄ™ bardziej odporne, zrÃ³wnowaÅ¼one i samowystarczalne."},funders:{title:"Dlaczego Fundatorzy Powinni InwestowaÄ‡",text:"Finansowanie Programu BonÃ³w Elektronicznych oznacza inwestowanie w mÄ…drzejsze, bardziej sprawiedliwe i bardziej ekologiczne podejÅ›cie do walki z ubÃ³stwem i nierÃ³wnoÅ›ciÄ…. KaÅ¼dy funt bezpoÅ›rednio przynosi korzyÅ›ci zarÃ³wno gospodarstwom domowym borykajÄ…cym siÄ™ z trudnoÅ›ciami, jak i lokalnym maÅ‚ym firmom, tworzÄ…c pozytywny cykl dobrobytu spoÅ‚ecznoÅ›ci i dobrostanu."},joinScheme:"DoÅ‚Ä…cz do Programu DziÅ›",footerAbout:{title:"O Nas",description:"BAK UP CIC prowadzi Program BonÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire, zapewniajÄ…c godne wsparcie rodzinom i wzmacniajÄ…c lokalne gospodarki.",learnMore:"Dowiedz SiÄ™ WiÄ™cej"},footerFunders:{title:"Dla FundatorÃ³w",description:"Inwestuj w mÄ…drzejsze, bardziej sprawiedliwe podejÅ›cie do walki z ubÃ³stwem i nierÃ³wnoÅ›ciÄ….",item1:"BezpoÅ›redni wpÅ‚yw na spoÅ‚ecznoÅ›Ä‡",item2:"Wsparcie lokalnych firm",item3:"Mierzalne wyniki",item4:"ZrÃ³wnowaÅ¼ona gospodarka cyrkularna"},footerContact:{title:"Skontaktuj SiÄ™ z Nami",company:"BAK UP CIC",location:"Enterprise Centre, Warth Park, Raunds NN9 6GR",email:"Email:",phone:"Telefon:",hours:"Godziny:",hoursText:"PoniedziaÅ‚ek - PiÄ…tek: 9:00 - 17:00"},copyright:"Â© 2024 BAK UP CIC. Wszelkie prawa zastrzeÅ¼one. | Program BonÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire",charityNumber:"Numer Rejestracyjny Firmy Charytatywnej: 12994379"},pwa:{install:"Zainstaluj BAK UP",addToHomeScreen:"Dodaj do Ekranu GÅ‚Ã³wnego",iosInstructions:"Aby zainstalowaÄ‡ tÄ™ aplikacjÄ™ na swoim iPhonie:",androidInstructions:"Aby zainstalowaÄ‡ tÄ™ aplikacjÄ™ na swoim Androidzie:",iosStep1:"Dotknij przycisku UdostÄ™pnij â¬†ï¸ u doÅ‚u Safari",iosStep2:'PrzewiÅ„ w dÃ³Å‚ i dotknij "Dodaj do ekranu gÅ‚Ã³wnego" â•',iosStep3:'Dotknij "Dodaj" w prawym gÃ³rnym rogu',iosNote:"ğŸ’¡ Przycisk UdostÄ™pnij znajduje siÄ™ na pasku narzÄ™dzi Safari, a nie w tym okienku",androidStep1:'Dotknij zielonego przycisku "Zainstaluj" poniÅ¼ej',androidStep2:'Okno dialogowe systemowe zapyta "DodaÄ‡ do ekranu gÅ‚Ã³wnego?"',androidStep3:'Dotknij "Dodaj", aby potwierdziÄ‡',notNow:"Nie Teraz",installButton:"Zainstaluj",iphoneTab:"ğŸ iPhone",androidTab:"ğŸ¤– Android"}},vg={selectRole:"Wybierz SwojÄ… RolÄ™",vendor:"Sprzedawca Å»ywnoÅ›ci / Sklep",vcse:"Organizacja VCSE",recipient:"Odbiorca Vouchera",vendorDesc:"PrzekaÅ¼ nadwyÅ¼ki Å¼ywnoÅ›ci i akceptuj vouchery",vcseDesc:"ZarzÄ…dzaj voucherami dla rodzin w trudnej sytuacji",recipientDesc:"PrzeglÄ…daj i realizuj vouchery Å¼ywnoÅ›ciowe",loginTitle:"Logowanie",noAccount:"Nie masz konta?",registerHere:"Zarejestruj siÄ™ tutaj",forgotPassword:"ZapomniaÅ‚eÅ› hasÅ‚a?",name:"Nazwa",organizationName:"Nazwa Organizacji",phoneNumber:"Numer Telefonu",register:"Zarejestruj siÄ™",alreadyHaveAccount:"Masz juÅ¼ konto?",loginHere:"Zaloguj siÄ™ tutaj"},Cg={title:"Vouchery",balance:"Saldo",status:"Status",active:"Aktywny",used:"UÅ¼yty",expired:"WygasÅ‚y",redeemed:"Zrealizowany",validUntil:"WaÅ¼ny Do",qrCode:"Kod QR",showQR:"PokaÅ¼ Kod QR",hideQR:"Ukryj Kod QR"},Sg={title:"PrzeglÄ…daj DostÄ™pne To Go",noItems:"Brak artykuÅ‚Ã³w to go w tej chwili",addToCart:"Dodaj do Koszyka",quantity:"IloÅ›Ä‡",available:"dostÄ™pne",category:"Kategoria",shop:"Sklep",description:"Opis",price:"Cena",per:"za"},Ag={title:"Koszyk",empty:"TwÃ³j koszyk jest pusty",browseItems:"PrzeglÄ…daj ArtykuÅ‚y To Go",continueShopping:"Kontynuuj Zakupy",viewVouchers:"Zobacz Moje Vouchery",nextSteps:"NastÄ™pne Kroki",step1:"Przejrzyj artykuÅ‚y w koszyku powyÅ¼ej",step2:"OdwiedÅº lokalizacje sklepÃ³w, aby odebraÄ‡ artykuÅ‚y",step3:"PokaÅ¼ kod QR vouchera w sklepie, aby sfinalizowaÄ‡ zakup",step4:"Saldo vouchera zostanie potrÄ…cone w sklepie",itemsInCart:"ArtykuÅ‚y w Twoim koszyku:",quantityInCart:"IloÅ›Ä‡ w koszyku:",remove:"UsuÅ„"},jg={noVouchersAvailable:"Brak dostÄ™pnych voucherÃ³w",code:"Kod:",status:"Status:",expires:"Wygasa:",expiry:"WygaÅ›niÄ™cie:",issuedBy:"Wydany przez:",redeemed:"Zrealizowany:",redeemedOn:"Zrealizowany Dnia:",redeemedAt:"Zrealizowany W:",printVoucher:"Wydrukuj Voucher",showQRCode:"PokaÅ¼ Kod QR",scanToRedeem:"Zeskanuj, aby ZrealizowaÄ‡",presentCode:"Przedstaw ten kod w sklepie lub zeskanuj kod QR poniÅ¼ej",noShopsAvailable:"Brak dostÄ™pnych sklepÃ³w",address:"Adres:",phone:"Telefon:",availableToGo:"DostÄ™pne To Go:",available:"DostÄ™pne:",category:"Kategoria:",description:"Opis:",freshReady:"ÅšwieÅ¼e i gotowe do odbioru",addToCart:"Dodaj do Koszyka",useVoucher:"UÅ¼yj swojego vouchera, aby kupiÄ‡ ten artykuÅ‚ w sklepie",per:"za",at:"w"},_g={itemAddedToCart:"ArtykuÅ‚ dodany do koszyka pomyÅ›lnie!",failedToAddToCart:"Nie udaÅ‚o siÄ™ dodaÄ‡ artykuÅ‚u do koszyka:",itemRemoved:"ArtykuÅ‚ usuniÄ™ty z koszyka",failedToRemove:"Nie udaÅ‚o siÄ™ usunÄ…Ä‡ artykuÅ‚u:"},Eg={bakery:"Piekarnia",fruits:"Owoce",vegetables:"Warzywa",dairy:"NabiaÅ‚",meat:"MiÄ™so",cannedGoods:"Konserwy",freshProduce:"ÅšwieÅ¼e Produkty",other:"Inne"},kg={select:"Wybierz JÄ™zyk",en:"Angielski",ar:"Arabski",ro:"RumuÅ„ski",pl:"Polski"},Tg={toGoPosted:"Opublikowane Produkty SpoÅ¼ywcze",shopsRegistered:"Zarejestrowane Sklepy",redemptionHistory:"Historia Realizacji",redeemVouchers:"Realizuj Vouchery",howToRedeem:"Jak ZrealizowaÄ‡",step1:"PoproÅ› odbiorcÄ™ o kod vouchera lub zeskanuj jego kod QR",step2:"WprowadÅº kod w polu poniÅ¼ej lub uÅ¼yj przycisku skanowania",step3:"Kliknij 'Waliduj', aby sprawdziÄ‡, czy voucher jest waÅ¼ny i zobaczyÄ‡ saldo",step4:"WprowadÅº kwotÄ™ do realizacji (nie moÅ¼e przekroczyÄ‡ salda vouchera)",step5:"Kliknij 'Realizuj', aby zakoÅ„czyÄ‡ transakcjÄ™",step6:"Saldo vouchera odbiorcy zostanie automatycznie zaktualizowane",tip:"WskazÃ³wka",tipText:"Zawsze waliduj voucher przed przyjÄ™ciem go jako pÅ‚atnoÅ›Ä‡",enterVoucherCode:"WprowadÅº Kod Vouchera",scanQRCode:"Skanuj Kod QR",validate:"Waliduj",redeem:"Realizuj",validVoucher:"WaÅ¼ny Voucher",code:"Kod",recipient:"Odbiorca",phone:"Telefon",expires:"WygaÅ›nie",shopName:"Nazwa Sklepu",address:"Adres",cityCounty:"Miasto/Hrabstwo",postcode:"Kod Pocztowy",edit:"Edytuj",delete:"UsuÅ„",save:"Zapisz",cancel:"Anuluj",yourShops:"Twoje Sklepy",noShopYet:"Nie zarejestrowaÅ‚eÅ› jeszcze Å¼adnych sklepÃ³w",createShopProfile:"UtwÃ³rz Profil Sklepu",searchByCodeOrRecipient:"Szukaj po kodzie lub odbiorcy",allRedemptions:"Wszystkie Realizacje",today:"Dzisiaj",thisWeek:"Ten TydzieÅ„",thisMonth:"Ten MiesiÄ…c",redemptionHistoryComingSoon:"Historia Realizacji WkrÃ³tce",redemptionHistoryDescription:"ÅšledÅº wszystkie realizacje voucherÃ³w tutaj"},Rg={generateReport:"Generuj Raport",downloadPDF:"Pobierz PDF",downloadExcel:"Pobierz Excel",dateRange:"Zakres Dat",from:"Od",to:"Do",reportType:"Typ Raportu",voucherActivity:"AktywnoÅ›Ä‡ VoucherÃ³w",financialSummary:"Podsumowanie Finansowe",impactReport:"Raport WpÅ‚ywu",reports:"Raporty",generate:"Generuj",export:"Eksportuj",download:"Pobierz",view:"WyÅ›wietl"},Ig={previous:"Poprzedni",next:"NastÄ™pny",page:"Strona",of:"z",showing:"PokazujÄ…c",to:"do",entries:"wpisÃ³w",totalItems:"wszystkich elementÃ³w"},Bg={requestPayout:"Wniosek o WypÅ‚atÄ™",payoutHistory:"Historia WypÅ‚at",requestPayment:"ZÅ‚Ã³Å¼ Wniosek o PÅ‚atnoÅ›Ä‡",amount:"Kwota",bankDetails:"Dane Bankowe",bankName:"Nazwa Banku",accountNumber:"Numer Konta",sortCode:"Kod Sortowania",accountHolderName:"ImiÄ™ i Nazwisko WÅ‚aÅ›ciciela Konta",notes:"Uwagi (Opcjonalne)",submitRequest:"WyÅ›lij Wniosek",status:"Status",pending:"OczekujÄ…cy",approved:"Zatwierdzony",rejected:"Odrzucony",paid:"ZapÅ‚acony",requestedAt:"ZÅ‚oÅ¼ono",reviewedAt:"Sprawdzono",paidAt:"ZapÅ‚acono",adminNotes:"Uwagi Administratora",noPayoutRequests:"Brak wnioskÃ³w o wypÅ‚atÄ™",payoutRequests:"Wnioski o WypÅ‚atÄ™",managePayout:"ZarzÄ…dzaj WypÅ‚atami",approve:"ZatwierdÅº",reject:"OdrzuÄ‡",markAsPaid:"Oznacz jako ZapÅ‚acone",vendorName:"Nazwa Sprzedawcy",shopName:"Nazwa Sklepu",totalPending:"CaÅ‚kowita OczekujÄ…ca",totalApproved:"CaÅ‚kowita Zatwierdzona",totalPaid:"CaÅ‚kowita ZapÅ‚acona",filterByStatus:"Filtruj wedÅ‚ug Statusu",allStatuses:"Wszystkie Statusy",payoutRequestSubmitted:"Wniosek o wypÅ‚atÄ™ zostaÅ‚ pomyÅ›lnie wysÅ‚any",payoutApproved:"WypÅ‚ata zostaÅ‚a pomyÅ›lnie zatwierdzona",payoutRejected:"WypÅ‚ata zostaÅ‚a pomyÅ›lnie odrzucona",payoutMarkedPaid:"WypÅ‚ata zostaÅ‚a pomyÅ›lnie oznaczona jako zapÅ‚acona",confirmApprove:"Czy na pewno chcesz zatwierdziÄ‡ tÄ™ wypÅ‚atÄ™?",confirmReject:"Czy na pewno chcesz odrzuciÄ‡ tÄ™ wypÅ‚atÄ™?",confirmMarkPaid:"Czy na pewno chcesz oznaczyÄ‡ tÄ™ wypÅ‚atÄ™ jako zapÅ‚aconÄ…?"},Og={portal:"Portal SzkoÅ‚y/Opieki",supportingFamilies:"Wspieranie rodzin poprzez edukacjÄ™ i opiekÄ™",description:"Jako szkoÅ‚a lub organizacja opiekuÅ„cza odgrywasz kluczowÄ… rolÄ™ w identyfikowaniu i wspieraniu rodzin z niedostatecznie reprezentowanych spoÅ‚ecznoÅ›ci."},Ng={portal:"Portal Organizacji VCSE",description:"ZarzÄ…dzaj voucherami i wspieraj rodziny w potrzebie w swojej spoÅ‚ecznoÅ›ci",totalValueDistributed:"CaÅ‚kowita wartoÅ›Ä‡ rozdystrybuowana"},zg={management:"ZarzÄ…dzanie portfelem",currentBalance:"Aktualne saldo portfela",totalCredits:"ÅÄ…czna liczba punktÃ³w",totalDebits:"Suma obciÄ…Å¼eÅ„",vouchersIssued:"Wydane vouchery",addFunds:"Dodaj Å›rodki do portfela",fundsAdded:"Åšrodki dodane do portfela",spentOnVouchers:"Wydane na vouchery",availableForIssuance:"DostÄ™pne do wystawienia vouchera",paymentReference:"Numer referencyjny pÅ‚atnoÅ›ci",description:"Opis (Opcjonalnie)",addNotes:"Dodaj notatki dotyczÄ…ce tej transakcji"},Pg={overview:"PrzeglÄ…d",issueVouchers:"Wystaw kupony",voucherHistory:"Historia voucherÃ³w",foodToGo:"Produkty na wynos",walletManagement:"ZarzÄ…dzanie portfelem",loadFunds:"DoÅ‚aduj Å›rodki",voucherOrders:"ZamÃ³wienia na vouchery",reports:"Raporty",myShops:"Moje sklepy",surplusFood:"NadwyÅ¼ka Å¼ywnoÅ›ci",settings:"Ustawienia",recipientsVouchers:"Odbiorcy i Vouchery",discountedItems:"Produkty Przecenione"},Dg={addFunds:"Dodaj Å›rodki do portfela",issueVoucher:"Wydaj kupon",orderForClient:"ZamÃ³wienie dla klienta",continueToPayment:"Kontynuuj do pÅ‚atnoÅ›ci",exportToExcel:"Eksportuj do Excela",downloadPDF:"Pobierz PDF",changePassword:"ZmieÅ„ hasÅ‚o",logout:"Wyloguj siÄ™",save:"Zapisz",cancel:"Anuluj",submit:"ZatwierdÅº",back:"Z powrotem"},Fg={amount:"Kwota (Â£)",firstName:"ImiÄ™",lastName:"Nazwisko",email:"Adres e-mail",phone:"Numer telefonu",address:"Adres",city:"Miasto",cityOptional:"Miasto (opcjonalnie dla miejscowoÅ›ci)",postcode:"Kod pocztowy",county:"Hrabstwo",enterAmount:"Wpisz kwotÄ™",leaveEmptyForTown:"Pozostaw puste, jeÅ›li rejestrujesz siÄ™ w mieÅ›cie"},Mg={date:"Data",type:"Rodzaj",description:"Opis",amount:"IloÅ›Ä‡",balanceAfter:"Saldo po",status:"Status",code:"Kod",recipient:"Odbiorca",shop:"Sklep",category:"Kategoria",available:"DostÄ™pny",expiry:"Termin waÅ¼noÅ›ci"},Lg={shop:"Sklep:",category:"Kategoria:",available:"DostÄ™pne:",expiry:"Termin waÅ¼noÅ›ci:",description:"Opis:"},Vg={foodToGoOrderTitle:"DostÄ™pne produkty na wynos - zamÃ³wienie dla klientÃ³w",foodToGoOrderDesc:"PrzeglÄ…daj dostÄ™pne produkty â€Jedzenie na wynosâ€ z lokalnych sklepÃ³w i zamawiaj je w imieniu swoich klientÃ³w, podajÄ…c ich dane kontaktowe.",transactionHistory:"Historia transakcji",issueVoucherTitle:"Wystaw E-bon rodzinny"},Wg={active:"Aktywny",redeemed:"Odkupiony",expired:"WygasÅ‚o",completed:"ZakoÅ„czono",pending:"OczekujÄ…ce",credit:"KREDYT",debit:"DEBET"},Ug={fundsAddedSuccess:"Åšrodki zostaÅ‚y pomyÅ›lnie dodane! Nowe saldo:",voucherIssuedSuccess:"Voucher zostaÅ‚ pomyÅ›lnie wydany!",vouchersIssuedSuccess:"bony wydane pomyÅ›lnie! Razem:",insufficientBalance:"NiewystarczajÄ…ce saldo",fillAllFields:"ProszÄ™ wypeÅ‚niÄ‡ wszystkie wymagane pola.",invalidAmount:"NieprawidÅ‚owa kwota",noTransactionsYet:"Brak transakcji. Dodaj Å›rodki, aby rozpoczÄ…Ä‡!",totalValue:"Å‚Ä…czna wartoÅ›Ä‡"},Hg={title:"Rejestracja w BAK UP",userTypeLabel:"Typ UÅ¼ytkownika",userTypes:{recipient:"Odbiorca",vendor:"Lokalny Sklep SpoÅ¼ywczy",vcse:"Organizacja VCSE",school:"SzkoÅ‚a / Organizacja Opieki"},firstNameLabel:"ImiÄ™",lastNameLabel:"Nazwisko",emailLabel:"Email",phoneLabel:"Telefon",passwordLabel:"HasÅ‚o",confirmPasswordLabel:"PotwierdÅº HasÅ‚o",passwordMismatch:"HasÅ‚a nie pasujÄ… do siebie",organizationNameLabel:"Nazwa Organizacji",charityNumberLabel:"Numer Komisji Charytatywnej",charityNumberPlaceholder:"np. 1234567",charityWarning:"Twoja rejestracja zostanie zweryfikowana w bazie danych Komisji Charytatywnej przed zatwierdzeniem.",schoolNameLabel:"Nazwa SzkoÅ‚y / Organizacji",shopNameLabel:"Nazwa Sklepu",shopCategoryLabel:"Kategoria Sklepu",shopCategories:{grocery:"Sklep SpoÅ¼ywczy",supermarket:"Supermarket",convenience:"Sklep Osiedlowy",butcher:"Sklep MiÄ™sny",bakery:"Piekarnia",halal:"Sklep Halal",asian:"Sklep Azjatycki",african:"Sklep AfrykaÅ„ski/Karaibski",other:"Inne"},addressLabel:"Adres",postcodeLabel:"Kod Pocztowy",cityLabel:"Miasto",townLabel:"MiejscowoÅ›Ä‡",townPlaceholder:"Zostaw puste, jeÅ›li rejestrujesz siÄ™ w miejscowoÅ›ci",registerButton:"Zarejestruj",registering:"Rejestrowanie...",haveAccount:"Masz juÅ¼ konto?",signInLink:"Zaloguj siÄ™ tutaj",backToHome:"PowrÃ³t do Strony GÅ‚Ã³wnej",registrationSuccess:"Rejestracja udana! ProszÄ™ siÄ™ zalogowaÄ‡.",registrationFailed:"Rejestracja nie powiodÅ‚a siÄ™"},Gg={totalSales:"CaÅ‚kowita sprzedaÅ¼",welcomeTitle:"Witamy w Systemie VoucherÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire",welcomeThank:"DziÄ™kujemy za doÅ‚Ä…czenie do BAK UP CIC jako uczestniczÄ…cy sklep lub sprzedawca! JesteÅ› waÅ¼nym partnerem w naszym podejÅ›ciu spoÅ‚ecznoÅ›ciowym do wspierania rodzin borykajÄ…cych siÄ™ z trudnoÅ›ciami.",welcomeDignity:"PrzyjmujÄ…c vouchery elektroniczne, zapewniasz rodzinom godnoÅ›Ä‡, wybÃ³r i dostÄ™p do odpowiednich kulturowo produktÃ³w spoÅ¼ywczych i artykuÅ‚Ã³w pierwszej potrzeby. JednoczeÅ›nie korzystasz ze zwiÄ™kszonego ruchu i wsparcia dla lokalnej firmy.",welcomeCircular:"MoÅ¼esz rÃ³wnieÅ¼ pomÃ³c w redukcji odpadÃ³w, informujÄ…c nas o nadwyÅ¼kach Å¼ywnoÅ›ci i towarÃ³w do redystrybucji, wzmacniajÄ…c naszÄ… gospodarkÄ™ o obiegu zamkniÄ™tym."},qg={title:"Skanuj kod QR",cameraActive:"Kamera aktywna",positionQR:"UmieÅ›Ä‡ kod QR w ramce",initializing:"Inicjalizacja kamery...",tryAgain:"SprÃ³buj ponownie",useManualEntryRecommended:"UÅ¼yj rÄ™cznego wprowadzania zamiast tego (Zalecane)",errorPermissionBlocked:"DostÄ™p do kamery nie powiÃ³dÅ‚ siÄ™",errorNoCamera:"Nie znaleziono kamery na tym urzÄ…dzeniu",errorCameraInUse:"Kamera jest uÅ¼ywana przez innÄ… aplikacjÄ™",errorFailed:"Nie udaÅ‚o siÄ™ uruchomiÄ‡ kamery."},Xg={title:"Witamy w Systemie VoucherÃ³w Elektronicznych SpoÅ‚ecznoÅ›ci Northamptonshire",paragraph1:"DziÄ™kujemy za partnerstwo z BAK UP CIC w celu wspierania rodzin i osÃ³b borykajÄ…cych siÄ™ z trudnoÅ›ciami w Northamptonshire. Jako organizacja VCFSE jesteÅ› w centrum naszego podejÅ›cia spoÅ‚ecznoÅ›ciowego do walki z brakiem bezpieczeÅ„stwa Å¼ywnoÅ›ciowego.",paragraph2:"Nasz system voucherÃ³w elektronicznych zastÄ™puje tradycyjne paczki Å¼ywnoÅ›ciowe elastycznym, godnym wsparciem, ktÃ³re szanuje preferencje kulturowe i daje rodzinom prawdziwy wybÃ³r. KaÅ¼dy voucher, ktÃ³ry wydajesz, pomaga wzmocniÄ‡ lokalne gospodarki poprzez wspieranie uczestniczÄ…cych sklepÃ³w i sprzedawcÃ³w.",paragraph3:"Razem budujemy bardziej inkluzywnÄ…, zrÃ³wnowaÅ¼onÄ… i odpornÄ… spoÅ‚ecznoÅ›Ä‡, w ktÃ³rej kaÅ¼dy moÅ¼e prosperowaÄ‡."},Yg={on:"DÅºwiÄ™k WÅÄ„CZONY",off:"DÅºwiÄ™k WYÅÄ„CZONY"},Kg={title:"Produkty Przecenione - Zakup do Dystrybucji",description:"Te przecenione produkty moÅ¼na kupiÄ‡ za pomocÄ… przydzielonych Å›rodkÃ³w i rozdystrybuowaÄ‡ rodzinom w Twojej spoÅ‚ecznoÅ›ci.",badge:"PRZECENIONE",save:"OszczÄ™dÅº",per:"za",was:"ByÅ‚o",off:"zniÅ¼ki",available:"DostÄ™pne",category:"Kategoria",freshAndReady:"ÅšwieÅ¼e i gotowe",contactShop:"Skontaktuj siÄ™ bezpoÅ›rednio ze sklepem, aby kupiÄ‡ ten produkt za pomocÄ… przydzielonych Å›rodkÃ³w"},$g={title:"Dziennik zmian systemu",version:"Wersja",lastUpdated:"Ostatnia aktualizacja",totalChanges:"Wszystkie zmiany",bugFixes:"Poprawki bÅ‚Ä™dÃ³w",i18nUpdates:"Aktualizacje tÅ‚umaczeÅ„",uiEnhancements:"Ulepszenia interfejsu",filterByCategory:"Filtruj wedÅ‚ug kategorii",filterByPriority:"Filtruj wedÅ‚ug priorytetu",allCategories:"Wszystkie kategorie",allPriorities:"Wszystkie priorytety",showing:"Pokazywanie",of:"z",changes:"zmian",noChangesMatch:"Brak zmian pasujÄ…cych do filtrÃ³w",details:"SzczegÃ³Å‚y",impact:"WpÅ‚yw",components:"Komponenty",userTypes:"Typy uÅ¼ytkownikÃ³w",categories:{bugFix:"Poprawka bÅ‚Ä™du",feature:"Nowa funkcja",internationalization:"TÅ‚umaczenie",uiEnhancement:"Ulepszenie interfejsu",configuration:"Konfiguracja",security:"BezpieczeÅ„stwo",deployment:"WdroÅ¼enie"},priorities:{critical:"Krytyczny",high:"Wysoki",medium:"Åšredni",low:"Niski"}},Zg={globalSearch:{title:"Wyszukiwanie globalne",description:"Wyszukuj w organizacjach VCFSE, szkoÅ‚ach/organizacjach opiekuÅ„czych oraz lokalnych sklepach wedÅ‚ug nazwy, e-maila, miasta, identyfikatora lub numeru rejestracyjnego.",placeholder:"Wpisz zapytanie wyszukiwania...",searchButton:"Szukaj",searching:"Wyszukiwanie...",resultsCount:"Wyniki wyszukiwania (znaleziono {{count}})",vcseOrgs:"Organizacje VCFSE",schools:"SzkoÅ‚y/Organizacje OpiekuÅ„cze",shops:"Sklepy lokalne",name:"ImiÄ™",email:"E-mail",city:"Miasto",charityNumber:"Organizacja charytatywna #",balance:"Saldo",phone:"Telefon",address:"Adres",noResults:"Nie znaleziono wynikÃ³w"},fundAllocation:{title:"Alokacja funduszy",allocateFunds:"Przydziel Å›rodki",organizationType:"Typ organizacji",vcseOrganization:"Organizacja VCFSE",schoolOrganization:"Organizacja szkoÅ‚y/opieki",selectOrganization:"Wybierz organizacjÄ™",selectOrgPlaceholder:"-- Wybierz organizacjÄ™ --",currentBalance:"BieÅ¼Ä…ce saldo",amount:"Kwota (Â£)",amountPlaceholder:"0,00",newBalance:"Nowa RÃ³wnowaga",notes:"Notatki",notesPlaceholder:"Dodaj wszelkie uwagi dotyczÄ…ce tego przydziaÅ‚u...",allocateButton:"Przydziel Å›rodki",allocating:"Przydzielanie...",allocationHistory:"Historia alokacji",noHistory:"Brak historii alokacji jeszcze",date:"Data",organization:"Organizacja",allocated:"Przydzielone",by:"Przez"},transactions:{title:"Wyszukiwanie transakcji",description:"Wyszukaj i filtruj wszystkie transakcje w caÅ‚ym systemie",searchPlaceholder:"Wyszukaj wedÅ‚ug kodu vouchera, odbiorcy, sprzedawcy...",filterByType:"Filtruj wedÅ‚ug typu",allTypes:"Wszystkie typy",redemption:"Odkupienie",allocation:"PrzydziaÅ‚",transfer:"Przelew",filterByDate:"Filtruj wedÅ‚ug daty",from:"Od",to:"Do",searchButton:"Szukaj",searching:"Wyszukiwanie...",resultsCount:"Znaleziono {{count}} transakcji",date:"Data",type:"Typ",amount:"Kwota",voucher:"Bon",status:"Status",noResults:"Nie znaleziono Å¼adnych transakcji"},broadcast:{title:"WiadomoÅ›Ä‡ nadawcza",description:"WyÅ›lij powiadomienia do wszystkich uÅ¼ytkownikÃ³w lub okreÅ›lonych grup uÅ¼ytkownikÃ³w",selectRecipients:"Wybierz odbiorcÃ³w",allUsers:"Wszyscy uÅ¼ytkownicy",vcseOnly:"Tylko organizacje VCFSE",schoolsOnly:"Tylko szkoÅ‚y/organizacje opiekuÅ„cze",recipientsOnly:"Tylko dla odbiorcÃ³w",vendorsOnly:"Tylko sprzedawcy/sklepy lokalne",messageTitle:"TytuÅ‚ wiadomoÅ›ci",titlePlaceholder:"WprowadÅº tytuÅ‚ wiadomoÅ›ci...",messageContent:"TreÅ›Ä‡ wiadomoÅ›ci",contentPlaceholder:"Wpisz tutaj swojÄ… wiadomoÅ›Ä‡...",sendButton:"WyÅ›lij transmisjÄ™",sending:"WysyÅ‚anie...",preview:"PodglÄ…d",recipientCount:"Ta wiadomoÅ›Ä‡ zostanie wysÅ‚ana do {{count}} uÅ¼ytkownikÃ³w"}},Qg={title:"Weryfikacja VCFSE",pending:"OczekujÄ…ce",active:"Aktywne",rejected:"Odrzucone",total:"Razem",pending_verifications:"OczekujÄ…ce weryfikacje",no_pending:"Brak oczekujÄ…cych weryfikacji",organization:"Organizacja",contact:"Kontakt",charity_number:"Numer organizacji charytatywnej",submitted:"ZgÅ‚oszono",actions:"Akcje",approve:"âœ… ZatwierdÅº",reject:"âŒ OdrzuÄ‡",reject_vcfse:"OdrzuÄ‡ VCFSE",rejection_reason:"PowÃ³d odrzucenia",confirm_rejection:"PotwierdÅº odrzucenie",default_rejection_reason:"Numer Komisji Charytatywnej nie zostaÅ‚ znaleziony lub dane nie zgadzajÄ… siÄ™",confirm_approve:`ZatwierdziÄ‡ {{name}}?

To przyzna im dostÄ™p do portalu VCFSE.`,approved_success:"{{name}} zostaÅ‚ zatwierdzony! E-mail z potwierdzeniem wysÅ‚any na {{email}}",rejected_success:"{{name}} zostaÅ‚ odrzucony. E-mail z powiadomieniem wysÅ‚any.",provide_reason:"ProszÄ™ podaÄ‡ powÃ³d odrzucenia",error_loading:"BÅ‚Ä…d podczas Å‚adowania oczekujÄ…cych weryfikacji",error_loading_stats:"BÅ‚Ä…d podczas Å‚adowania statystyk",error_approving:"BÅ‚Ä…d podczas zatwierdzania VCFSE",error_rejecting:"BÅ‚Ä…d podczas odrzucania VCFSE"},Jg={vcfse_organizations:"Organizacje VCFSE",organization:"Organizacja",contact:"Kontakt",email:"E-mail",phone:"Telefon",address:"Adres"},e0={recipients:"Odbiorcy",recipient:"Odbiorca",name:"Nazwa",email:"E-mail",vouchers:"Kupony",balance:"Saldo"},t0={voucher_management:"ZarzÄ…dzanie voucherami",voucher:"Voucher",code:"Kod",value:"WartoÅ›Ä‡",status:"Status",assign:"Przypisz",unassign:"Od przypisz"},i0={schools:"SzkoÅ‚y",care_organizations:"Organizacje opiekuÅ„cze",school:"SzkoÅ‚a",organization:"Organizacja",students:"Uczniowie"},n0={local_shops:"Sklepy lokalne",vendor:"Dostawca",shop:"Sklep",location:"Lokalizacja",products:"Produkty"},r0={all_to_go:"Wszystko na wynos",surplus_food:"NadwyÅ¼ka Å¼ywnoÅ›ci",available:"DostÄ™pne",collected:"Zebrane"},o0={manage_payouts:"ZarzÄ…dzaj WypÅ‚atami",payout:"WypÅ‚ata",amount:"Kwota",date:"Data",status:"Status",process:"PrzetwÃ³rz"},s0={analytics:"Analizy",statistics:"Statystyki",charts:"Wykresy",reports:"Raporty",data:"Dane"},a0={settings:"Ustawienia",configuration:"Konfiguracja",preferences:"Preferencje",account:"Konto",system:"System"},l0={app:gg,common:xg,login:mg,admin:yg,dashboard:bg,landing:wg,auth:vg,voucher:Cg,toGo:Sg,cart:Ag,recipient:jg,alerts:_g,categories:Eg,language:kg,shop:Tg,reports:Rg,pagination:Ig,payout:Bg,school:Og,vcse:Ng,wallet:zg,tabs:Pg,buttons:Dg,forms:Fg,table:Mg,product:Lg,pages:Vg,status:Wg,messages:Ug,register:Hg,vendor:Gg,qrScanner:qg,vcseWelcome:Xg,sound:Yg,discount:Kg,changelog:$g,adminEnhancements:Zg,vcfseVerification:Qg,vcfseOrgs:Jg,recipients:e0,vouchers:t0,schools:i0,vendors:n0,allToGo:r0,payouts:o0,analytics:s0,settings:a0};au.use($c).use(lu).init({resources:{en:{translation:Ap},ar:{translation:wf},ro:{translation:fg},pl:{translation:l0}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const c0=()=>{const{i18n:o,t:e}=Nt(),i=[{code:"en",name:"English",flag:"ğŸ‡¬ğŸ‡§"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ğŸ‡¸ğŸ‡¦"},{code:"ro",name:"RomÃ¢nÄƒ",flag:"ğŸ‡·ğŸ‡´"},{code:"pl",name:"Polski",flag:"ğŸ‡µğŸ‡±"}];D.useEffect(()=>{o.language==="ar"?(document.documentElement.setAttribute("dir","rtl"),document.documentElement.setAttribute("lang","ar")):(document.documentElement.setAttribute("dir","ltr"),document.documentElement.setAttribute("lang",o.language))},[o.language]);const s=l=>{o.changeLanguage(l)};return i.find(l=>l.code===o.language)||i[0],r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("select",{value:o.language,onChange:l=>s(l.target.value),style:{padding:"8px 12px",fontSize:"16px",borderRadius:"6px",border:"1px solid #ddd",backgroundColor:"white",cursor:"pointer",outline:"none",fontFamily:"inherit"},children:i.map(l=>r.jsxs("option",{value:l.code,children:[l.flag," ",l.name]},l.code))})})},d0=({onNavigate:o})=>{const{t:e}=Nt();return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3},children:r.jsx(c0,{})}),r.jsxs("div",{style:{background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",padding:"80px 20px",textAlign:"center"},children:[r.jsx("h1",{style:{fontSize:"40px",marginBottom:"20px",fontWeight:"bold"},children:e("landing.hero.title")}),r.jsx("p",{style:{fontSize:"16px",marginBottom:"40px",maxWidth:"800px",margin:"0 auto 40px"},children:e("landing.hero.subtitle")}),r.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},children:[r.jsx("button",{onClick:()=>o("register"),style:{padding:"15px 40px",fontSize:"16px",backgroundColor:"#fff",color:"#4CAF50",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:e("landing.hero.getStarted")}),r.jsx("button",{onClick:()=>o("login"),style:{padding:"15px 40px",fontSize:"16px",backgroundColor:"transparent",color:"#fff",border:"2px solid white",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:e("landing.hero.signIn")})]})]}),r.jsx("div",{style:{padding:"60px 20px",maxWidth:"1200px",margin:"0 auto"},children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:"ğŸ«"}),r.jsx("h3",{style:{fontSize:"24px",marginBottom:"15px",color:"#333"},children:e("landing.features.communities.title")}),r.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:e("landing.features.communities.description")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:"ğŸ¤"}),r.jsx("h3",{style:{fontSize:"24px",marginBottom:"15px",color:"#333"},children:e("landing.features.vcse.title")}),r.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:e("landing.features.vcse.description")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:"ğŸª"}),r.jsx("h3",{style:{fontSize:"24px",marginBottom:"15px",color:"#333"},children:e("landing.features.vendors.title")}),r.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:e("landing.features.vendors.description")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:"ğŸ"}),r.jsx("h3",{style:{fontSize:"24px",marginBottom:"15px",color:"#333"},children:e("landing.features.surplus.title")}),r.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:e("landing.features.surplus.description")})]})]})}),r.jsxs("div",{style:{backgroundColor:"#fff",padding:"60px 20px"},children:[r.jsx("h2",{style:{textAlign:"center",fontSize:"32px",marginBottom:"50px",color:"#333"},children:e("landing.whoWeServe.title")}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"30px",maxWidth:"1200px",margin:"0 auto"},children:[r.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"30px",borderRadius:"12px",border:"2px solid #9C27B0"},children:[r.jsxs("h3",{style:{fontSize:"24px",marginBottom:"20px",color:"#9C27B0"},children:["ğŸ‘¤ ",e("landing.whoWeServe.recipients.title")]}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#666",lineHeight:"2"},children:[r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.recipients.item1")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.recipients.item2")]}),r.jsxs("li",{children:["â€¢ ",r.jsx("strong",{children:e("landing.whoWeServe.recipients.item3")})]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.recipients.item4")]})]})]}),r.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"30px",borderRadius:"12px",border:"2px solid #FF9800"},children:[r.jsxs("h3",{style:{fontSize:"24px",marginBottom:"20px",color:"#FF9800"},children:["ğŸª ",e("landing.whoWeServe.vendors.title")]}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#666",lineHeight:"2"},children:[r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vendors.item1")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vendors.item2")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vendors.item3")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vendors.item4")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vendors.item5")]})]})]}),r.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"30px",borderRadius:"12px",border:"2px solid #4CAF50"},children:[r.jsxs("h3",{style:{fontSize:"24px",marginBottom:"20px",color:"#4CAF50"},children:["ğŸ¤ ",e("landing.whoWeServe.vcse.title")]}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#666",lineHeight:"2"},children:[r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vcse.item1")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vcse.item2")]}),r.jsxs("li",{children:["â€¢ ",r.jsx("strong",{children:e("landing.whoWeServe.vcse.item3")})]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vcse.item4")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.vcse.item5")]})]})]}),r.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"30px",borderRadius:"12px",border:"2px solid #2196F3"},children:[r.jsxs("h3",{style:{fontSize:"24px",marginBottom:"20px",color:"#2196F3"},children:["ğŸ“ ",e("landing.whoWeServe.schools.title")]}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#666",lineHeight:"2"},children:[r.jsxs("li",{children:["â€¢ ",r.jsx("strong",{children:e("landing.whoWeServe.schools.item1")})]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.schools.item2")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.schools.item3")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.schools.item4")]}),r.jsxs("li",{children:["â€¢ ",e("landing.whoWeServe.schools.item5")]})]})]})]})]}),r.jsx("div",{style:{backgroundColor:"#f0f7f0",padding:"80px 20px"},children:r.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[r.jsx("h2",{style:{textAlign:"center",fontSize:"32px",marginBottom:"50px",color:"#2e7d32",fontWeight:"bold"},children:e("landing.about.sectionTitle")}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[r.jsx("h3",{style:{fontSize:"24px",color:"#2e7d32",marginBottom:"20px",fontWeight:"bold"},children:e("landing.about.mission.title")}),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555"},children:e("landing.about.mission.text")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[r.jsx("h3",{style:{fontSize:"24px",color:"#2e7d32",marginBottom:"20px",fontWeight:"bold"},children:e("landing.about.vision.title")}),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555"},children:e("landing.about.vision.text")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[r.jsx("h3",{style:{fontSize:"24px",color:"#2e7d32",marginBottom:"25px",fontWeight:"bold"},children:e("landing.about.values.title")}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#555",lineHeight:"2"},children:[r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.values.compassion")})," â€“ ",e("landing.about.values.compassionDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.values.equity")})," â€“ ",e("landing.about.values.equityDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.values.empowerment")})," â€“ ",e("landing.about.values.empowermentDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.values.collaboration")})," â€“ ",e("landing.about.values.collaborationDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.values.integrity")})," â€“ ",e("landing.about.values.integrityDesc")]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[e("landing.about.bakup.title"),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555",marginBottom:"20px"},children:e("landing.about.bakup.paragraph1")}),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555"},children:e("landing.about.bakup.paragraph2")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[e("landing.about.keyAreas.title"),r.jsx("div",{style:{display:"grid",gap:"20px"},children:r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#555",lineHeight:"1.8"},children:[r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.keyAreas.foodSecurity")})," â€“ ",e("landing.about.keyAreas.foodSecurityDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.keyAreas.youthEmpowerment")})," â€“ ",e("landing.about.keyAreas.youthEmpowermentDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.keyAreas.healthWellbeing")})," â€“ ",e("landing.about.keyAreas.healthWellbeingDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.keyAreas.socialDeterminants")})," â€“ ",e("landing.about.keyAreas.socialDeterminantsDesc")]}),r.jsxs("li",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#2e7d32"},children:e("landing.about.keyAreas.communityCohesion")})," â€“ ",e("landing.about.keyAreas.communityCohesionDesc")]})]})})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[e("landing.about.circular.title"),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555",marginBottom:"15px"},children:e("landing.about.circular.paragraph1")}),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#555"},children:e("landing.about.circular.paragraph2")})]}),r.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"40px",borderRadius:"15px",border:"2px solid #4CAF50"},children:[e("landing.about.funders.title"),r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.8",color:"#333",textAlign:"center",fontWeight:"500"},children:e("landing.about.funders.text")})]}),r.jsx("div",{style:{textAlign:"center",marginTop:"40px"},children:r.jsx("button",{onClick:()=>o("register"),style:{padding:"15px 40px",fontSize:"1.5em",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:e("landing.about.joinScheme")})})]})}),r.jsxs("div",{style:{backgroundColor:"#4CAF50",color:"white",padding:"60px 20px",textAlign:"center"},children:[r.jsx("h2",{style:{fontSize:"32px",marginBottom:"20px"},children:e("landing.cta.title")}),r.jsx("p",{style:{fontSize:"16px",marginBottom:"30px"},children:e("landing.cta.subtitle")}),r.jsx("button",{onClick:()=>o("register"),style:{padding:"15px 40px",fontSize:"16px",backgroundColor:"#fff",color:"#4CAF50",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:e("landing.cta.button")})]}),r.jsx("div",{style:{backgroundColor:"#2e7d32",color:"white",padding:"50px 20px 30px",borderTop:"4px solid #4CAF50"},children:r.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"40px",marginBottom:"30px"},children:[r.jsxs("div",{children:[e("landing.about.footerAbout.title"),r.jsx("p",{style:{lineHeight:"1.6",color:"#e8f5e9",marginBottom:"15px"},children:e("landing.about.footerAbout.description")}),r.jsx("button",{onClick:()=>o("register"),style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",fontSize:"16px"},children:e("landing.about.footerAbout.learnMore")})]}),r.jsxs("div",{children:[e("landing.about.footerFunders.title"),r.jsx("p",{style:{lineHeight:"1.6",color:"#e8f5e9",marginBottom:"10px"},children:e("landing.about.footerFunders.description")}),r.jsxs("ul",{style:{listStyle:"none",padding:0,color:"#e8f5e9",lineHeight:"1.8"},children:[r.jsxs("li",{children:["âœ“ ",e("landing.about.footerFunders.item1")]}),r.jsxs("li",{children:["âœ“ ",e("landing.about.footerFunders.item2")]}),r.jsxs("li",{children:["âœ“ ",e("landing.about.footerFunders.item3")]}),r.jsxs("li",{children:["âœ“ ",e("landing.about.footerFunders.item4")]})]})]}),r.jsxs("div",{children:[e("landing.about.footerContact.title"),r.jsxs("p",{style:{lineHeight:"1.8",color:"#e8f5e9"},children:[r.jsx("strong",{children:e("landing.about.footerContact.company")}),r.jsx("br",{}),e("landing.about.footerContact.location"),r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:e("landing.about.footerContact.email")})," admin@bakupcic.co.uk",r.jsx("br",{}),r.jsx("strong",{children:e("landing.about.footerContact.phone")})," 01933698347 / +447947002815",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:e("landing.about.footerContact.hours")}),r.jsx("br",{}),e("landing.about.footerContact.hoursText")]})]})]}),r.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.2)",paddingTop:"20px",textAlign:"center",color:"#c8e6c9",fontSize:"14px"},children:[r.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"13px"},children:["Â© ",new Date().getFullYear()," BAK UP CIC. All rights reserved. | Northamptonshire Community E-Voucher Scheme"]}),r.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"13px"},children:"Charity Company Registration Number: 12994379"}),r.jsx("p",{style:{margin:"0",fontSize:"13px",fontStyle:"italic"},children:"BAK UP E-Voucher System v1.1.9"})]})]})})]})},la=()=>{const{i18n:o,t:e}=Nt(),i=[{code:"en",name:e("language.en"),flag:"ğŸ‡¬ğŸ‡§"},{code:"ar",name:e("language.ar"),flag:"ğŸ‡¸ğŸ‡¦"},{code:"ro",name:e("language.ro"),flag:"ğŸ‡·ğŸ‡´"},{code:"pl",name:e("language.pl"),flag:"ğŸ‡µğŸ‡±"}],s=l=>{o.changeLanguage(l),document.documentElement.dir=l==="ar"?"rtl":"ltr",document.documentElement.lang=l};return i.find(l=>l.code===o.language)||i[0],r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("select",{value:o.language,onChange:l=>s(l.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #ddd",backgroundColor:"white",cursor:"pointer",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.2s",minWidth:"150px"},onMouseOver:l=>{l.target.style.borderColor="#4CAF50",l.target.style.boxShadow="0 0 0 2px rgba(76, 175, 80, 0.1)"},onMouseOut:l=>{l.target.style.borderColor="#ddd",l.target.style.boxShadow="none"},children:i.map(l=>r.jsxs("option",{value:l.code,children:[l.flag," ",l.name]},l.code))})})};function h0({apiCall:o}){const{t:e}=Nt(),[i,s]=D.useState(""),[l,d]=D.useState(null),[f,x]=D.useState(!1),g=()=>se(null,null,function*(){if(!i||i.length<2){alert("Please enter at least 2 characters to search");return}x(!0);try{const w=yield o(`/admin/global-search?q=${encodeURIComponent(i)}`);d(w)}catch(w){alert("Search failed: "+w.message)}finally{x(!1)}}),y=w=>{w.key==="Enter"&&g()};return r.jsxs("div",{children:[r.jsxs("h2",{style:{marginBottom:"20px"},children:["ğŸ” ",e("adminEnhancements.globalSearch.title")]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsx("p",{style:{marginBottom:"15px",color:"#666"},children:e("adminEnhancements.globalSearch.description")}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[r.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),onKeyPress:y,placeholder:e("adminEnhancements.globalSearch.placeholder"),style:{flex:1,padding:"12px",fontSize:"20px",border:"2px solid #ddd",borderRadius:"5px"}}),r.jsx("button",{onClick:g,disabled:f,style:{padding:"12px 30px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"5px",cursor:f?"not-allowed":"pointer",fontSize:"20px",fontWeight:"bold"},children:e(f?"adminEnhancements.globalSearch.searching":"adminEnhancements.globalSearch.searchButton")})]})]}),l&&r.jsxs("div",{children:[r.jsxs("h3",{style:{marginBottom:"15px"},children:["Search Results (",l.total_count," found)"]}),l.results.vcse.length>0&&r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("h4",{style:{color:"#4CAF50",marginBottom:"15px"},children:["ğŸ¤ VCFSE Organizations (",l.results.vcse.length,")"]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Name"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Email"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"City"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Charity #"}),r.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #ddd"},children:"Balance"})]})}),r.jsx("tbody",{children:l.results.vcse.map(w=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"10px"},children:w.name}),r.jsx("td",{style:{padding:"10px"},children:w.email}),r.jsx("td",{style:{padding:"10px"},children:w.city}),r.jsx("td",{style:{padding:"10px"},children:w.charity_number}),r.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:"bold"},children:["Â£",w.balance.toFixed(2)]})]},w.id))})]})})]}),l.results.schools.length>0&&r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("h4",{style:{color:"#2196F3",marginBottom:"15px"},children:["ğŸ“ Schools/Care Organizations (",l.results.schools.length,")"]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Name"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Email"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"City"}),r.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #ddd"},children:"Balance"})]})}),r.jsx("tbody",{children:l.results.schools.map(w=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"10px"},children:w.name}),r.jsx("td",{style:{padding:"10px"},children:w.email}),r.jsx("td",{style:{padding:"10px"},children:w.city}),r.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:"bold"},children:["Â£",w.balance.toFixed(2)]})]},w.id))})]})})]}),l.results.shops.length>0&&r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("h4",{style:{color:"#FF9800",marginBottom:"15px"},children:["ğŸª Local Shops (",l.results.shops.length,")"]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Shop Name"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Town"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Address"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Phone"})]})}),r.jsx("tbody",{children:l.results.shops.map(w=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"10px"},children:w.name}),r.jsx("td",{style:{padding:"10px"},children:w.town}),r.jsx("td",{style:{padding:"10px"},children:w.address}),r.jsx("td",{style:{padding:"10px"},children:w.phone})]},w.id))})]})})]}),l.total_count===0&&r.jsx("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",textAlign:"center"},children:r.jsxs("p",{style:{fontSize:"22px",color:"#666"},children:['No results found for "',l.query,'"']})})]})]})}function u0({apiCall:o}){const{t:e}=Nt(),[i,s]=D.useState({shop_name:"",shop_id:"",town:"",start_date:"",end_date:"",transaction_type:"all",recipient_name:"",voucher_id:""}),[l,d]=D.useState([]),[f,x]=D.useState(!1),g=()=>se(null,null,function*(){x(!0);try{const S=new URLSearchParams;Object.keys(i).forEach(k=>{i[k]&&S.append(k,i[k])});const j=yield o(`/admin/transactions/search?${S.toString()}`);d(j.transactions||[])}catch(S){alert("Search failed: "+S.message)}finally{x(!1)}}),y=S=>se(null,null,function*(){try{const j=yield o("/admin/transactions/export",{method:"POST",body:JSON.stringify({transactions:l,format:S})});if(S==="csv"){const k=w(l);C(k,"transactions.csv","text/csv")}}catch(j){alert("Export failed: "+j.message)}}),w=S=>{if(!S.length)return"";const j=Object.keys(S[0]),k=[j.join(",")];return S.forEach(R=>{const O=j.map(F=>`"${R[F]}"`);k.push(O.join(","))}),k.join(`
`)},C=(S,j,k)=>{const R=new Blob([S],{type:k}),O=URL.createObjectURL(R),F=document.createElement("a");F.href=O,F.download=j,F.click(),URL.revokeObjectURL(O)};return r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"20px"},children:"ğŸ“Š Transaction & Shop Data Search"}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsx("h3",{style:{marginBottom:"20px"},children:"Search Filters"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Shop Name"}),r.jsx("input",{type:"text",value:i.shop_name,onChange:S=>s(G(L({},i),{shop_name:S.target.value})),placeholder:"Enter shop name...",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Town"}),r.jsxs("select",{value:i.town,onChange:S=>s(G(L({},i),{town:S.target.value})),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"},children:[r.jsx("option",{value:"",children:"All Towns"}),r.jsx("option",{value:"Wellingborough",children:"Wellingborough"}),r.jsx("option",{value:"Kettering",children:"Kettering"}),r.jsx("option",{value:"Corby",children:"Corby"}),r.jsx("option",{value:"Northampton",children:"Northampton"}),r.jsx("option",{value:"Daventry",children:"Daventry"}),r.jsx("option",{value:"Brackley",children:"Brackley"}),r.jsx("option",{value:"Towcester",children:"Towcester"})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Start Date"}),r.jsx("input",{type:"date",value:i.start_date,onChange:S=>s(G(L({},i),{start_date:S.target.value})),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"End Date"}),r.jsx("input",{type:"date",value:i.end_date,onChange:S=>s(G(L({},i),{end_date:S.target.value})),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Transaction Type"}),r.jsxs("select",{value:i.transaction_type,onChange:S=>s(G(L({},i),{transaction_type:S.target.value})),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"},children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"redeemed",children:"Redeemed"}),r.jsx("option",{value:"expired",children:"Expired"}),r.jsx("option",{value:"reissued",children:"Reissued"})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Recipient Name"}),r.jsx("input",{type:"text",value:i.recipient_name,onChange:S=>s(G(L({},i),{recipient_name:S.target.value})),placeholder:"Enter recipient name...",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Voucher ID"}),r.jsx("input",{type:"text",value:i.voucher_id,onChange:S=>s(G(L({},i),{voucher_id:S.target.value})),placeholder:"Enter voucher ID...",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px"}})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:g,disabled:f,style:{padding:"12px 30px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"5px",cursor:f?"not-allowed":"pointer",fontSize:"20px",fontWeight:"bold"},children:f?e("adminEnhancements.globalSearch.searching"):"Search Transactions"}),r.jsx("button",{onClick:()=>s({shop_name:"",shop_id:"",town:"",start_date:"",end_date:"",transaction_type:"all",recipient_name:"",voucher_id:""}),style:{padding:"12px 30px",backgroundColor:"#666",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"20px"},children:"Clear Filters"})]})]}),l.length>0&&r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("h3",{children:["Results (",l.length," transactions)"]}),r.jsx("div",{style:{display:"flex",gap:"10px"},children:r.jsx("button",{onClick:()=>y("csv"),style:{padding:"8px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Export CSV"})})]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"ID"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Voucher Code"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Shop"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Town"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Recipient"}),r.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #ddd"},children:"Amount"}),r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Date"}),r.jsx("th",{style:{padding:"10px",textAlign:"center",borderBottom:"2px solid #ddd"},children:"Status"})]})}),r.jsx("tbody",{children:l.map(S=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"10px"},children:S.transaction_id}),r.jsx("td",{style:{padding:"10px",fontFamily:"monospace"},children:S.voucher_code}),r.jsx("td",{style:{padding:"10px"},children:S.shop_name}),r.jsx("td",{style:{padding:"10px"},children:S.town}),r.jsx("td",{style:{padding:"10px"},children:S.recipient_name}),r.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:"bold"},children:["Â£",S.amount.toFixed(2)]}),r.jsx("td",{style:{padding:"10px"},children:S.date?new Date(S.date).toLocaleDateString():"N/A"}),r.jsx("td",{style:{padding:"10px",textAlign:"center"},children:r.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",backgroundColor:S.status==="redeemed"?"#4CAF50":S.status==="active"?"#2196F3":"#FF9800",color:"white"},children:S.status})})]},S.transaction_id))})]})})]})]})}function p0({apiCall:o}){const{t:e}=Nt(),[i,s]=D.useState(""),[l,d]=D.useState(""),[f,x]=D.useState([]),[g,y]=D.useState(!1),w=S=>{f.includes(S)?x(f.filter(j=>j!==S)):x([...f,S])},C=()=>se(null,null,function*(){if(!i||!l){alert("Please enter both title and message body");return}if(f.length===0){alert("Please select at least one audience");return}if(confirm(`Send this message to ${f.join(", ")}?`)){y(!0);try{const S=yield o("/admin/broadcast",{method:"POST",body:JSON.stringify({title:i,body:l,audiences:f})});alert(`Message sent successfully!
Sent: ${S.sent_count}
Failed: ${S.failed_count}`),s(""),d(""),x([])}catch(S){alert("Failed to send broadcast: "+S.message)}finally{y(!1)}}});return r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"20px"},children:"ğŸ“¢ Broadcast Messaging"}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px"},children:[r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Send announcements and important messages to all users in selected groups."}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Message Title"}),r.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),placeholder:"Enter message title...",style:{width:"100%",padding:"12px",fontSize:"20px",border:"1px solid #ddd",borderRadius:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Message Body"}),r.jsx("textarea",{value:l,onChange:S=>d(S.target.value),placeholder:"Enter your message...",rows:"8",style:{width:"100%",padding:"12px",fontSize:"20px",border:"1px solid #ddd",borderRadius:"5px",fontFamily:"inherit",resize:"vertical"}})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Select Audience"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[{id:"vcse",label:"ğŸ¤ VCFSE Organizations",color:"#4CAF50"},{id:"school",label:"ğŸ“ Schools/Care Orgs",color:"#2196F3"},{id:"vendor",label:"ğŸª Local Shops",color:"#FF9800"},{id:"recipient",label:"ğŸ‘¥ Recipients",color:"#9C27B0"}].map(({id:S,label:j,color:k})=>r.jsxs("div",{onClick:()=>w(S),style:{padding:"15px",border:`2px solid ${f.includes(S)?k:"#ddd"}`,borderRadius:"8px",cursor:"pointer",textAlign:"center",backgroundColor:f.includes(S)?`${k}15`:"white",transition:"all 0.2s"},children:[r.jsx("div",{style:{fontSize:"22px",fontWeight:"bold",color:f.includes(S)?k:"#666"},children:j}),f.includes(S)&&r.jsx("div",{style:{marginTop:"5px",color:k,fontWeight:"bold"},children:"âœ“ Selected"})]},S))})]}),r.jsx("button",{onClick:C,disabled:g,style:{padding:"15px 40px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"5px",cursor:g?"not-allowed":"pointer",fontSize:"22px",fontWeight:"bold",width:"100%"},children:g?"Sending...":"Send Broadcast Message"})]})]})}function f0({apiCall:o,vcseOrgs:e,schools:i,loadVcseOrgs:s,loadSchools:l}){const{t:d}=Nt(),[f,x]=D.useState("vcse"),[g,y]=D.useState(""),[w,C]=D.useState(""),[S,j]=D.useState(""),[k,R]=D.useState(!1),[O,F]=D.useState([]);Fe.useEffect(()=>{W()},[]);const Y=Fe.useCallback(le=>{x(le.target.value),y("")},[]),M=Fe.useCallback(le=>{console.log("[FundAllocation] handleOrgChange called, new value:",le.target.value),y(le.target.value)},[]),ee=Fe.useCallback(le=>{console.log("[FundAllocation] handleAmountChange called, new value:",le.target.value),C(le.target.value)},[]),U=Fe.useCallback(le=>{j(le.target.value)},[]),W=()=>se(null,null,function*(){try{const le=yield o("/admin/allocation-history");F(le.history||[])}catch(le){console.error("Failed to load allocation history:",le)}}),I=()=>se(null,null,function*(){if(!g||!w){alert("Please select an organization and enter an amount");return}const le=parseFloat(w);if(isNaN(le)||le<=0){alert("Please enter a valid amount greater than 0");return}const fe=f==="vcse"?e.find(oe=>oe.id===parseInt(g)):i.find(oe=>oe.id===parseInt(g));if(!fe){alert("Organization not found");return}if(confirm(`Allocate Â£${le.toFixed(2)} to ${fe.organization_name}?`)){R(!0);try{const oe=yield o("/admin/allocate-funds",{method:"POST",body:JSON.stringify({organization_id:g,organization_type:f,amount:le,notes:S})});alert(`Funds allocated successfully!
Organization: ${oe.organization.name}
Amount: Â£${oe.organization.allocated_amount.toFixed(2)}
New Balance: Â£${oe.organization.new_balance.toFixed(2)}`),y(""),C(""),j(""),s(),l(),W()}catch(oe){alert("Failed to allocate funds: "+oe.message)}finally{R(!1)}}}),Z=f==="vcse"?e:i,J=Z.find(le=>le.id===parseInt(g));return r.jsxs("div",{children:[r.jsxs("h2",{style:{marginBottom:"20px"},children:["ğŸ’° ",d("adminEnhancements.fundAllocation.title")]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"20px",marginBottom:"20px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px"},children:[r.jsx("h3",{style:{marginBottom:"20px"},children:d("adminEnhancements.fundAllocation.allocateFunds")}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:d("adminEnhancements.fundAllocation.organizationType")}),r.jsxs("select",{value:f,onChange:Y,style:{width:"100%",padding:"10px",fontSize:"20px",border:"1px solid #ddd",borderRadius:"5px"},children:[r.jsx("option",{value:"vcse",children:d("adminEnhancements.fundAllocation.vcseOrganization")}),r.jsx("option",{value:"school",children:d("adminEnhancements.fundAllocation.schoolOrganization")})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:d("adminEnhancements.fundAllocation.selectOrganization")}),r.jsxs("select",{value:g,onChange:M,style:{width:"100%",padding:"10px",fontSize:"20px",border:"1px solid #ddd",borderRadius:"5px"},children:[r.jsx("option",{value:"",children:d("adminEnhancements.fundAllocation.selectOrgPlaceholder")}),Z.map(le=>r.jsxs("option",{value:le.id,children:[le.organization_name," (Balance: Â£",(le.balance||0).toFixed(2),")"]},le.id))]},`org-select-${f}`)]}),J&&r.jsxs("div",{style:{padding:"15px",backgroundColor:"#f5f5f5",borderRadius:"5px",marginBottom:"15px"},children:[r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[d("adminEnhancements.fundAllocation.currentBalance"),":"]})," Â£",(J.balance||0).toFixed(2)]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Email:"})," ",J.email]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:d("adminEnhancements.fundAllocation.amount")}),r.jsx("input",{type:"number",value:w,onChange:ee,placeholder:d("adminEnhancements.fundAllocation.amountPlaceholder"),step:"0.01",min:"0",style:{width:"100%",padding:"10px",fontSize:"22px",border:"1px solid #ddd",borderRadius:"5px"}})]}),J&&w&&parseFloat(w)>0&&r.jsx("div",{style:{padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"5px",marginBottom:"15px",border:"2px solid #4CAF50"},children:r.jsxs("p",{style:{margin:"5px 0",fontSize:"20px"},children:[r.jsxs("strong",{children:[d("adminEnhancements.fundAllocation.newBalance"),":"]})," Â£",((J.balance||0)+parseFloat(w)).toFixed(2)]})}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:d("adminEnhancements.fundAllocation.notes")}),r.jsx("textarea",{value:S,onChange:U,placeholder:d("adminEnhancements.fundAllocation.notesPlaceholder"),rows:"3",style:{width:"100%",padding:"10px",fontSize:"18px",border:"1px solid #ddd",borderRadius:"5px",fontFamily:"inherit",resize:"vertical"}})]}),r.jsx("button",{onClick:I,disabled:k||!g||!w,style:{padding:"15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:k||!g||!w?"not-allowed":"pointer",fontSize:"22px",fontWeight:"bold",width:"100%"},children:k?d("adminEnhancements.fundAllocation.allocating"):"Allocate Funds"})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px"},children:[r.jsx("h3",{style:{marginBottom:"15px"},children:d("adminEnhancements.fundAllocation.allocationHistory")}),O.length===0?r.jsx("p",{style:{color:"#666",textAlign:"center",padding:"40px 0"},children:"No allocation history yet"}):r.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:O.map(le=>r.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #eee",marginBottom:"10px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("strong",{children:le.name}),r.jsxs("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:["Â£",le.total_allocated.toFixed(2)]})]}),r.jsxs("div",{style:{fontSize:"18px",color:"#666"},children:[r.jsxs("div",{children:["Type: ",le.type==="vcse"?"VCFSE":"School"]}),r.jsxs("div",{children:["Current Balance: Â£",le.current_balance.toFixed(2)]}),r.jsxs("div",{children:["Email: ",le.email]})]})]},le.id))})]})]})]})}const g0=({apiCall:o})=>{const{t:e}=Nt(),[i,s]=D.useState([]),[l,d]=D.useState({pending:0,active:0,rejected:0,total:0}),[f,x]=D.useState(!0),[g,y]=D.useState(""),[w,C]=D.useState(null),[S,j]=D.useState(""),[k,R]=D.useState(!1);D.useEffect(()=>{O(),F()},[]);const O=()=>se(null,null,function*(){try{x(!0);const I=yield o("/admin/vcse-verifications/pending");s(I.pending_vcses||[])}catch(I){y(`${e("vcfseVerification.error_loading")}: ${I.message}`)}finally{x(!1)}}),F=()=>se(null,null,function*(){try{const I=yield o("/admin/vcse-verifications/stats");d(I)}catch(I){console.error(`${e("vcfseVerification.error_loading_stats")}:`,I)}}),Y=I=>se(null,null,function*(){if(confirm(`Approve ${I.organization_name}?

This will grant them access to the VCFSE portal.`))try{const Z=yield o(`/admin/vcse-verifications/${I.id}/approve`,{method:"POST"});y(`âœ… ${e("vcfseVerification.approved_success",{name:I.organization_name,email:I.email})}`),O(),F(),setTimeout(()=>y(""),5e3)}catch(Z){y(`${e("vcfseVerification.error_approving")}: ${Z.message}`)}}),M=I=>{C(I),j(e("vcfseVerification.default_rejection_reason")),R(!0)},ee=()=>se(null,null,function*(){if(!S.trim()){alert(e("vcfseVerification.provide_reason"));return}try{const I=yield o(`/admin/vcse-verifications/${w.id}/reject`,{method:"POST",body:JSON.stringify({rejection_reason:S})});y(`âŒ ${e("vcfseVerification.rejected_success",{name:w.organization_name})}`),R(!1),C(null),j(""),O(),F(),setTimeout(()=>y(""),5e3)}catch(I){y(`${e("vcfseVerification.error_rejecting")}: ${I.message}`)}}),U=I=>I?new Date(I).toLocaleString():e("common.na"),W={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"30px"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},statCard:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",textAlign:"center"},statNumber:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50",margin:"10px 0"},statLabel:{color:"#666",fontSize:"18px"},vcseCard:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},vcseHeader:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px",paddingBottom:"15px",borderBottom:"2px solid #f0f0f0"},vcseTitle:{fontSize:"24px",fontWeight:"bold",color:"#333",marginBottom:"5px"},vcseSubtitle:{color:"#666",fontSize:"18px"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px",marginBottom:"15px"},detailItem:{padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},detailLabel:{fontSize:"16px",color:"#666",marginBottom:"5px",fontWeight:"600"},detailValue:{fontSize:"18px",color:"#333"},charityBox:{backgroundColor:"#e8f5e9",padding:"15px",borderRadius:"8px",borderLeft:"4px solid #4CAF50",marginBottom:"15px"},buttonGroup:{display:"flex",gap:"10px",marginTop:"15px"},approveButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",flex:1},rejectButton:{backgroundColor:"#f44336",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",flex:1},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%"},textarea:{width:"100%",minHeight:"100px",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"18px",fontFamily:"Arial, sans-serif",marginTop:"10px"},message:{padding:"15px",borderRadius:"8px",marginBottom:"20px",backgroundColor:"#e8f5e9",color:"#2e7d32",border:"1px solid #4CAF50"}};return r.jsxs("div",{style:W.container,children:[r.jsxs("div",{style:W.header,children:[r.jsx("h1",{children:"ğŸ” VCFSE Verification Queue"}),r.jsx("p",{style:{color:"#666"},children:"Review and approve VCFSE organization registrations"})]}),g&&r.jsx("div",{style:W.message,children:g}),r.jsxs("div",{style:W.statsGrid,children:[r.jsxs("div",{style:W.statCard,children:[r.jsx("div",{style:W.statLabel,children:"Pending Verification"}),r.jsx("div",{style:G(L({},W.statNumber),{color:"#ff9800"}),children:l.pending})]}),r.jsxs("div",{style:W.statCard,children:[r.jsx("div",{style:W.statLabel,children:"Active VCSEs"}),r.jsx("div",{style:G(L({},W.statNumber),{color:"#4CAF50"}),children:l.active})]}),r.jsxs("div",{style:W.statCard,children:[r.jsx("div",{style:W.statLabel,children:"Rejected"}),r.jsx("div",{style:G(L({},W.statNumber),{color:"#f44336"}),children:l.rejected})]}),r.jsxs("div",{style:W.statCard,children:[r.jsx("div",{style:W.statLabel,children:"Total Registrations"}),r.jsx("div",{style:G(L({},W.statNumber),{color:"#2196F3"}),children:l.total})]})]}),f?r.jsx("div",{style:{textAlign:"center",padding:"40px"},children:r.jsx("p",{children:"Loading pending verifications..."})}):i.length===0?r.jsxs("div",{style:G(L({},W.vcseCard),{textAlign:"center",padding:"40px"}),children:[r.jsx("h3",{children:"âœ… No Pending Verifications"}),r.jsx("p",{style:{color:"#666"},children:"All VCFSE registrations have been processed"})]}):i.map(I=>r.jsxs("div",{style:W.vcseCard,children:[r.jsxs("div",{style:W.vcseHeader,children:[r.jsxs("div",{children:[r.jsx("div",{style:W.vcseTitle,children:I.organization_name}),r.jsxs("div",{style:W.vcseSubtitle,children:[I.first_name," ",I.last_name," â€¢ ",I.email]}),r.jsxs("div",{style:G(L({},W.vcseSubtitle),{fontSize:"16px",marginTop:"5px"}),children:["Registered: ",U(I.created_at)]})]}),r.jsx("div",{style:{backgroundColor:"#fff3e0",color:"#f57c00",padding:"6px 12px",borderRadius:"20px",fontSize:"16px",fontWeight:"bold"},children:"PENDING"})]}),r.jsxs("div",{style:W.charityBox,children:[r.jsx("div",{style:{fontSize:"16px",color:"#2e7d32",fontWeight:"bold",marginBottom:"5px"},children:"ğŸ›ï¸ CHARITY COMMISSION DETAILS"}),r.jsx("div",{style:{fontSize:"22px",fontWeight:"bold",color:"#1b5e20"},children:I.charity_commission_number}),r.jsxs("div",{style:{fontSize:"16px",color:"#666",marginTop:"5px"},children:["âš ï¸ Verify this number at"," ",r.jsx("a",{href:`https://register-of-charities.charitycommission.gov.uk/charity-search?p_p_id=uk_gov_ccew_onereg_charitydetails_web_portlet_CharityDetailsPortlet&p_p_lifecycle=1&p_p_state=normal&_uk_gov_ccew_onereg_charitydetails_web_portlet_CharityDetailsPortlet_javax.portlet.action=searchCharitiesAction&_uk_gov_ccew_onereg_charitydetails_web_portlet_CharityDetailsPortlet_searchValue=${I.charity_commission_number}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#4CAF50",fontWeight:"bold"},children:"Charity Commission Register"})]})]}),r.jsxs("div",{style:W.detailsGrid,children:[r.jsxs("div",{style:W.detailItem,children:[r.jsx("div",{style:W.detailLabel,children:"ğŸ“§ Email"}),r.jsx("div",{style:W.detailValue,children:I.email})]}),r.jsxs("div",{style:W.detailItem,children:[r.jsx("div",{style:W.detailLabel,children:"ğŸ“ Phone"}),r.jsx("div",{style:W.detailValue,children:I.phone||"Not provided"})]}),r.jsxs("div",{style:W.detailItem,children:[r.jsx("div",{style:W.detailLabel,children:"ğŸ“ Address"}),r.jsx("div",{style:W.detailValue,children:I.address||"Not provided"})]}),r.jsxs("div",{style:W.detailItem,children:[r.jsx("div",{style:W.detailLabel,children:"ğŸ™ï¸ City / Postcode"}),r.jsxs("div",{style:W.detailValue,children:[I.city||e("common.na")," ",I.postcode?`â€¢ ${I.postcode}`:""]})]})]}),r.jsxs("div",{style:W.buttonGroup,children:[r.jsx("button",{onClick:()=>Y(I),style:W.approveButton,onMouseOver:Z=>Z.target.style.backgroundColor="#45a049",onMouseOut:Z=>Z.target.style.backgroundColor="#4CAF50",children:"âœ… Approve & Send Login Link"}),r.jsx("button",{onClick:()=>M(I),style:W.rejectButton,onMouseOver:Z=>Z.target.style.backgroundColor="#da190b",onMouseOut:Z=>Z.target.style.backgroundColor="#f44336",children:"âŒ Reject Application"})]})]},I.id)),k&&r.jsx("div",{style:W.modal,onClick:()=>R(!1),children:r.jsxs("div",{style:W.modalContent,onClick:I=>I.stopPropagation(),children:[r.jsx("h2",{children:"Reject VCFSE Application"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Organization:"})," ",w==null?void 0:w.organization_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Charity Number:"})," ",w==null?void 0:w.charity_commission_number]}),r.jsx("label",{style:{display:"block",marginTop:"20px",fontWeight:"bold"},children:"Rejection Reason:"}),r.jsx("textarea",{value:S,onChange:I=>j(I.target.value),placeholder:"Explain why this application is being rejected...",style:W.textarea}),r.jsxs("div",{style:G(L({},W.buttonGroup),{marginTop:"20px"}),children:[r.jsx("button",{onClick:()=>R(!1),style:G(L({},W.approveButton),{backgroundColor:"#999"}),children:"Cancel"}),r.jsx("button",{onClick:ee,style:W.rejectButton,children:"Confirm Rejection"})]})]})})]})};function Ur(o){return o+.5|0}const fn=(o,e,i)=>Math.max(Math.min(o,i),e);function Sr(o){return fn(Ur(o*2.55),0,255)}function bn(o){return fn(Ur(o*255),0,255)}function rn(o){return fn(Ur(o/2.55)/100,0,1)}function nl(o){return fn(Ur(o*100),0,100)}const Oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ms=[..."0123456789ABCDEF"],x0=o=>Ms[o&15],m0=o=>Ms[(o&240)>>4]+Ms[o&15],no=o=>(o&240)>>4===(o&15),y0=o=>no(o.r)&&no(o.g)&&no(o.b)&&no(o.a);function b0(o){var e=o.length,i;return o[0]==="#"&&(e===4||e===5?i={r:255&Oi[o[1]]*17,g:255&Oi[o[2]]*17,b:255&Oi[o[3]]*17,a:e===5?Oi[o[4]]*17:255}:(e===7||e===9)&&(i={r:Oi[o[1]]<<4|Oi[o[2]],g:Oi[o[3]]<<4|Oi[o[4]],b:Oi[o[5]]<<4|Oi[o[6]],a:e===9?Oi[o[7]]<<4|Oi[o[8]]:255})),i}const w0=(o,e)=>o<255?e(o):"";function v0(o){var e=y0(o)?x0:m0;return o?"#"+e(o.r)+e(o.g)+e(o.b)+w0(o.a,e):void 0}const C0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zc(o,e,i){const s=e*Math.min(i,1-i),l=(d,f=(d+o/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);return[l(0),l(8),l(4)]}function S0(o,e,i){const s=(l,d=(l+o/60)%6)=>i-i*e*Math.max(Math.min(d,4-d,1),0);return[s(5),s(3),s(1)]}function A0(o,e,i){const s=Zc(o,1,.5);let l;for(e+i>1&&(l=1/(e+i),e*=l,i*=l),l=0;l<3;l++)s[l]*=1-e-i,s[l]+=e;return s}function j0(o,e,i,s,l){return o===l?(e-i)/s+(e<i?6:0):e===l?(i-o)/s+2:(o-e)/s+4}function ca(o){const i=o.r/255,s=o.g/255,l=o.b/255,d=Math.max(i,s,l),f=Math.min(i,s,l),x=(d+f)/2;let g,y,w;return d!==f&&(w=d-f,y=x>.5?w/(2-d-f):w/(d+f),g=j0(i,s,l,w,d),g=g*60+.5),[g|0,y||0,x]}function da(o,e,i,s){return(Array.isArray(e)?o(e[0],e[1],e[2]):o(e,i,s)).map(bn)}function ha(o,e,i){return da(Zc,o,e,i)}function _0(o,e,i){return da(A0,o,e,i)}function E0(o,e,i){return da(S0,o,e,i)}function Qc(o){return(o%360+360)%360}function k0(o){const e=C0.exec(o);let i=255,s;if(!e)return;e[5]!==s&&(i=e[6]?Sr(+e[5]):bn(+e[5]));const l=Qc(+e[2]),d=+e[3]/100,f=+e[4]/100;return e[1]==="hwb"?s=_0(l,d,f):e[1]==="hsv"?s=E0(l,d,f):s=ha(l,d,f),{r:s[0],g:s[1],b:s[2],a:i}}function T0(o,e){var i=ca(o);i[0]=Qc(i[0]+e),i=ha(i),o.r=i[0],o.g=i[1],o.b=i[2]}function R0(o){if(!o)return;const e=ca(o),i=e[0],s=nl(e[1]),l=nl(e[2]);return o.a<255?`hsla(${i}, ${s}%, ${l}%, ${rn(o.a)})`:`hsl(${i}, ${s}%, ${l}%)`}const rl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ol={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function I0(){const o={},e=Object.keys(ol),i=Object.keys(rl);let s,l,d,f,x;for(s=0;s<e.length;s++){for(f=x=e[s],l=0;l<i.length;l++)d=i[l],x=x.replace(d,rl[d]);d=parseInt(ol[f],16),o[x]=[d>>16&255,d>>8&255,d&255]}return o}let ro;function B0(o){ro||(ro=I0(),ro.transparent=[0,0,0,0]);const e=ro[o.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const O0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function N0(o){const e=O0.exec(o);let i=255,s,l,d;if(e){if(e[7]!==s){const f=+e[7];i=e[8]?Sr(f):fn(f*255,0,255)}return s=+e[1],l=+e[3],d=+e[5],s=255&(e[2]?Sr(s):fn(s,0,255)),l=255&(e[4]?Sr(l):fn(l,0,255)),d=255&(e[6]?Sr(d):fn(d,0,255)),{r:s,g:l,b:d,a:i}}}function z0(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${rn(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}const bs=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,Gn=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function P0(o,e,i){const s=Gn(rn(o.r)),l=Gn(rn(o.g)),d=Gn(rn(o.b));return{r:bn(bs(s+i*(Gn(rn(e.r))-s))),g:bn(bs(l+i*(Gn(rn(e.g))-l))),b:bn(bs(d+i*(Gn(rn(e.b))-d))),a:o.a+i*(e.a-o.a)}}function oo(o,e,i){if(o){let s=ca(o);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,e===0?360:1)),s=ha(s),o.r=s[0],o.g=s[1],o.b=s[2]}}function Jc(o,e){return o&&Object.assign(e||{},o)}function sl(o){var e={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(e={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(e.a=bn(o[3]))):(e=Jc(o,{r:0,g:0,b:0,a:1}),e.a=bn(e.a)),e}function D0(o){return o.charAt(0)==="r"?N0(o):k0(o)}class zr{constructor(e){if(e instanceof zr)return e;const i=typeof e;let s;i==="object"?s=sl(e):i==="string"&&(s=b0(e)||B0(e)||D0(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Jc(this._rgb);return e&&(e.a=rn(e.a)),e}set rgb(e){this._rgb=sl(e)}rgbString(){return this._valid?z0(this._rgb):void 0}hexString(){return this._valid?v0(this._rgb):void 0}hslString(){return this._valid?R0(this._rgb):void 0}mix(e,i){if(e){const s=this.rgb,l=e.rgb;let d;const f=i===d?.5:i,x=2*f-1,g=s.a-l.a,y=((x*g===-1?x:(x+g)/(1+x*g))+1)/2;d=1-y,s.r=255&y*s.r+d*l.r+.5,s.g=255&y*s.g+d*l.g+.5,s.b=255&y*s.b+d*l.b+.5,s.a=f*s.a+(1-f)*l.a,this.rgb=s}return this}interpolate(e,i){return e&&(this._rgb=P0(this._rgb,e._rgb,i)),this}clone(){return new zr(this.rgb)}alpha(e){return this._rgb.a=bn(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=Ur(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return oo(this._rgb,2,e),this}darken(e){return oo(this._rgb,2,-e),this}saturate(e){return oo(this._rgb,1,e),this}desaturate(e){return oo(this._rgb,1,-e),this}rotate(e){return T0(this._rgb,e),this}}function Ji(){}const F0=(()=>{let o=0;return()=>o++})();function jt(o){return o==null}function ii(o){if(Array.isArray&&Array.isArray(o))return!0;const e=Object.prototype.toString.call(o);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function st(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}function fi(o){return(typeof o=="number"||o instanceof Number)&&isFinite(+o)}function Xi(o,e){return fi(o)?o:e}function nt(o,e){return typeof o=="undefined"?e:o}const M0=(o,e)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100:+o/e,ed=(o,e)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*e:+o;function Bt(o,e,i){if(o&&typeof o.call=="function")return o.apply(i,e)}function mt(o,e,i,s){let l,d,f;if(ii(o))for(d=o.length,l=0;l<d;l++)e.call(i,o[l],l);else if(st(o))for(f=Object.keys(o),d=f.length,l=0;l<d;l++)e.call(i,o[f[l]],f[l])}function Io(o,e){let i,s,l,d;if(!o||!e||o.length!==e.length)return!1;for(i=0,s=o.length;i<s;++i)if(l=o[i],d=e[i],l.datasetIndex!==d.datasetIndex||l.index!==d.index)return!1;return!0}function Bo(o){if(ii(o))return o.map(Bo);if(st(o)){const e=Object.create(null),i=Object.keys(o),s=i.length;let l=0;for(;l<s;++l)e[i[l]]=Bo(o[i[l]]);return e}return o}function td(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function L0(o,e,i,s){if(!td(o))return;const l=e[o],d=i[o];st(l)&&st(d)?Pr(l,d,s):e[o]=Bo(d)}function Pr(o,e,i){const s=ii(e)?e:[e],l=s.length;if(!st(o))return o;i=i||{};const d=i.merger||L0;let f;for(let x=0;x<l;++x){if(f=s[x],!st(f))continue;const g=Object.keys(f);for(let y=0,w=g.length;y<w;++y)d(g[y],o,f,i)}return o}function Tr(o,e){return Pr(o,e,{merger:V0})}function V0(o,e,i){if(!td(o))return;const s=e[o],l=i[o];st(s)&&st(l)?Tr(s,l):Object.prototype.hasOwnProperty.call(e,o)||(e[o]=Bo(l))}const al={"":o=>o,x:o=>o.x,y:o=>o.y};function W0(o){const e=o.split("."),i=[];let s="";for(const l of e)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function U0(o){const e=W0(o);return i=>{for(const s of e){if(s==="")break;i=i&&i[s]}return i}}function Dr(o,e){return(al[e]||(al[e]=U0(e)))(o)}function ua(o){return o.charAt(0).toUpperCase()+o.slice(1)}const Oo=o=>typeof o!="undefined",vn=o=>typeof o=="function",ll=(o,e)=>{if(o.size!==e.size)return!1;for(const i of o)if(!e.has(i))return!1;return!0};function H0(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}const yt=Math.PI,Dt=2*yt,G0=Dt+yt,No=Number.POSITIVE_INFINITY,q0=yt/180,ni=yt/2,jn=yt/4,cl=yt*2/3,id=Math.log10,Jn=Math.sign;function Rr(o,e,i){return Math.abs(o-e)<i}function dl(o){const e=Math.round(o);o=Rr(o,e,o/1e3)?e:o;const i=Math.pow(10,Math.floor(id(o))),s=o/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function X0(o){const e=[],i=Math.sqrt(o);let s;for(s=1;s<i;s++)o%s===0&&(e.push(s),e.push(o/s));return i===(i|0)&&e.push(i),e.sort((l,d)=>l-d).pop(),e}function Y0(o){return typeof o=="symbol"||typeof o=="object"&&o!==null&&!(Symbol.toPrimitive in o||"toString"in o||"valueOf"in o)}function Fr(o){return!Y0(o)&&!isNaN(parseFloat(o))&&isFinite(o)}function K0(o,e){const i=Math.round(o);return i-e<=o&&i+e>=o}function $0(o,e,i){let s,l,d;for(s=0,l=o.length;s<l;s++)d=o[s][i],isNaN(d)||(e.min=Math.min(e.min,d),e.max=Math.max(e.max,d))}function on(o){return o*(yt/180)}function Z0(o){return o*(180/yt)}function hl(o){if(!fi(o))return;let e=1,i=0;for(;Math.round(o*e)/e!==o;)e*=10,i++;return i}function nd(o,e){const i=e.x-o.x,s=e.y-o.y,l=Math.sqrt(i*i+s*s);let d=Math.atan2(s,i);return d<-.5*yt&&(d+=Dt),{angle:d,distance:l}}function Ls(o,e){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))}function Q0(o,e){return(o-e+G0)%Dt-yt}function ki(o){return(o%Dt+Dt)%Dt}function Mr(o,e,i,s){const l=ki(o),d=ki(e),f=ki(i),x=ki(d-l),g=ki(f-l),y=ki(l-d),w=ki(l-f);return l===d||l===f||s&&d===f||x>g&&y<w}function ui(o,e,i){return Math.max(e,Math.min(i,o))}function J0(o){return ui(o,-32768,32767)}function sn(o,e,i,s=1e-6){return o>=Math.min(e,i)-s&&o<=Math.max(e,i)+s}function pa(o,e,i){i=i||(f=>o[f]<e);let s=o.length-1,l=0,d;for(;s-l>1;)d=l+s>>1,i(d)?l=d:s=d;return{lo:l,hi:s}}const Rn=(o,e,i,s)=>pa(o,i,s?l=>{const d=o[l][e];return d<i||d===i&&o[l+1][e]===i}:l=>o[l][e]<i),ex=(o,e,i)=>pa(o,i,s=>o[s][e]>=i);function tx(o,e,i){let s=0,l=o.length;for(;s<l&&o[s]<e;)s++;for(;l>s&&o[l-1]>i;)l--;return s>0||l<o.length?o.slice(s,l):o}const rd=["push","pop","shift","splice","unshift"];function ix(o,e){if(o._chartjs){o._chartjs.listeners.push(e);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rd.forEach(i=>{const s="_onData"+ua(i),l=o[i];Object.defineProperty(o,i,{configurable:!0,enumerable:!1,value(...d){const f=l.apply(this,d);return o._chartjs.listeners.forEach(x=>{typeof x[s]=="function"&&x[s](...d)}),f}})})}function ul(o,e){const i=o._chartjs;if(!i)return;const s=i.listeners,l=s.indexOf(e);l!==-1&&s.splice(l,1),!(s.length>0)&&(rd.forEach(d=>{delete o[d]}),delete o._chartjs)}function nx(o){const e=new Set(o);return e.size===o.length?o:Array.from(e)}const od=(function(){return typeof window=="undefined"?function(o){return o()}:window.requestAnimationFrame})();function sd(o,e){let i=[],s=!1;return function(...l){i=l,s||(s=!0,od.call(window,()=>{s=!1,o.apply(e,i)}))}}function rx(o,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(o,e,s)):o.apply(this,s),e}}const fa=o=>o==="start"?"left":o==="end"?"right":"center",hi=(o,e,i)=>o==="start"?e:o==="end"?i:(e+i)/2,ox=(o,e,i,s)=>o===(s?"left":"right")?i:o==="center"?(e+i)/2:e;function sx(o,e,i){const s=e.length;let l=0,d=s;if(o._sorted){const{iScale:f,vScale:x,_parsed:g}=o,y=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null,w=f.axis,{min:C,max:S,minDefined:j,maxDefined:k}=f.getUserBounds();if(j){if(l=Math.min(Rn(g,w,C).lo,i?s:Rn(e,w,f.getPixelForValue(C)).lo),y){const R=g.slice(0,l+1).reverse().findIndex(O=>!jt(O[x.axis]));l-=Math.max(0,R)}l=ui(l,0,s-1)}if(k){let R=Math.max(Rn(g,f.axis,S,!0).hi+1,i?0:Rn(e,w,f.getPixelForValue(S),!0).hi+1);if(y){const O=g.slice(R-1).findIndex(F=>!jt(F[x.axis]));R+=Math.max(0,O)}d=ui(R,l,s)-l}else d=s-l}return{start:l,count:d}}function ax(o){const{xScale:e,yScale:i,_scaleRanges:s}=o,l={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return o._scaleRanges=l,!0;const d=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,l),d}const so=o=>o===0||o===1,pl=(o,e,i)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-e)*Dt/i)),fl=(o,e,i)=>Math.pow(2,-10*o)*Math.sin((o-e)*Dt/i)+1,Ir={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*ni)+1,easeOutSine:o=>Math.sin(o*ni),easeInOutSine:o=>-.5*(Math.cos(yt*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>so(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>so(o)?o:pl(o,.075,.3),easeOutElastic:o=>so(o)?o:fl(o,.075,.3),easeInOutElastic(o){return so(o)?o:o<.5?.5*pl(o*2,.1125,.45):.5+.5*fl(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let e=1.70158;return(o/=.5)<1?.5*(o*o*(((e*=1.525)+1)*o-e)):.5*((o-=2)*o*(((e*=1.525)+1)*o+e)+2)},easeInBounce:o=>1-Ir.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?Ir.easeInBounce(o*2)*.5:Ir.easeOutBounce(o*2-1)*.5+.5};function ga(o){if(o&&typeof o=="object"){const e=o.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function gl(o){return ga(o)?o:new zr(o)}function ws(o){return ga(o)?o:new zr(o).saturate(.5).darken(.1).hexString()}const lx=["x","y","borderWidth","radius","tension"],cx=["color","borderColor","backgroundColor"];function dx(o){o.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),o.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),o.set("animations",{colors:{type:"color",properties:cx},numbers:{type:"number",properties:lx}}),o.describe("animations",{_fallback:"animation"}),o.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function hx(o){o.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xl=new Map;function ux(o,e){e=e||{};const i=o+JSON.stringify(e);let s=xl.get(i);return s||(s=new Intl.NumberFormat(o,e),xl.set(i,s)),s}function xa(o,e,i){return ux(e,i).format(o)}const px={values(o){return ii(o)?o:""+o},numeric(o,e,i){if(o===0)return"0";const s=this.chart.options.locale;let l,d=o;if(i.length>1){const y=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(y<1e-4||y>1e15)&&(l="scientific"),d=fx(o,i)}const f=id(Math.abs(d)),x=isNaN(f)?1:Math.max(Math.min(-1*Math.floor(f),20),0),g={notation:l,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(g,this.options.ticks.format),xa(o,s,g)}};function fx(o,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&o!==Math.floor(o)&&(i=o-Math.floor(o)),i}var ad={formatters:px};function gx(o){o.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ad.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),o.route("scale.ticks","color","","color"),o.route("scale.grid","color","","borderColor"),o.route("scale.border","color","","borderColor"),o.route("scale.title","color","","color"),o.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),o.describe("scales",{_fallback:"scale"}),o.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bn=Object.create(null),Vs=Object.create(null);function Br(o,e){if(!e)return o;const i=e.split(".");for(let s=0,l=i.length;s<l;++s){const d=i[s];o=o[d]||(o[d]=Object.create(null))}return o}function vs(o,e,i){return typeof e=="string"?Pr(Br(o,e),i):Pr(Br(o,""),e)}class xx{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>ws(l.backgroundColor),this.hoverBorderColor=(s,l)=>ws(l.borderColor),this.hoverColor=(s,l)=>ws(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return vs(this,e,i)}get(e){return Br(this,e)}describe(e,i){return vs(Vs,e,i)}override(e,i){return vs(Bn,e,i)}route(e,i,s,l){const d=Br(this,e),f=Br(this,s),x="_"+i;Object.defineProperties(d,{[x]:{value:d[i],writable:!0},[i]:{enumerable:!0,get(){const g=this[x],y=f[l];return st(g)?Object.assign({},y,g):nt(g,y)},set(g){this[x]=g}}})}apply(e){e.forEach(i=>i(this))}}var qt=new xx({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dx,hx,gx]);function mx(o){return!o||jt(o.size)||jt(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function ml(o,e,i,s,l){let d=e[l];return d||(d=e[l]=o.measureText(l).width,i.push(l)),d>s&&(s=d),s}function _n(o,e,i){const s=o.currentDevicePixelRatio,l=i!==0?Math.max(i/2,.5):0;return Math.round((e-l)*s)/s+l}function yl(o,e){!e&&!o||(e=e||o.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,o.width,o.height),e.restore())}function Ws(o,e,i,s){ld(o,e,i,s,null)}function ld(o,e,i,s,l){let d,f,x,g,y,w,C,S;const j=e.pointStyle,k=e.rotation,R=e.radius;let O=(k||0)*q0;if(j&&typeof j=="object"&&(d=j.toString(),d==="[object HTMLImageElement]"||d==="[object HTMLCanvasElement]")){o.save(),o.translate(i,s),o.rotate(O),o.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),o.restore();return}if(!(isNaN(R)||R<=0)){switch(o.beginPath(),j){default:l?o.ellipse(i,s,l/2,R,0,0,Dt):o.arc(i,s,R,0,Dt),o.closePath();break;case"triangle":w=l?l/2:R,o.moveTo(i+Math.sin(O)*w,s-Math.cos(O)*R),O+=cl,o.lineTo(i+Math.sin(O)*w,s-Math.cos(O)*R),O+=cl,o.lineTo(i+Math.sin(O)*w,s-Math.cos(O)*R),o.closePath();break;case"rectRounded":y=R*.516,g=R-y,f=Math.cos(O+jn)*g,C=Math.cos(O+jn)*(l?l/2-y:g),x=Math.sin(O+jn)*g,S=Math.sin(O+jn)*(l?l/2-y:g),o.arc(i-C,s-x,y,O-yt,O-ni),o.arc(i+S,s-f,y,O-ni,O),o.arc(i+C,s+x,y,O,O+ni),o.arc(i-S,s+f,y,O+ni,O+yt),o.closePath();break;case"rect":if(!k){g=Math.SQRT1_2*R,w=l?l/2:g,o.rect(i-w,s-g,2*w,2*g);break}O+=jn;case"rectRot":C=Math.cos(O)*(l?l/2:R),f=Math.cos(O)*R,x=Math.sin(O)*R,S=Math.sin(O)*(l?l/2:R),o.moveTo(i-C,s-x),o.lineTo(i+S,s-f),o.lineTo(i+C,s+x),o.lineTo(i-S,s+f),o.closePath();break;case"crossRot":O+=jn;case"cross":C=Math.cos(O)*(l?l/2:R),f=Math.cos(O)*R,x=Math.sin(O)*R,S=Math.sin(O)*(l?l/2:R),o.moveTo(i-C,s-x),o.lineTo(i+C,s+x),o.moveTo(i+S,s-f),o.lineTo(i-S,s+f);break;case"star":C=Math.cos(O)*(l?l/2:R),f=Math.cos(O)*R,x=Math.sin(O)*R,S=Math.sin(O)*(l?l/2:R),o.moveTo(i-C,s-x),o.lineTo(i+C,s+x),o.moveTo(i+S,s-f),o.lineTo(i-S,s+f),O+=jn,C=Math.cos(O)*(l?l/2:R),f=Math.cos(O)*R,x=Math.sin(O)*R,S=Math.sin(O)*(l?l/2:R),o.moveTo(i-C,s-x),o.lineTo(i+C,s+x),o.moveTo(i+S,s-f),o.lineTo(i-S,s+f);break;case"line":f=l?l/2:Math.cos(O)*R,x=Math.sin(O)*R,o.moveTo(i-f,s-x),o.lineTo(i+f,s+x);break;case"dash":o.moveTo(i,s),o.lineTo(i+Math.cos(O)*(l?l/2:R),s+Math.sin(O)*R);break;case!1:o.closePath();break}o.fill(),e.borderWidth>0&&o.stroke()}}function Lr(o,e,i){return i=i||.5,!e||o&&o.x>e.left-i&&o.x<e.right+i&&o.y>e.top-i&&o.y<e.bottom+i}function Ho(o,e){o.save(),o.beginPath(),o.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),o.clip()}function Go(o){o.restore()}function yx(o,e,i,s,l){if(!e)return o.lineTo(i.x,i.y);if(l==="middle"){const d=(e.x+i.x)/2;o.lineTo(d,e.y),o.lineTo(d,i.y)}else l==="after"!=!!s?o.lineTo(e.x,i.y):o.lineTo(i.x,e.y);o.lineTo(i.x,i.y)}function bx(o,e,i,s){if(!e)return o.lineTo(i.x,i.y);o.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function wx(o,e){e.translation&&o.translate(e.translation[0],e.translation[1]),jt(e.rotation)||o.rotate(e.rotation),e.color&&(o.fillStyle=e.color),e.textAlign&&(o.textAlign=e.textAlign),e.textBaseline&&(o.textBaseline=e.textBaseline)}function vx(o,e,i,s,l){if(l.strikethrough||l.underline){const d=o.measureText(s),f=e-d.actualBoundingBoxLeft,x=e+d.actualBoundingBoxRight,g=i-d.actualBoundingBoxAscent,y=i+d.actualBoundingBoxDescent,w=l.strikethrough?(g+y)/2:y;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=l.decorationWidth||2,o.moveTo(f,w),o.lineTo(x,w),o.stroke()}}function Cx(o,e){const i=o.fillStyle;o.fillStyle=e.color,o.fillRect(e.left,e.top,e.width,e.height),o.fillStyle=i}function Vr(o,e,i,s,l,d={}){const f=ii(e)?e:[e],x=d.strokeWidth>0&&d.strokeColor!=="";let g,y;for(o.save(),o.font=l.string,wx(o,d),g=0;g<f.length;++g)y=f[g],d.backdrop&&Cx(o,d.backdrop),x&&(d.strokeColor&&(o.strokeStyle=d.strokeColor),jt(d.strokeWidth)||(o.lineWidth=d.strokeWidth),o.strokeText(y,i,s,d.maxWidth)),o.fillText(y,i,s,d.maxWidth),vx(o,i,s,y,d),s+=Number(l.lineHeight);o.restore()}function zo(o,e){const{x:i,y:s,w:l,h:d,radius:f}=e;o.arc(i+f.topLeft,s+f.topLeft,f.topLeft,1.5*yt,yt,!0),o.lineTo(i,s+d-f.bottomLeft),o.arc(i+f.bottomLeft,s+d-f.bottomLeft,f.bottomLeft,yt,ni,!0),o.lineTo(i+l-f.bottomRight,s+d),o.arc(i+l-f.bottomRight,s+d-f.bottomRight,f.bottomRight,ni,0,!0),o.lineTo(i+l,s+f.topRight),o.arc(i+l-f.topRight,s+f.topRight,f.topRight,0,-ni,!0),o.lineTo(i+f.topLeft,s)}const Sx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ax=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jx(o,e){const i=(""+o).match(Sx);if(!i||i[1]==="normal")return e*1.2;switch(o=+i[2],i[3]){case"px":return o;case"%":o/=100;break}return e*o}const _x=o=>+o||0;function ma(o,e){const i={},s=st(e),l=s?Object.keys(e):e,d=st(o)?s?f=>nt(o[f],o[e[f]]):f=>o[f]:()=>o;for(const f of l)i[f]=_x(d(f));return i}function cd(o){return ma(o,{top:"y",right:"x",bottom:"y",left:"x"})}function $n(o){return ma(o,["topLeft","topRight","bottomLeft","bottomRight"])}function Di(o){const e=cd(o);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pi(o,e){o=o||{},e=e||qt.font;let i=nt(o.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let s=nt(o.style,e.style);s&&!(""+s).match(Ax)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:nt(o.family,e.family),lineHeight:jx(nt(o.lineHeight,e.lineHeight),i),size:i,style:s,weight:nt(o.weight,e.weight),string:""};return l.string=mx(l),l}function ao(o,e,i,s){let l,d,f;for(l=0,d=o.length;l<d;++l)if(f=o[l],f!==void 0&&f!==void 0)return f}function Ex(o,e,i){const{min:s,max:l}=o,d=ed(e,(l-s)/2),f=(x,g)=>i&&x===0?0:x+g;return{min:f(s,-Math.abs(d)),max:f(l,d)}}function Nn(o,e){return Object.assign(Object.create(o),e)}function ya(o,e=[""],i,s,l=()=>o[0]){const d=i||o;typeof s=="undefined"&&(s=pd("_fallback",o));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:d,_fallback:s,_getTarget:l,override:x=>ya([x,...o],e,d,s)};return new Proxy(f,{deleteProperty(x,g){return delete x[g],delete x._keys,delete o[0][g],!0},get(x,g){return hd(x,g,()=>zx(g,e,o,x))},getOwnPropertyDescriptor(x,g){return Reflect.getOwnPropertyDescriptor(x._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(x,g){return wl(x).includes(g)},ownKeys(x){return wl(x)},set(x,g,y){const w=x._storage||(x._storage=l());return x[g]=w[g]=y,delete x._keys,!0}})}function er(o,e,i,s){const l={_cacheable:!1,_proxy:o,_context:e,_subProxy:i,_stack:new Set,_descriptors:dd(o,s),setContext:d=>er(o,d,i,s),override:d=>er(o.override(d),e,i,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete o[f],!0},get(d,f,x){return hd(d,f,()=>Tx(d,f,x))},getOwnPropertyDescriptor(d,f){return d._descriptors.allKeys?Reflect.has(o,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,f)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(d,f){return Reflect.has(o,f)},ownKeys(){return Reflect.ownKeys(o)},set(d,f,x){return o[f]=x,delete d[f],!0}})}function dd(o,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:l=e.allKeys}=o;return{allKeys:l,scriptable:i,indexable:s,isScriptable:vn(i)?i:()=>i,isIndexable:vn(s)?s:()=>s}}const kx=(o,e)=>o?o+ua(e):e,ba=(o,e)=>st(e)&&o!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function hd(o,e,i){if(Object.prototype.hasOwnProperty.call(o,e)||e==="constructor")return o[e];const s=i();return o[e]=s,s}function Tx(o,e,i){const{_proxy:s,_context:l,_subProxy:d,_descriptors:f}=o;let x=s[e];return vn(x)&&f.isScriptable(e)&&(x=Rx(e,x,o,i)),ii(x)&&x.length&&(x=Ix(e,x,o,f.isIndexable)),ba(e,x)&&(x=er(x,l,d&&d[e],f)),x}function Rx(o,e,i,s){const{_proxy:l,_context:d,_subProxy:f,_stack:x}=i;if(x.has(o))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+o);x.add(o);let g=e(d,f||s);return x.delete(o),ba(o,g)&&(g=wa(l._scopes,l,o,g)),g}function Ix(o,e,i,s){const{_proxy:l,_context:d,_subProxy:f,_descriptors:x}=i;if(typeof d.index!="undefined"&&s(o))return e[d.index%e.length];if(st(e[0])){const g=e,y=l._scopes.filter(w=>w!==g);e=[];for(const w of g){const C=wa(y,l,o,w);e.push(er(C,d,f&&f[o],x))}}return e}function ud(o,e,i){return vn(o)?o(e,i):o}const Bx=(o,e)=>o===!0?e:typeof o=="string"?Dr(e,o):void 0;function Ox(o,e,i,s,l){for(const d of e){const f=Bx(i,d);if(f){o.add(f);const x=ud(f._fallback,i,l);if(typeof x!="undefined"&&x!==i&&x!==s)return x}else if(f===!1&&typeof s!="undefined"&&i!==s)return null}return!1}function wa(o,e,i,s){const l=e._rootScopes,d=ud(e._fallback,i,s),f=[...o,...l],x=new Set;x.add(s);let g=bl(x,f,i,d||i,s);return g===null||typeof d!="undefined"&&d!==i&&(g=bl(x,f,d,g,s),g===null)?!1:ya(Array.from(x),[""],l,d,()=>Nx(e,i,s))}function bl(o,e,i,s,l){for(;i;)i=Ox(o,e,i,s,l);return i}function Nx(o,e,i){const s=o._getTarget();e in s||(s[e]={});const l=s[e];return ii(l)&&st(i)?i:l||{}}function zx(o,e,i,s){let l;for(const d of e)if(l=pd(kx(d,o),i),typeof l!="undefined")return ba(o,l)?wa(i,s,o,l):l}function pd(o,e){for(const i of e){if(!i)continue;const s=i[o];if(typeof s!="undefined")return s}}function wl(o){let e=o._keys;return e||(e=o._keys=Px(o._scopes)),e}function Px(o){const e=new Set;for(const i of o)for(const s of Object.keys(i).filter(l=>!l.startsWith("_")))e.add(s);return Array.from(e)}const Dx=Number.EPSILON||1e-14,tr=(o,e)=>e<o.length&&!o[e].skip&&o[e],fd=o=>o==="x"?"y":"x";function Fx(o,e,i,s){const l=o.skip?e:o,d=e,f=i.skip?e:i,x=Ls(d,l),g=Ls(f,d);let y=x/(x+g),w=g/(x+g);y=isNaN(y)?0:y,w=isNaN(w)?0:w;const C=s*y,S=s*w;return{previous:{x:d.x-C*(f.x-l.x),y:d.y-C*(f.y-l.y)},next:{x:d.x+S*(f.x-l.x),y:d.y+S*(f.y-l.y)}}}function Mx(o,e,i){const s=o.length;let l,d,f,x,g,y=tr(o,0);for(let w=0;w<s-1;++w)if(g=y,y=tr(o,w+1),!(!g||!y)){if(Rr(e[w],0,Dx)){i[w]=i[w+1]=0;continue}l=i[w]/e[w],d=i[w+1]/e[w],x=Math.pow(l,2)+Math.pow(d,2),!(x<=9)&&(f=3/Math.sqrt(x),i[w]=l*f*e[w],i[w+1]=d*f*e[w])}}function Lx(o,e,i="x"){const s=fd(i),l=o.length;let d,f,x,g=tr(o,0);for(let y=0;y<l;++y){if(f=x,x=g,g=tr(o,y+1),!x)continue;const w=x[i],C=x[s];f&&(d=(w-f[i])/3,x[`cp1${i}`]=w-d,x[`cp1${s}`]=C-d*e[y]),g&&(d=(g[i]-w)/3,x[`cp2${i}`]=w+d,x[`cp2${s}`]=C+d*e[y])}}function Vx(o,e="x"){const i=fd(e),s=o.length,l=Array(s).fill(0),d=Array(s);let f,x,g,y=tr(o,0);for(f=0;f<s;++f)if(x=g,g=y,y=tr(o,f+1),!!g){if(y){const w=y[e]-g[e];l[f]=w!==0?(y[i]-g[i])/w:0}d[f]=x?y?Jn(l[f-1])!==Jn(l[f])?0:(l[f-1]+l[f])/2:l[f-1]:l[f]}Mx(o,l,d),Lx(o,d,e)}function lo(o,e,i){return Math.max(Math.min(o,i),e)}function Wx(o,e){let i,s,l,d,f,x=Lr(o[0],e);for(i=0,s=o.length;i<s;++i)f=d,d=x,x=i<s-1&&Lr(o[i+1],e),d&&(l=o[i],f&&(l.cp1x=lo(l.cp1x,e.left,e.right),l.cp1y=lo(l.cp1y,e.top,e.bottom)),x&&(l.cp2x=lo(l.cp2x,e.left,e.right),l.cp2y=lo(l.cp2y,e.top,e.bottom)))}function Ux(o,e,i,s,l){let d,f,x,g;if(e.spanGaps&&(o=o.filter(y=>!y.skip)),e.cubicInterpolationMode==="monotone")Vx(o,l);else{let y=s?o[o.length-1]:o[0];for(d=0,f=o.length;d<f;++d)x=o[d],g=Fx(y,x,o[Math.min(d+1,f-(s?0:1))%f],e.tension),x.cp1x=g.previous.x,x.cp1y=g.previous.y,x.cp2x=g.next.x,x.cp2y=g.next.y,y=x}e.capBezierPoints&&Wx(o,i)}function va(){return typeof window!="undefined"&&typeof document!="undefined"}function Ca(o){let e=o.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Po(o,e,i){let s;return typeof o=="string"?(s=parseInt(o,10),o.indexOf("%")!==-1&&(s=s/100*e.parentNode[i])):s=o,s}const qo=o=>o.ownerDocument.defaultView.getComputedStyle(o,null);function Hx(o,e){return qo(o).getPropertyValue(e)}const Gx=["top","right","bottom","left"];function In(o,e,i){const s={};i=i?"-"+i:"";for(let l=0;l<4;l++){const d=Gx[l];s[d]=parseFloat(o[e+"-"+d+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const qx=(o,e,i)=>(o>0||e>0)&&(!i||!i.shadowRoot);function Xx(o,e){const i=o.touches,s=i&&i.length?i[0]:o,{offsetX:l,offsetY:d}=s;let f=!1,x,g;if(qx(l,d,o.target))x=l,g=d;else{const y=e.getBoundingClientRect();x=s.clientX-y.left,g=s.clientY-y.top,f=!0}return{x,y:g,box:f}}function kn(o,e){if("native"in o)return o;const{canvas:i,currentDevicePixelRatio:s}=e,l=qo(i),d=l.boxSizing==="border-box",f=In(l,"padding"),x=In(l,"border","width"),{x:g,y,box:w}=Xx(o,i),C=f.left+(w&&x.left),S=f.top+(w&&x.top);let{width:j,height:k}=e;return d&&(j-=f.width+x.width,k-=f.height+x.height),{x:Math.round((g-C)/j*i.width/s),y:Math.round((y-S)/k*i.height/s)}}function Yx(o,e,i){let s,l;if(e===void 0||i===void 0){const d=o&&Ca(o);if(!d)e=o.clientWidth,i=o.clientHeight;else{const f=d.getBoundingClientRect(),x=qo(d),g=In(x,"border","width"),y=In(x,"padding");e=f.width-y.width-g.width,i=f.height-y.height-g.height,s=Po(x.maxWidth,d,"clientWidth"),l=Po(x.maxHeight,d,"clientHeight")}}return{width:e,height:i,maxWidth:s||No,maxHeight:l||No}}const gn=o=>Math.round(o*10)/10;function Kx(o,e,i,s){const l=qo(o),d=In(l,"margin"),f=Po(l.maxWidth,o,"clientWidth")||No,x=Po(l.maxHeight,o,"clientHeight")||No,g=Yx(o,e,i);let{width:y,height:w}=g;if(l.boxSizing==="content-box"){const S=In(l,"border","width"),j=In(l,"padding");y-=j.width+S.width,w-=j.height+S.height}return y=Math.max(0,y-d.width),w=Math.max(0,s?y/s:w-d.height),y=gn(Math.min(y,f,g.maxWidth)),w=gn(Math.min(w,x,g.maxHeight)),y&&!w&&(w=gn(y/2)),(e!==void 0||i!==void 0)&&s&&g.height&&w>g.height&&(w=g.height,y=gn(Math.floor(w*s))),{width:y,height:w}}function vl(o,e,i){const s=e||1,l=gn(o.height*s),d=gn(o.width*s);o.height=gn(o.height),o.width=gn(o.width);const f=o.canvas;return f.style&&(i||!f.style.height&&!f.style.width)&&(f.style.height=`${o.height}px`,f.style.width=`${o.width}px`),o.currentDevicePixelRatio!==s||f.height!==l||f.width!==d?(o.currentDevicePixelRatio=s,f.height=l,f.width=d,o.ctx.setTransform(s,0,0,s,0,0),!0):!1}const $x=(function(){let o=!1;try{const e={get passive(){return o=!0,!1}};va()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return o})();function Cl(o,e){const i=Hx(o,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Tn(o,e,i,s){return{x:o.x+i*(e.x-o.x),y:o.y+i*(e.y-o.y)}}function Zx(o,e,i,s){return{x:o.x+i*(e.x-o.x),y:s==="middle"?i<.5?o.y:e.y:s==="after"?i<1?o.y:e.y:i>0?e.y:o.y}}function Qx(o,e,i,s){const l={x:o.cp2x,y:o.cp2y},d={x:e.cp1x,y:e.cp1y},f=Tn(o,l,i),x=Tn(l,d,i),g=Tn(d,e,i),y=Tn(f,x,i),w=Tn(x,g,i);return Tn(y,w,i)}const Jx=function(o,e){return{x(i){return o+o+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,s){return i-s},leftForLtr(i,s){return i-s}}},e1=function(){return{x(o){return o},setWidth(o){},textAlign(o){return o},xPlus(o,e){return o+e},leftForLtr(o,e){return o}}};function Zn(o,e,i){return o?Jx(e,i):e1()}function gd(o,e){let i,s;(e==="ltr"||e==="rtl")&&(i=o.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),o.prevTextDirection=s)}function xd(o,e){e!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",e[0],e[1]))}function md(o){return o==="angle"?{between:Mr,compare:Q0,normalize:ki}:{between:sn,compare:(e,i)=>e-i,normalize:e=>e}}function Sl({start:o,end:e,count:i,loop:s,style:l}){return{start:o%i,end:e%i,loop:s&&(e-o+1)%i===0,style:l}}function t1(o,e,i){const{property:s,start:l,end:d}=i,{between:f,normalize:x}=md(s),g=e.length;let{start:y,end:w,loop:C}=o,S,j;if(C){for(y+=g,w+=g,S=0,j=g;S<j&&f(x(e[y%g][s]),l,d);++S)y--,w--;y%=g,w%=g}return w<y&&(w+=g),{start:y,end:w,loop:C,style:o.style}}function yd(o,e,i){if(!i)return[o];const{property:s,start:l,end:d}=i,f=e.length,{compare:x,between:g,normalize:y}=md(s),{start:w,end:C,loop:S,style:j}=t1(o,e,i),k=[];let R=!1,O=null,F,Y,M;const ee=()=>g(l,M,F)&&x(l,M)!==0,U=()=>x(d,F)===0||g(d,M,F),W=()=>R||ee(),I=()=>!R||U();for(let Z=w,J=w;Z<=C;++Z)Y=e[Z%f],!Y.skip&&(F=y(Y[s]),F!==M&&(R=g(F,l,d),O===null&&W()&&(O=x(F,l)===0?Z:J),O!==null&&I()&&(k.push(Sl({start:O,end:Z,loop:S,count:f,style:j})),O=null),J=Z,M=F));return O!==null&&k.push(Sl({start:O,end:C,loop:S,count:f,style:j})),k}function bd(o,e){const i=[],s=o.segments;for(let l=0;l<s.length;l++){const d=yd(s[l],o.points,e);d.length&&i.push(...d)}return i}function i1(o,e,i,s){let l=0,d=e-1;if(i&&!s)for(;l<e&&!o[l].skip;)l++;for(;l<e&&o[l].skip;)l++;for(l%=e,i&&(d+=l);d>l&&o[d%e].skip;)d--;return d%=e,{start:l,end:d}}function n1(o,e,i,s){const l=o.length,d=[];let f=e,x=o[e],g;for(g=e+1;g<=i;++g){const y=o[g%l];y.skip||y.stop?x.skip||(s=!1,d.push({start:e%l,end:(g-1)%l,loop:s}),e=f=y.stop?g:null):(f=g,x.skip&&(e=g)),x=y}return f!==null&&d.push({start:e%l,end:f%l,loop:s}),d}function r1(o,e){const i=o.points,s=o.options.spanGaps,l=i.length;if(!l)return[];const d=!!o._loop,{start:f,end:x}=i1(i,l,d,s);if(s===!0)return Al(o,[{start:f,end:x,loop:d}],i,e);const g=x<f?x+l:x,y=!!o._fullLoop&&f===0&&x===l-1;return Al(o,n1(i,f,g,y),i,e)}function Al(o,e,i,s){return!s||!s.setContext||!i?e:o1(o,e,i,s)}function o1(o,e,i,s){const l=o._chart.getContext(),d=jl(o.options),{_datasetIndex:f,options:{spanGaps:x}}=o,g=i.length,y=[];let w=d,C=e[0].start,S=C;function j(k,R,O,F){const Y=x?-1:1;if(k!==R){for(k+=g;i[k%g].skip;)k-=Y;for(;i[R%g].skip;)R+=Y;k%g!==R%g&&(y.push({start:k%g,end:R%g,loop:O,style:F}),w=F,C=R%g)}}for(const k of e){C=x?C:k.start;let R=i[C%g],O;for(S=C+1;S<=k.end;S++){const F=i[S%g];O=jl(s.setContext(Nn(l,{type:"segment",p0:R,p1:F,p0DataIndex:(S-1)%g,p1DataIndex:S%g,datasetIndex:f}))),s1(O,w)&&j(C,S-1,k.loop,w),R=F,w=O}C<S-1&&j(C,S-1,k.loop,w)}return y}function jl(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function s1(o,e){if(!e)return!1;const i=[],s=function(l,d){return ga(d)?(i.includes(d)||i.push(d),i.indexOf(d)):d};return JSON.stringify(o,s)!==JSON.stringify(e,s)}function co(o,e,i){return o.options.clip?o[i]:e[i]}function a1(o,e){const{xScale:i,yScale:s}=o;return i&&s?{left:co(i,e,"left"),right:co(i,e,"right"),top:co(s,e,"top"),bottom:co(s,e,"bottom")}:e}function wd(o,e){const i=e._clip;if(i.disabled)return!1;const s=a1(e,o.chartArea);return{left:i.left===!1?0:s.left-(i.left===!0?0:i.left),right:i.right===!1?o.width:s.right+(i.right===!0?0:i.right),top:i.top===!1?0:s.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?o.height:s.bottom+(i.bottom===!0?0:i.bottom)}}class l1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,s,l){const d=i.listeners[l],f=i.duration;d.forEach(x=>x({chart:e,initial:i.initial,numSteps:f,currentStep:Math.min(s-i.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=od.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const d=s.items;let f=d.length-1,x=!1,g;for(;f>=0;--f)g=d[f],g._active?(g._total>s.duration&&(s.duration=g._total),g.tick(e),x=!0):(d[f]=d[d.length-1],d.pop());x&&(l.draw(),this._notify(l,s,e,"progress")),d.length||(s.running=!1,this._notify(l,s,e,"complete"),s.initial=!1),i+=d.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let s=i.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,s)),s}listen(e,i,s){this._getAnims(e).listeners[i].push(s)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const s=i.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var en=new l1;const _l="transparent",c1={boolean(o,e,i){return i>.5?e:o},color(o,e,i){const s=gl(o||_l),l=s.valid&&gl(e||_l);return l&&l.valid?l.mix(s,i).hexString():e},number(o,e,i){return o+(e-o)*i}};class d1{constructor(e,i,s,l){const d=i[s];l=ao([e.to,l,d,e.from]);const f=ao([e.from,d,l]);this._active=!0,this._fn=e.fn||c1[e.type||typeof f],this._easing=Ir[e.easing]||Ir.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=s,this._from=f,this._to=l,this._promises=void 0}active(){return this._active}update(e,i,s){if(this._active){this._notify(!1);const l=this._target[this._prop],d=s-this._start,f=this._duration-d;this._start=s,this._duration=Math.floor(Math.max(f,e.duration)),this._total+=d,this._loop=!!e.loop,this._to=ao([e.to,i,l,e.from]),this._from=ao([e.from,l,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,s=this._duration,l=this._prop,d=this._from,f=this._loop,x=this._to;let g;if(this._active=d!==x&&(f||i<s),!this._active){this._target[l]=x,this._notify(!0);return}if(i<0){this._target[l]=d;return}g=i/s%2,g=f&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[l]=this._fn(d,x,g)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,s)=>{e.push({res:i,rej:s})})}_notify(e){const i=e?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][i]()}}class vd{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!st(e))return;const i=Object.keys(qt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const d=e[l];if(!st(d))return;const f={};for(const x of i)f[x]=d[x];(ii(d.properties)&&d.properties||[l]).forEach(x=>{(x===l||!s.has(x))&&s.set(x,f)})})}_animateOptions(e,i){const s=i.options,l=u1(e,s);if(!l)return[];const d=this._createAnimations(l,s);return s.$shared&&h1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),d}_createAnimations(e,i){const s=this._properties,l=[],d=e.$animations||(e.$animations={}),f=Object.keys(i),x=Date.now();let g;for(g=f.length-1;g>=0;--g){const y=f[g];if(y.charAt(0)==="$")continue;if(y==="options"){l.push(...this._animateOptions(e,i));continue}const w=i[y];let C=d[y];const S=s.get(y);if(C)if(S&&C.active()){C.update(S,w,x);continue}else C.cancel();if(!S||!S.duration){e[y]=w;continue}d[y]=C=new d1(S,e,y,w),l.push(C)}return l}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const s=this._createAnimations(e,i);if(s.length)return en.add(this._chart,s),!0}}function h1(o,e){const i=[],s=Object.keys(e);for(let l=0;l<s.length;l++){const d=o[s[l]];d&&d.active()&&i.push(d.wait())}return Promise.all(i)}function u1(o,e){if(!e)return;let i=o.options;if(!i){o.options=e;return}return i.$shared&&(o.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function El(o,e){const i=o&&o.options||{},s=i.reverse,l=i.min===void 0?e:0,d=i.max===void 0?e:0;return{start:s?d:l,end:s?l:d}}function p1(o,e,i){if(i===!1)return!1;const s=El(o,i),l=El(e,i);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function f1(o){let e,i,s,l;return st(o)?(e=o.top,i=o.right,s=o.bottom,l=o.left):e=i=s=l=o,{top:e,right:i,bottom:s,left:l,disabled:o===!1}}function Cd(o,e){const i=[],s=o._getSortedDatasetMetas(e);let l,d;for(l=0,d=s.length;l<d;++l)i.push(s[l].index);return i}function kl(o,e,i,s={}){const l=o.keys,d=s.mode==="single";let f,x,g,y;if(e===null)return;let w=!1;for(f=0,x=l.length;f<x;++f){if(g=+l[f],g===i){if(w=!0,s.all)continue;break}y=o.values[g],fi(y)&&(d||e===0||Jn(e)===Jn(y))&&(e+=y)}return!w&&!s.all?0:e}function g1(o,e){const{iScale:i,vScale:s}=e,l=i.axis==="x"?"x":"y",d=s.axis==="x"?"x":"y",f=Object.keys(o),x=new Array(f.length);let g,y,w;for(g=0,y=f.length;g<y;++g)w=f[g],x[g]={[l]:w,[d]:o[w]};return x}function Cs(o,e){const i=o&&o.options.stacked;return i||i===void 0&&e.stack!==void 0}function x1(o,e,i){return`${o.id}.${e.id}.${i.stack||i.type}`}function m1(o){const{min:e,max:i,minDefined:s,maxDefined:l}=o.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}function y1(o,e,i){const s=o[e]||(o[e]={});return s[i]||(s[i]={})}function Tl(o,e,i,s){for(const l of e.getMatchingVisibleMetas(s).reverse()){const d=o[l.index];if(i&&d>0||!i&&d<0)return l.index}return null}function Rl(o,e){const{chart:i,_cachedMeta:s}=o,l=i._stacks||(i._stacks={}),{iScale:d,vScale:f,index:x}=s,g=d.axis,y=f.axis,w=x1(d,f,s),C=e.length;let S;for(let j=0;j<C;++j){const k=e[j],{[g]:R,[y]:O}=k,F=k._stacks||(k._stacks={});S=F[y]=y1(l,w,R),S[x]=O,S._top=Tl(S,f,!0,s.type),S._bottom=Tl(S,f,!1,s.type);const Y=S._visualValues||(S._visualValues={});Y[x]=O}}function Ss(o,e){const i=o.scales;return Object.keys(i).filter(s=>i[s].axis===e).shift()}function b1(o,e){return Nn(o,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function w1(o,e,i){return Nn(o,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function gr(o,e){const i=o.controller.index,s=o.vScale&&o.vScale.axis;if(s){e=e||o._parsed;for(const l of e){const d=l._stacks;if(!d||d[s]===void 0||d[s][i]===void 0)return;delete d[s][i],d[s]._visualValues!==void 0&&d[s]._visualValues[i]!==void 0&&delete d[s]._visualValues[i]}}}const As=o=>o==="reset"||o==="none",Il=(o,e)=>e?o:Object.assign({},o),v1=(o,e,i)=>o&&!e.hidden&&e._stacked&&{keys:Cd(i,!0),values:null};class Qn{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cs(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,s=this.getDataset(),l=(C,S,j,k)=>C==="x"?S:C==="r"?k:j,d=i.xAxisID=nt(s.xAxisID,Ss(e,"x")),f=i.yAxisID=nt(s.yAxisID,Ss(e,"y")),x=i.rAxisID=nt(s.rAxisID,Ss(e,"r")),g=i.indexAxis,y=i.iAxisID=l(g,d,f,x),w=i.vAxisID=l(g,f,d,x);i.xScale=this.getScaleForId(d),i.yScale=this.getScaleForId(f),i.rScale=this.getScaleForId(x),i.iScale=this.getScaleForId(y),i.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ul(this._data,this),e._stacked&&gr(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if(st(i)){const l=this._cachedMeta;this._data=g1(i,l)}else if(s!==i){if(s){ul(s,this);const l=this._cachedMeta;gr(l),l._parsed=[]}i&&Object.isExtensible(i)&&ix(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const d=i._stacked;i._stacked=Cs(i.vScale,i),i.stack!==s.stack&&(l=!0,gr(i),i.stack=s.stack),this._resyncElements(e),(l||d!==i._stacked)&&(Rl(this,i._parsed),i._stacked=Cs(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:s,_data:l}=this,{iScale:d,_stacked:f}=s,x=d.axis;let g=e===0&&i===l.length?!0:s._sorted,y=e>0&&s._parsed[e-1],w,C,S;if(this._parsing===!1)s._parsed=l,s._sorted=!0,S=l;else{ii(l[e])?S=this.parseArrayData(s,l,e,i):st(l[e])?S=this.parseObjectData(s,l,e,i):S=this.parsePrimitiveData(s,l,e,i);const j=()=>C[x]===null||y&&C[x]<y[x];for(w=0;w<i;++w)s._parsed[w+e]=C=S[w],g&&(j()&&(g=!1),y=C);s._sorted=g}f&&Rl(this,S)}parsePrimitiveData(e,i,s,l){const{iScale:d,vScale:f}=e,x=d.axis,g=f.axis,y=d.getLabels(),w=d===f,C=new Array(l);let S,j,k;for(S=0,j=l;S<j;++S)k=S+s,C[S]={[x]:w||d.parse(y[k],k),[g]:f.parse(i[k],k)};return C}parseArrayData(e,i,s,l){const{xScale:d,yScale:f}=e,x=new Array(l);let g,y,w,C;for(g=0,y=l;g<y;++g)w=g+s,C=i[w],x[g]={x:d.parse(C[0],w),y:f.parse(C[1],w)};return x}parseObjectData(e,i,s,l){const{xScale:d,yScale:f}=e,{xAxisKey:x="x",yAxisKey:g="y"}=this._parsing,y=new Array(l);let w,C,S,j;for(w=0,C=l;w<C;++w)S=w+s,j=i[S],y[w]={x:d.parse(Dr(j,x),S),y:f.parse(Dr(j,g),S)};return y}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){const l=this.chart,d=this._cachedMeta,f=i[e.axis],x={keys:Cd(l,!0),values:i._stacks[e.axis]._visualValues};return kl(x,f,d.index,{mode:s})}updateRangeFromParsed(e,i,s,l){const d=s[i.axis];let f=d===null?NaN:d;const x=l&&s._stacks[i.axis];l&&x&&(l.values=x,f=kl(l,d,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,i){const s=this._cachedMeta,l=s._parsed,d=s._sorted&&e===s.iScale,f=l.length,x=this._getOtherScale(e),g=v1(i,s,this.chart),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:C}=m1(x);let S,j;function k(){j=l[S];const R=j[x.axis];return!fi(j[e.axis])||w>R||C<R}for(S=0;S<f&&!(!k()&&(this.updateRangeFromParsed(y,e,j,g),d));++S);if(d){for(S=f-1;S>=0;--S)if(!k()){this.updateRangeFromParsed(y,e,j,g);break}}return y}getAllParsedValues(e){const i=this._cachedMeta._parsed,s=[];let l,d,f;for(l=0,d=i.length;l<d;++l)f=i[l][e.axis],fi(f)&&s.push(f);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,s=i.iScale,l=i.vScale,d=this.getParsed(e);return{label:s?""+s.getLabelForValue(d[s.axis]):"",value:l?""+l.getLabelForValue(d[l.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=f1(nt(this.options.clip,p1(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,s=this._cachedMeta,l=s.data||[],d=i.chartArea,f=[],x=this._drawStart||0,g=this._drawCount||l.length-x,y=this.options.drawActiveElementsOnTop;let w;for(s.dataset&&s.dataset.draw(e,d,x,g),w=x;w<x+g;++w){const C=l[w];C.hidden||(C.active&&y?f.push(C):C.draw(e,d))}for(w=0;w<f.length;++w)f[w].draw(e,d)}getStyle(e,i){const s=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){const l=this.getDataset();let d;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];d=f.$context||(f.$context=w1(this.getContext(),e,f)),d.parsed=this.getParsed(e),d.raw=l.data[e],d.index=d.dataIndex=e}else d=this.$context||(this.$context=b1(this.chart.getContext(),this.index)),d.dataset=l,d.index=d.datasetIndex=this.index;return d.active=!!i,d.mode=s,d}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){const l=i==="active",d=this._cachedDataOpts,f=e+"-"+i,x=d[f],g=this.enableOptionSharing&&Oo(s);if(x)return Il(x,g);const y=this.chart.config,w=y.datasetElementScopeKeys(this._type,e),C=l?[`${e}Hover`,"hover",e,""]:[e,""],S=y.getOptionScopes(this.getDataset(),w),j=Object.keys(qt.elements[e]),k=()=>this.getContext(s,l,i),R=y.resolveNamedOptions(S,j,k,C);return R.$shared&&(R.$shared=g,d[f]=Object.freeze(Il(R,g))),R}_resolveAnimations(e,i,s){const l=this.chart,d=this._cachedDataOpts,f=`animation-${i}`,x=d[f];if(x)return x;let g;if(l.options.animation!==!1){const w=this.chart.config,C=w.datasetAnimationScopeKeys(this._type,i),S=w.getOptionScopes(this.getDataset(),C);g=w.createResolver(S,this.getContext(e,s,i))}const y=new vd(l,g&&g.animations);return g&&g._cacheable&&(d[f]=Object.freeze(y)),y}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||As(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const s=this.resolveDataElementOptions(e,i),l=this._sharedOptions,d=this.getSharedOptions(s),f=this.includeOptions(i,d)||d!==l;return this.updateSharedOptions(d,i,s),{sharedOptions:d,includeOptions:f}}updateElement(e,i,s,l){As(l)?Object.assign(e,s):this._resolveAnimations(i,l).update(e,s)}updateSharedOptions(e,i,s){e&&!As(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,l){e.active=l;const d=this.getStyle(i,l);this._resolveAnimations(i,s,l).update(e,{options:!l&&this.getSharedOptions(d)||d})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,s=this._cachedMeta.data;for(const[x,g,y]of this._syncList)this[x](g,y);this._syncList=[];const l=s.length,d=i.length,f=Math.min(d,l);f&&this.parse(0,f),d>l?this._insertElements(l,d-l,e):d<l&&this._removeElements(d,l-d)}_insertElements(e,i,s=!0){const l=this._cachedMeta,d=l.data,f=e+i;let x;const g=y=>{for(y.length+=i,x=y.length-1;x>=f;x--)y[x]=y[x-i]};for(g(d),x=e;x<f;++x)d[x]=new this.dataElementType;this._parsing&&g(l._parsed),this.parse(e,i),s&&this.updateElements(d,e,i,"reset")}updateElements(e,i,s,l){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(e,i);s._stacked&&gr(s,l)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,s,l]=e;this[i](s,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ee(Qn,"defaults",{}),Ee(Qn,"datasetElementType",null),Ee(Qn,"dataElementType",null);function C1(o,e,i){let s=1,l=1,d=0,f=0;if(e<Dt){const x=o,g=x+e,y=Math.cos(x),w=Math.sin(x),C=Math.cos(g),S=Math.sin(g),j=(M,ee,U)=>Mr(M,x,g,!0)?1:Math.max(ee,ee*i,U,U*i),k=(M,ee,U)=>Mr(M,x,g,!0)?-1:Math.min(ee,ee*i,U,U*i),R=j(0,y,C),O=j(ni,w,S),F=k(yt,y,C),Y=k(yt+ni,w,S);s=(R-F)/2,l=(O-Y)/2,d=-(R+F)/2,f=-(O+Y)/2}return{ratioX:s,ratioY:l,offsetX:d,offsetY:f}}class Xn extends Qn{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let d=g=>+s[g];if(st(s[e])){const{key:g="value"}=this._parsing;d=y=>+Dr(s[y],g)}let f,x;for(f=e,x=e+i;f<x;++f)l._parsed[f]=d(f)}}_getRotation(){return on(this.options.rotation-90)}_getCircumference(){return on(this.options.circumference)}_getRotationExtents(){let e=Dt,i=-Dt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,d=l._getRotation(),f=l._getCircumference();e=Math.min(e,d),i=Math.max(i,d+f)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:s}=i,l=this._cachedMeta,d=l.data,f=this.getMaxBorderWidth()+this.getMaxOffset(d)+this.options.spacing,x=Math.max((Math.min(s.width,s.height)-f)/2,0),g=Math.min(M0(this.options.cutout,x),1),y=this._getRingWeight(this.index),{circumference:w,rotation:C}=this._getRotationExtents(),{ratioX:S,ratioY:j,offsetX:k,offsetY:R}=C1(C,w,g),O=(s.width-f)/S,F=(s.height-f)/j,Y=Math.max(Math.min(O,F)/2,0),M=ed(this.options.radius,Y),ee=Math.max(M*g,0),U=(M-ee)/this._getVisibleDatasetWeightTotal();this.offsetX=k*M,this.offsetY=R*M,l.total=this.calculateTotal(),this.outerRadius=M-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*y,0),this.updateElements(d,0,d.length,e)}_circumference(e,i){const s=this.options,l=this._cachedMeta,d=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*d/Dt)}updateElements(e,i,s,l){const d=l==="reset",f=this.chart,x=f.chartArea,y=f.options.animation,w=(x.left+x.right)/2,C=(x.top+x.bottom)/2,S=d&&y.animateScale,j=S?0:this.innerRadius,k=S?0:this.outerRadius,{sharedOptions:R,includeOptions:O}=this._getSharedOptions(i,l);let F=this._getRotation(),Y;for(Y=0;Y<i;++Y)F+=this._circumference(Y,d);for(Y=i;Y<i+s;++Y){const M=this._circumference(Y,d),ee=e[Y],U={x:w+this.offsetX,y:C+this.offsetY,startAngle:F,endAngle:F+M,circumference:M,outerRadius:k,innerRadius:j};O&&(U.options=R||this.resolveDataElementOptions(Y,ee.active?"active":l)),F+=M,this.updateElement(ee,Y,U,l)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let s=0,l;for(l=0;l<i.length;l++){const d=e._parsed[l];d!==null&&!isNaN(d)&&this.chart.getDataVisibility(l)&&!i[l].hidden&&(s+=Math.abs(d))}return s}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?Dt*(Math.abs(e)/i):0}getLabelAndValue(e){const i=this._cachedMeta,s=this.chart,l=s.data.labels||[],d=xa(i._parsed[e],s.options.locale);return{label:l[e]||"",value:d}}getMaxBorderWidth(e){let i=0;const s=this.chart;let l,d,f,x,g;if(!e){for(l=0,d=s.data.datasets.length;l<d;++l)if(s.isDatasetVisible(l)){f=s.getDatasetMeta(l),e=f.data,x=f.controller;break}}if(!e)return 0;for(l=0,d=e.length;l<d;++l)g=x.resolveDataElementOptions(l),g.borderAlign!=="inner"&&(i=Math.max(i,g.borderWidth||0,g.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let s=0,l=e.length;s<l;++s){const d=this.resolveDataElementOptions(s);i=Math.max(i,d.offset||0,d.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(e){return Math.max(nt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ee(Xn,"id","doughnut"),Ee(Xn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ee(Xn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ee(Xn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data,{labels:{pointStyle:s,textAlign:l,color:d,useBorderRadius:f,borderRadius:x}}=e.legend.options;return i.labels.length&&i.datasets.length?i.labels.map((g,y)=>{const C=e.getDatasetMeta(0).controller.getStyle(y);return{text:g,fillStyle:C.backgroundColor,fontColor:d,hidden:!e.getDataVisibility(y),lineDash:C.borderDash,lineDashOffset:C.borderDashOffset,lineJoin:C.borderJoinStyle,lineWidth:C.borderWidth,strokeStyle:C.borderColor,textAlign:l,pointStyle:s,borderRadius:f&&(x||C.borderRadius),index:y}}):[]}},onClick(e,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}}}});class Co extends Qn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:s,data:l=[],_dataset:d}=i,f=this.chart._animationsDisabled;let{start:x,count:g}=sx(i,l,f);this._drawStart=x,this._drawCount=g,ax(i)&&(x=0,g=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!d._decimated,s.points=l;const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(s,void 0,{animated:!f,options:y},e),this.updateElements(l,x,g,e)}updateElements(e,i,s,l){const d=l==="reset",{iScale:f,vScale:x,_stacked:g,_dataset:y}=this._cachedMeta,{sharedOptions:w,includeOptions:C}=this._getSharedOptions(i,l),S=f.axis,j=x.axis,{spanGaps:k,segment:R}=this.options,O=Fr(k)?k:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||d||l==="none",Y=i+s,M=e.length;let ee=i>0&&this.getParsed(i-1);for(let U=0;U<M;++U){const W=e[U],I=F?W:{};if(U<i||U>=Y){I.skip=!0;continue}const Z=this.getParsed(U),J=jt(Z[j]),le=I[S]=f.getPixelForValue(Z[S],U),fe=I[j]=d||J?x.getBasePixel():x.getPixelForValue(g?this.applyStack(x,Z,g):Z[j],U);I.skip=isNaN(le)||isNaN(fe)||J,I.stop=U>0&&Math.abs(Z[S]-ee[S])>O,R&&(I.parsed=Z,I.raw=y.data[U]),C&&(I.options=w||this.resolveDataElementOptions(U,W.active?"active":l)),F||this.updateElement(W,U,I,l),ee=Z}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,l=e.data||[];if(!l.length)return s;const d=l[0].size(this.resolveDataElementOptions(0)),f=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,d,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ee(Co,"id","line"),Ee(Co,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ee(Co,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Us extends Xn{}Ee(Us,"id","pie"),Ee(Us,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function En(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sa{constructor(e){Ee(this,"options");this.options=e||{}}static override(e){Object.assign(Sa.prototype,e)}init(){}formats(){return En()}parse(){return En()}format(){return En()}add(){return En()}diff(){return En()}startOf(){return En()}endOf(){return En()}}var S1={_date:Sa};function A1(o,e,i,s){const{controller:l,data:d,_sorted:f}=o,x=l._cachedMeta.iScale,g=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null;if(x&&e===x.axis&&e!=="r"&&f&&d.length){const y=x._reversePixels?ex:Rn;if(s){if(l._sharedOptions){const w=d[0],C=typeof w.getRange=="function"&&w.getRange(e);if(C){const S=y(d,e,i-C),j=y(d,e,i+C);return{lo:S.lo,hi:j.hi}}}}else{const w=y(d,e,i);if(g){const{vScale:C}=l._cachedMeta,{_parsed:S}=o,j=S.slice(0,w.lo+1).reverse().findIndex(R=>!jt(R[C.axis]));w.lo-=Math.max(0,j);const k=S.slice(w.hi).findIndex(R=>!jt(R[C.axis]));w.hi+=Math.max(0,k)}return w}}return{lo:0,hi:d.length-1}}function Xo(o,e,i,s,l){const d=o.getSortedVisibleDatasetMetas(),f=i[e];for(let x=0,g=d.length;x<g;++x){const{index:y,data:w}=d[x],{lo:C,hi:S}=A1(d[x],e,f,l);for(let j=C;j<=S;++j){const k=w[j];k.skip||s(k,y,j)}}}function j1(o){const e=o.indexOf("x")!==-1,i=o.indexOf("y")!==-1;return function(s,l){const d=e?Math.abs(s.x-l.x):0,f=i?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(d,2)+Math.pow(f,2))}}function js(o,e,i,s,l){const d=[];return!l&&!o.isPointInArea(e)||Xo(o,i,e,function(x,g,y){!l&&!Lr(x,o.chartArea,0)||x.inRange(e.x,e.y,s)&&d.push({element:x,datasetIndex:g,index:y})},!0),d}function _1(o,e,i,s){let l=[];function d(f,x,g){const{startAngle:y,endAngle:w}=f.getProps(["startAngle","endAngle"],s),{angle:C}=nd(f,{x:e.x,y:e.y});Mr(C,y,w)&&l.push({element:f,datasetIndex:x,index:g})}return Xo(o,i,e,d),l}function E1(o,e,i,s,l,d){let f=[];const x=j1(i);let g=Number.POSITIVE_INFINITY;function y(w,C,S){const j=w.inRange(e.x,e.y,l);if(s&&!j)return;const k=w.getCenterPoint(l);if(!(!!d||o.isPointInArea(k))&&!j)return;const O=x(e,k);O<g?(f=[{element:w,datasetIndex:C,index:S}],g=O):O===g&&f.push({element:w,datasetIndex:C,index:S})}return Xo(o,i,e,y),f}function _s(o,e,i,s,l,d){return!d&&!o.isPointInArea(e)?[]:i==="r"&&!s?_1(o,e,i,l):E1(o,e,i,s,l,d)}function Bl(o,e,i,s,l){const d=[],f=i==="x"?"inXRange":"inYRange";let x=!1;return Xo(o,i,e,(g,y,w)=>{g[f]&&g[f](e[i],l)&&(d.push({element:g,datasetIndex:y,index:w}),x=x||g.inRange(e.x,e.y,l))}),s&&!x?[]:d}var k1={modes:{index(o,e,i,s){const l=kn(e,o),d=i.axis||"x",f=i.includeInvisible||!1,x=i.intersect?js(o,l,d,s,f):_s(o,l,d,!1,s,f),g=[];return x.length?(o.getSortedVisibleDatasetMetas().forEach(y=>{const w=x[0].index,C=y.data[w];C&&!C.skip&&g.push({element:C,datasetIndex:y.index,index:w})}),g):[]},dataset(o,e,i,s){const l=kn(e,o),d=i.axis||"xy",f=i.includeInvisible||!1;let x=i.intersect?js(o,l,d,s,f):_s(o,l,d,!1,s,f);if(x.length>0){const g=x[0].datasetIndex,y=o.getDatasetMeta(g).data;x=[];for(let w=0;w<y.length;++w)x.push({element:y[w],datasetIndex:g,index:w})}return x},point(o,e,i,s){const l=kn(e,o),d=i.axis||"xy",f=i.includeInvisible||!1;return js(o,l,d,s,f)},nearest(o,e,i,s){const l=kn(e,o),d=i.axis||"xy",f=i.includeInvisible||!1;return _s(o,l,d,i.intersect,s,f)},x(o,e,i,s){const l=kn(e,o);return Bl(o,l,"x",i.intersect,s)},y(o,e,i,s){const l=kn(e,o);return Bl(o,l,"y",i.intersect,s)}}};const Sd=["left","top","right","bottom"];function xr(o,e){return o.filter(i=>i.pos===e)}function Ol(o,e){return o.filter(i=>Sd.indexOf(i.pos)===-1&&i.box.axis===e)}function mr(o,e){return o.sort((i,s)=>{const l=e?s:i,d=e?i:s;return l.weight===d.weight?l.index-d.index:l.weight-d.weight})}function T1(o){const e=[];let i,s,l,d,f,x;for(i=0,s=(o||[]).length;i<s;++i)l=o[i],{position:d,options:{stack:f,stackWeight:x=1}}=l,e.push({index:i,box:l,pos:d,horizontal:l.isHorizontal(),weight:l.weight,stack:f&&d+f,stackWeight:x});return e}function R1(o){const e={};for(const i of o){const{stack:s,pos:l,stackWeight:d}=i;if(!s||!Sd.includes(l))continue;const f=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=d}return e}function I1(o,e){const i=R1(o),{vBoxMaxWidth:s,hBoxMaxHeight:l}=e;let d,f,x;for(d=0,f=o.length;d<f;++d){x=o[d];const{fullSize:g}=x.box,y=i[x.stack],w=y&&x.stackWeight/y.weight;x.horizontal?(x.width=w?w*s:g&&e.availableWidth,x.height=l):(x.width=s,x.height=w?w*l:g&&e.availableHeight)}return i}function B1(o){const e=T1(o),i=mr(e.filter(y=>y.box.fullSize),!0),s=mr(xr(e,"left"),!0),l=mr(xr(e,"right")),d=mr(xr(e,"top"),!0),f=mr(xr(e,"bottom")),x=Ol(e,"x"),g=Ol(e,"y");return{fullSize:i,leftAndTop:s.concat(d),rightAndBottom:l.concat(g).concat(f).concat(x),chartArea:xr(e,"chartArea"),vertical:s.concat(l).concat(g),horizontal:d.concat(f).concat(x)}}function Nl(o,e,i,s){return Math.max(o[i],e[i])+Math.max(o[s],e[s])}function Ad(o,e){o.top=Math.max(o.top,e.top),o.left=Math.max(o.left,e.left),o.bottom=Math.max(o.bottom,e.bottom),o.right=Math.max(o.right,e.right)}function O1(o,e,i,s){const{pos:l,box:d}=i,f=o.maxPadding;if(!st(l)){i.size&&(o[l]-=i.size);const C=s[i.stack]||{size:0,count:1};C.size=Math.max(C.size,i.horizontal?d.height:d.width),i.size=C.size/C.count,o[l]+=i.size}d.getPadding&&Ad(f,d.getPadding());const x=Math.max(0,e.outerWidth-Nl(f,o,"left","right")),g=Math.max(0,e.outerHeight-Nl(f,o,"top","bottom")),y=x!==o.w,w=g!==o.h;return o.w=x,o.h=g,i.horizontal?{same:y,other:w}:{same:w,other:y}}function N1(o){const e=o.maxPadding;function i(s){const l=Math.max(e[s]-o[s],0);return o[s]+=l,l}o.y+=i("top"),o.x+=i("left"),i("right"),i("bottom")}function z1(o,e){const i=e.maxPadding;function s(l){const d={left:0,top:0,right:0,bottom:0};return l.forEach(f=>{d[f]=Math.max(e[f],i[f])}),d}return s(o?["left","right"]:["top","bottom"])}function Ar(o,e,i,s){const l=[];let d,f,x,g,y,w;for(d=0,f=o.length,y=0;d<f;++d){x=o[d],g=x.box,g.update(x.width||e.w,x.height||e.h,z1(x.horizontal,e));const{same:C,other:S}=O1(e,i,x,s);y|=C&&l.length,w=w||S,g.fullSize||l.push(x)}return y&&Ar(l,e,i,s)||w}function ho(o,e,i,s,l){o.top=i,o.left=e,o.right=e+s,o.bottom=i+l,o.width=s,o.height=l}function zl(o,e,i,s){const l=i.padding;let{x:d,y:f}=e;for(const x of o){const g=x.box,y=s[x.stack]||{placed:0,weight:1},w=x.stackWeight/y.weight||1;if(x.horizontal){const C=e.w*w,S=y.size||g.height;Oo(y.start)&&(f=y.start),g.fullSize?ho(g,l.left,f,i.outerWidth-l.right-l.left,S):ho(g,e.left+y.placed,f,C,S),y.start=f,y.placed+=C,f=g.bottom}else{const C=e.h*w,S=y.size||g.width;Oo(y.start)&&(d=y.start),g.fullSize?ho(g,d,l.top,S,i.outerHeight-l.bottom-l.top):ho(g,d,e.top+y.placed,S,C),y.start=d,y.placed+=C,d=g.right}}e.x=d,e.y=f}var Pi={addBox(o,e){o.boxes||(o.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},o.boxes.push(e)},removeBox(o,e){const i=o.boxes?o.boxes.indexOf(e):-1;i!==-1&&o.boxes.splice(i,1)},configure(o,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(o,e,i,s){if(!o)return;const l=Di(o.options.layout.padding),d=Math.max(e-l.width,0),f=Math.max(i-l.height,0),x=B1(o.boxes),g=x.vertical,y=x.horizontal;mt(o.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const w=g.reduce((R,O)=>O.box.options&&O.box.options.display===!1?R:R+1,0)||1,C=Object.freeze({outerWidth:e,outerHeight:i,padding:l,availableWidth:d,availableHeight:f,vBoxMaxWidth:d/2/w,hBoxMaxHeight:f/2}),S=Object.assign({},l);Ad(S,Di(s));const j=Object.assign({maxPadding:S,w:d,h:f,x:l.left,y:l.top},l),k=I1(g.concat(y),C);Ar(x.fullSize,j,C,k),Ar(g,j,C,k),Ar(y,j,C,k)&&Ar(g,j,C,k),N1(j),zl(x.leftAndTop,j,C,k),j.x+=j.w,j.y+=j.h,zl(x.rightAndBottom,j,C,k),o.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},mt(x.chartArea,R=>{const O=R.box;Object.assign(O,o.chartArea),O.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class jd{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,s){}removeEventListener(e,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,s,l){return i=Math.max(0,i||e.width),s=s||e.height,{width:i,height:Math.max(0,l?Math.floor(i/l):s)}}isAttached(e){return!0}updateConfig(e){}}class P1 extends jd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const So="$chartjs",D1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pl=o=>o===null||o==="";function F1(o,e){const i=o.style,s=o.getAttribute("height"),l=o.getAttribute("width");if(o[So]={initial:{height:s,width:l,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Pl(l)){const d=Cl(o,"width");d!==void 0&&(o.width=d)}if(Pl(s))if(o.style.height==="")o.height=o.width/(e||2);else{const d=Cl(o,"height");d!==void 0&&(o.height=d)}return o}const _d=$x?{passive:!0}:!1;function M1(o,e,i){o&&o.addEventListener(e,i,_d)}function L1(o,e,i){o&&o.canvas&&o.canvas.removeEventListener(e,i,_d)}function V1(o,e){const i=D1[o.type]||o.type,{x:s,y:l}=kn(o,e);return{type:i,chart:e,native:o,x:s!==void 0?s:null,y:l!==void 0?l:null}}function Do(o,e){for(const i of o)if(i===e||i.contains(e))return!0}function W1(o,e,i){const s=o.canvas,l=new MutationObserver(d=>{let f=!1;for(const x of d)f=f||Do(x.addedNodes,s),f=f&&!Do(x.removedNodes,s);f&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}function U1(o,e,i){const s=o.canvas,l=new MutationObserver(d=>{let f=!1;for(const x of d)f=f||Do(x.removedNodes,s),f=f&&!Do(x.addedNodes,s);f&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}const Wr=new Map;let Dl=0;function Ed(){const o=window.devicePixelRatio;o!==Dl&&(Dl=o,Wr.forEach((e,i)=>{i.currentDevicePixelRatio!==o&&e()}))}function H1(o,e){Wr.size||window.addEventListener("resize",Ed),Wr.set(o,e)}function G1(o){Wr.delete(o),Wr.size||window.removeEventListener("resize",Ed)}function q1(o,e,i){const s=o.canvas,l=s&&Ca(s);if(!l)return;const d=sd((x,g)=>{const y=l.clientWidth;i(x,g),y<l.clientWidth&&i()},window),f=new ResizeObserver(x=>{const g=x[0],y=g.contentRect.width,w=g.contentRect.height;y===0&&w===0||d(y,w)});return f.observe(l),H1(o,d),f}function Es(o,e,i){i&&i.disconnect(),e==="resize"&&G1(o)}function X1(o,e,i){const s=o.canvas,l=sd(d=>{o.ctx!==null&&i(V1(d,o))},o);return M1(s,e,l),l}class Y1 extends jd{acquireContext(e,i){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(F1(e,i),s):null}releaseContext(e){const i=e.canvas;if(!i[So])return!1;const s=i[So].initial;["height","width"].forEach(d=>{const f=s[d];jt(f)?i.removeAttribute(d):i.setAttribute(d,f)});const l=s.style||{};return Object.keys(l).forEach(d=>{i.style[d]=l[d]}),i.width=i.width,delete i[So],!0}addEventListener(e,i,s){this.removeEventListener(e,i);const l=e.$proxies||(e.$proxies={}),f={attach:W1,detach:U1,resize:q1}[i]||X1;l[i]=f(e,i,s)}removeEventListener(e,i){const s=e.$proxies||(e.$proxies={}),l=s[i];if(!l)return;({attach:Es,detach:Es,resize:Es}[i]||L1)(e,i,l),s[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,s,l){return Kx(e,i,s,l)}isAttached(e){const i=e&&Ca(e);return!!(i&&i.isConnected)}}function K1(o){return!va()||typeof OffscreenCanvas!="undefined"&&o instanceof OffscreenCanvas?P1:Y1}class Vi{constructor(){Ee(this,"x");Ee(this,"y");Ee(this,"active",!1);Ee(this,"options");Ee(this,"$animations")}tooltipPosition(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}hasValue(){return Fr(this.x)&&Fr(this.y)}getProps(e,i){const s=this.$animations;if(!i||!s)return this;const l={};return e.forEach(d=>{l[d]=s[d]&&s[d].active()?s[d]._to:this[d]}),l}}Ee(Vi,"defaults",{}),Ee(Vi,"defaultRoutes");function $1(o,e){const i=o.options.ticks,s=Z1(o),l=Math.min(i.maxTicksLimit||s,s),d=i.major.enabled?J1(e):[],f=d.length,x=d[0],g=d[f-1],y=[];if(f>l)return em(e,y,d,f/l),y;const w=Q1(d,e,l);if(f>0){let C,S;const j=f>1?Math.round((g-x)/(f-1)):null;for(uo(e,y,w,jt(j)?0:x-j,x),C=0,S=f-1;C<S;C++)uo(e,y,w,d[C],d[C+1]);return uo(e,y,w,g,jt(j)?e.length:g+j),y}return uo(e,y,w),y}function Z1(o){const e=o.options.offset,i=o._tickSize(),s=o._length/i+(e?0:1),l=o._maxLength/i;return Math.floor(Math.min(s,l))}function Q1(o,e,i){const s=tm(o),l=e.length/i;if(!s)return Math.max(l,1);const d=X0(s);for(let f=0,x=d.length-1;f<x;f++){const g=d[f];if(g>l)return g}return Math.max(l,1)}function J1(o){const e=[];let i,s;for(i=0,s=o.length;i<s;i++)o[i].major&&e.push(i);return e}function em(o,e,i,s){let l=0,d=i[0],f;for(s=Math.ceil(s),f=0;f<o.length;f++)f===d&&(e.push(o[f]),l++,d=i[l*s])}function uo(o,e,i,s,l){const d=nt(s,0),f=Math.min(nt(l,o.length),o.length);let x=0,g,y,w;for(i=Math.ceil(i),l&&(g=l-s,i=g/Math.floor(g/i)),w=d;w<0;)x++,w=Math.round(d+x*i);for(y=Math.max(d,0);y<f;y++)y===w&&(e.push(o[y]),x++,w=Math.round(d+x*i))}function tm(o){const e=o.length;let i,s;if(e<2)return!1;for(s=o[0],i=1;i<e;++i)if(o[i]-o[i-1]!==s)return!1;return s}const im=o=>o==="left"?"right":o==="right"?"left":o,Fl=(o,e,i)=>e==="top"||e==="left"?o[e]+i:o[e]-i,Ml=(o,e)=>Math.min(e||o,o);function Ll(o,e){const i=[],s=o.length/e,l=o.length;let d=0;for(;d<l;d+=s)i.push(o[Math.floor(d)]);return i}function nm(o,e,i){const s=o.ticks.length,l=Math.min(e,s-1),d=o._startPixel,f=o._endPixel,x=1e-6;let g=o.getPixelForTick(l),y;if(!(i&&(s===1?y=Math.max(g-d,f-g):e===0?y=(o.getPixelForTick(1)-g)/2:y=(g-o.getPixelForTick(l-1))/2,g+=l<e?y:-y,g<d-x||g>f+x)))return g}function rm(o,e){mt(o,i=>{const s=i.gc,l=s.length/2;let d;if(l>e){for(d=0;d<l;++d)delete i.data[s[d]];s.splice(0,l)}})}function yr(o){return o.drawTicks?o.tickLength:0}function Vl(o,e){if(!o.display)return 0;const i=pi(o.font,e),s=Di(o.padding);return(ii(o.text)?o.text.length:1)*i.lineHeight+s.height}function om(o,e){return Nn(o,{scale:e,type:"scale"})}function sm(o,e,i){return Nn(o,{tick:i,index:e,type:"tick"})}function am(o,e,i){let s=fa(o);return(i&&e!=="right"||!i&&e==="right")&&(s=im(s)),s}function lm(o,e,i,s){const{top:l,left:d,bottom:f,right:x,chart:g}=o,{chartArea:y,scales:w}=g;let C=0,S,j,k;const R=f-l,O=x-d;if(o.isHorizontal()){if(j=hi(s,d,x),st(i)){const F=Object.keys(i)[0],Y=i[F];k=w[F].getPixelForValue(Y)+R-e}else i==="center"?k=(y.bottom+y.top)/2+R-e:k=Fl(o,i,e);S=x-d}else{if(st(i)){const F=Object.keys(i)[0],Y=i[F];j=w[F].getPixelForValue(Y)-O+e}else i==="center"?j=(y.left+y.right)/2-O+e:j=Fl(o,i,e);k=hi(s,f,l),C=i==="left"?-ni:ni}return{titleX:j,titleY:k,maxWidth:S,rotation:C}}class nr extends Vi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:s,_suggestedMax:l}=this;return e=Xi(e,Number.POSITIVE_INFINITY),i=Xi(i,Number.NEGATIVE_INFINITY),s=Xi(s,Number.POSITIVE_INFINITY),l=Xi(l,Number.NEGATIVE_INFINITY),{min:Xi(e,s),max:Xi(i,l),minDefined:fi(e),maxDefined:fi(i)}}getMinMax(e){let{min:i,max:s,minDefined:l,maxDefined:d}=this.getUserBounds(),f;if(l&&d)return{min:i,max:s};const x=this.getMatchingVisibleMetas();for(let g=0,y=x.length;g<y;++g)f=x[g].controller.getMinMax(this,e),l||(i=Math.min(i,f.min)),d||(s=Math.max(s,f.max));return i=d&&i>s?s:i,s=l&&i>s?i:s,{min:Xi(i,Xi(s,i)),max:Xi(s,Xi(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(e,i,s){const{beginAtZero:l,grace:d,ticks:f}=this.options,x=f.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ex(this,d,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=x<this.ticks.length;this._convertTicksToLabels(g?Ll(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||f.source==="auto")&&(this.ticks=$1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,s;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,e=!e),this._startPixel=i,this._endPixel=s,this._reversePixels=e,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let s,l,d;for(s=0,l=e.length;s<l;s++)d=e[s],d.label=Bt(i.callback,[d.value,s,e],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,s=Ml(this.ticks.length,e.ticks.maxTicksLimit),l=i.minRotation||0,d=i.maxRotation;let f=l,x,g,y;if(!this._isVisible()||!i.display||l>=d||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const w=this._getLabelSizes(),C=w.widest.width,S=w.highest.height,j=ui(this.chart.width-C,0,this.maxWidth);x=e.offset?this.maxWidth/s:j/(s-1),C+6>x&&(x=j/(s-(e.offset?.5:1)),g=this.maxHeight-yr(e.grid)-i.padding-Vl(e.title,this.chart.options.font),y=Math.sqrt(C*C+S*S),f=Z0(Math.min(Math.asin(ui((w.highest.height+6)/x,-1,1)),Math.asin(ui(g/y,-1,1))-Math.asin(ui(S/y,-1,1)))),f=Math.max(l,Math.min(d,f))),this.labelRotation=f}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:s,title:l,grid:d}}=this,f=this._isVisible(),x=this.isHorizontal();if(f){const g=Vl(l,i.options.font);if(x?(e.width=this.maxWidth,e.height=yr(d)+g):(e.height=this.maxHeight,e.width=yr(d)+g),s.display&&this.ticks.length){const{first:y,last:w,widest:C,highest:S}=this._getLabelSizes(),j=s.padding*2,k=on(this.labelRotation),R=Math.cos(k),O=Math.sin(k);if(x){const F=s.mirror?0:O*C.width+R*S.height;e.height=Math.min(this.maxHeight,e.height+F+j)}else{const F=s.mirror?0:R*C.width+O*S.height;e.width=Math.min(this.maxWidth,e.width+F+j)}this._calculatePadding(y,w,O,R)}}this._handleMargins(),x?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,s,l){const{ticks:{align:d,padding:f},position:x}=this.options,g=this.labelRotation!==0,y=x!=="top"&&this.axis==="x";if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,j=0;g?y?(S=l*e.width,j=s*i.height):(S=s*e.height,j=l*i.width):d==="start"?j=i.width:d==="end"?S=e.width:d!=="inner"&&(S=e.width/2,j=i.width/2),this.paddingLeft=Math.max((S-w+f)*this.width/(this.width-w),0),this.paddingRight=Math.max((j-C+f)*this.width/(this.width-C),0)}else{let w=i.height/2,C=e.height/2;d==="start"?(w=0,C=e.height):d==="end"&&(w=i.height,C=0),this.paddingTop=w+f,this.paddingBottom=C+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,s;for(i=0,s=e.length;i<s;i++)jt(e[i].label)&&(e.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=Ll(s,i)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,s){const{ctx:l,_longestTextCache:d}=this,f=[],x=[],g=Math.floor(i/Ml(i,s));let y=0,w=0,C,S,j,k,R,O,F,Y,M,ee,U;for(C=0;C<i;C+=g){if(k=e[C].label,R=this._resolveTickFontOptions(C),l.font=O=R.string,F=d[O]=d[O]||{data:{},gc:[]},Y=R.lineHeight,M=ee=0,!jt(k)&&!ii(k))M=ml(l,F.data,F.gc,M,k),ee=Y;else if(ii(k))for(S=0,j=k.length;S<j;++S)U=k[S],!jt(U)&&!ii(U)&&(M=ml(l,F.data,F.gc,M,U),ee+=Y);f.push(M),x.push(ee),y=Math.max(M,y),w=Math.max(ee,w)}rm(d,i);const W=f.indexOf(y),I=x.indexOf(w),Z=J=>({width:f[J]||0,height:x[J]||0});return{first:Z(0),last:Z(i-1),widest:Z(W),highest:Z(I),widths:f,heights:x}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return J0(this._alignToPixels?_n(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const s=i[e];return s.$context||(s.$context=sm(this.getContext(),e,s))}return this.$context||(this.$context=om(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=on(this.labelRotation),s=Math.abs(Math.cos(i)),l=Math.abs(Math.sin(i)),d=this._getLabelSizes(),f=e.autoSkipPadding||0,x=d?d.widest.width+f:0,g=d?d.highest.height+f:0;return this.isHorizontal()?g*s>x*l?x/s:g/l:g*l<x*s?g/s:x/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,s=this.chart,l=this.options,{grid:d,position:f,border:x}=l,g=d.offset,y=this.isHorizontal(),C=this.ticks.length+(g?1:0),S=yr(d),j=[],k=x.setContext(this.getContext()),R=k.display?k.width:0,O=R/2,F=function(Ae){return _n(s,Ae,R)};let Y,M,ee,U,W,I,Z,J,le,fe,oe,ve;if(f==="top")Y=F(this.bottom),I=this.bottom-S,J=Y-O,fe=F(e.top)+O,ve=e.bottom;else if(f==="bottom")Y=F(this.top),fe=e.top,ve=F(e.bottom)-O,I=Y+O,J=this.top+S;else if(f==="left")Y=F(this.right),W=this.right-S,Z=Y-O,le=F(e.left)+O,oe=e.right;else if(f==="right")Y=F(this.left),le=e.left,oe=F(e.right)-O,W=Y+O,Z=this.left+S;else if(i==="x"){if(f==="center")Y=F((e.top+e.bottom)/2+.5);else if(st(f)){const Ae=Object.keys(f)[0],ce=f[Ae];Y=F(this.chart.scales[Ae].getPixelForValue(ce))}fe=e.top,ve=e.bottom,I=Y+O,J=I+S}else if(i==="y"){if(f==="center")Y=F((e.left+e.right)/2);else if(st(f)){const Ae=Object.keys(f)[0],ce=f[Ae];Y=F(this.chart.scales[Ae].getPixelForValue(ce))}W=Y-O,Z=W-S,le=e.left,oe=e.right}const Se=nt(l.ticks.maxTicksLimit,C),Q=Math.max(1,Math.ceil(C/Se));for(M=0;M<C;M+=Q){const Ae=this.getContext(M),ce=d.setContext(Ae),Ve=x.setContext(Ae),Me=ce.lineWidth,rt=ce.color,ye=Ve.dash||[],Ce=Ve.dashOffset,Oe=ce.tickWidth,Ue=ce.tickColor,Je=ce.tickBorderDash||[],we=ce.tickBorderDashOffset;ee=nm(this,M,g),ee!==void 0&&(U=_n(s,ee,Me),y?W=Z=le=oe=U:I=J=fe=ve=U,j.push({tx1:W,ty1:I,tx2:Z,ty2:J,x1:le,y1:fe,x2:oe,y2:ve,width:Me,color:rt,borderDash:ye,borderDashOffset:Ce,tickWidth:Oe,tickColor:Ue,tickBorderDash:Je,tickBorderDashOffset:we}))}return this._ticksLength=C,this._borderValue=Y,j}_computeLabelItems(e){const i=this.axis,s=this.options,{position:l,ticks:d}=s,f=this.isHorizontal(),x=this.ticks,{align:g,crossAlign:y,padding:w,mirror:C}=d,S=yr(s.grid),j=S+w,k=C?-w:j,R=-on(this.labelRotation),O=[];let F,Y,M,ee,U,W,I,Z,J,le,fe,oe,ve="middle";if(l==="top")W=this.bottom-k,I=this._getXAxisLabelAlignment();else if(l==="bottom")W=this.top+k,I=this._getXAxisLabelAlignment();else if(l==="left"){const Q=this._getYAxisLabelAlignment(S);I=Q.textAlign,U=Q.x}else if(l==="right"){const Q=this._getYAxisLabelAlignment(S);I=Q.textAlign,U=Q.x}else if(i==="x"){if(l==="center")W=(e.top+e.bottom)/2+j;else if(st(l)){const Q=Object.keys(l)[0],Ae=l[Q];W=this.chart.scales[Q].getPixelForValue(Ae)+j}I=this._getXAxisLabelAlignment()}else if(i==="y"){if(l==="center")U=(e.left+e.right)/2-j;else if(st(l)){const Q=Object.keys(l)[0],Ae=l[Q];U=this.chart.scales[Q].getPixelForValue(Ae)}I=this._getYAxisLabelAlignment(S).textAlign}i==="y"&&(g==="start"?ve="top":g==="end"&&(ve="bottom"));const Se=this._getLabelSizes();for(F=0,Y=x.length;F<Y;++F){M=x[F],ee=M.label;const Q=d.setContext(this.getContext(F));Z=this.getPixelForTick(F)+d.labelOffset,J=this._resolveTickFontOptions(F),le=J.lineHeight,fe=ii(ee)?ee.length:1;const Ae=fe/2,ce=Q.color,Ve=Q.textStrokeColor,Me=Q.textStrokeWidth;let rt=I;f?(U=Z,I==="inner"&&(F===Y-1?rt=this.options.reverse?"left":"right":F===0?rt=this.options.reverse?"right":"left":rt="center"),l==="top"?y==="near"||R!==0?oe=-fe*le+le/2:y==="center"?oe=-Se.highest.height/2-Ae*le+le:oe=-Se.highest.height+le/2:y==="near"||R!==0?oe=le/2:y==="center"?oe=Se.highest.height/2-Ae*le:oe=Se.highest.height-fe*le,C&&(oe*=-1),R!==0&&!Q.showLabelBackdrop&&(U+=le/2*Math.sin(R))):(W=Z,oe=(1-fe)*le/2);let ye;if(Q.showLabelBackdrop){const Ce=Di(Q.backdropPadding),Oe=Se.heights[F],Ue=Se.widths[F];let Je=oe-Ce.top,we=0-Ce.left;switch(ve){case"middle":Je-=Oe/2;break;case"bottom":Je-=Oe;break}switch(I){case"center":we-=Ue/2;break;case"right":we-=Ue;break;case"inner":F===Y-1?we-=Ue:F>0&&(we-=Ue/2);break}ye={left:we,top:Je,width:Ue+Ce.width,height:Oe+Ce.height,color:Q.backdropColor}}O.push({label:ee,font:J,textOffset:oe,options:{rotation:R,color:ce,strokeColor:Ve,strokeWidth:Me,textAlign:rt,textBaseline:ve,translation:[U,W],backdrop:ye}})}return O}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-on(this.labelRotation))return e==="top"?"left":"right";let l="center";return i.align==="start"?l="left":i.align==="end"?l="right":i.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:s,mirror:l,padding:d}}=this.options,f=this._getLabelSizes(),x=e+d,g=f.widest.width;let y,w;return i==="left"?l?(w=this.right+d,s==="near"?y="left":s==="center"?(y="center",w+=g/2):(y="right",w+=g)):(w=this.right-x,s==="near"?y="right":s==="center"?(y="center",w-=g/2):(y="left",w=this.left)):i==="right"?l?(w=this.left+d,s==="near"?y="right":s==="center"?(y="center",w-=g/2):(y="left",w-=g)):(w=this.left+x,s==="near"?y="left":s==="center"?(y="center",w+=g/2):(y="right",w=this.right)):y="right",{textAlign:y,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:s,top:l,width:d,height:f}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(s,l,d,f),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const l=this.ticks.findIndex(d=>d.value===e);return l>=0?i.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const i=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let d,f;const x=(g,y,w)=>{!w.width||!w.color||(s.save(),s.lineWidth=w.width,s.strokeStyle=w.color,s.setLineDash(w.borderDash||[]),s.lineDashOffset=w.borderDashOffset,s.beginPath(),s.moveTo(g.x,g.y),s.lineTo(y.x,y.y),s.stroke(),s.restore())};if(i.display)for(d=0,f=l.length;d<f;++d){const g=l[d];i.drawOnChartArea&&x({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),i.drawTicks&&x({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:s,grid:l}}=this,d=s.setContext(this.getContext()),f=s.display?d.width:0;if(!f)return;const x=l.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let y,w,C,S;this.isHorizontal()?(y=_n(e,this.left,f)-f/2,w=_n(e,this.right,x)+x/2,C=S=g):(C=_n(e,this.top,f)-f/2,S=_n(e,this.bottom,x)+x/2,y=w=g),i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.beginPath(),i.moveTo(y,C),i.lineTo(w,S),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&Ho(s,l);const d=this.getLabelItems(e);for(const f of d){const x=f.options,g=f.font,y=f.label,w=f.textOffset;Vr(s,y,0,w,g,x)}l&&Go(s)}drawTitle(){const{ctx:e,options:{position:i,title:s,reverse:l}}=this;if(!s.display)return;const d=pi(s.font),f=Di(s.padding),x=s.align;let g=d.lineHeight/2;i==="bottom"||i==="center"||st(i)?(g+=f.bottom,ii(s.text)&&(g+=d.lineHeight*(s.text.length-1))):g+=f.top;const{titleX:y,titleY:w,maxWidth:C,rotation:S}=lm(this,g,i,x);Vr(e,s.text,0,0,d,{color:s.color,maxWidth:C,rotation:S,textAlign:am(x,i,l),textBaseline:"middle",translation:[y,w]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,s=nt(e.grid&&e.grid.z,-1),l=nt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nr.prototype.draw?[{z:i,draw:d=>{this.draw(d)}}]:[{z:s,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:i,draw:d=>{this.drawLabels(d)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let d,f;for(d=0,f=i.length;d<f;++d){const x=i[d];x[s]===this.id&&(!e||x.type===e)&&l.push(x)}return l}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return pi(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class po{constructor(e,i,s){this.type=e,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let s;hm(i)&&(s=this.register(i));const l=this.items,d=e.id,f=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+e);return d in l||(l[d]=e,cm(e,f,s),this.override&&qt.override(e.id,e.overrides)),f}get(e){return this.items[e]}unregister(e){const i=this.items,s=e.id,l=this.scope;s in i&&delete i[s],l&&s in qt[l]&&(delete qt[l][s],this.override&&delete Bn[s])}}function cm(o,e,i){const s=Pr(Object.create(null),[i?qt.get(i):{},qt.get(e),o.defaults]);qt.set(e,s),o.defaultRoutes&&dm(e,o.defaultRoutes),o.descriptors&&qt.describe(e,o.descriptors)}function dm(o,e){Object.keys(e).forEach(i=>{const s=i.split("."),l=s.pop(),d=[o].concat(s).join("."),f=e[i].split("."),x=f.pop(),g=f.join(".");qt.route(d,l,g,x)})}function hm(o){return"id"in o&&"defaults"in o}class um{constructor(){this.controllers=new po(Qn,"datasets",!0),this.elements=new po(Vi,"elements"),this.plugins=new po(Object,"plugins"),this.scales=new po(nr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,s){[...i].forEach(l=>{const d=s||this._getRegistryForType(l);s||d.isForType(l)||d===this.plugins&&l.id?this._exec(e,d,l):mt(l,f=>{const x=s||this._getRegistryForType(f);this._exec(e,x,f)})})}_exec(e,i,s){const l=ua(e);Bt(s["before"+l],[],s),i[e](s),Bt(s["after"+l],[],s)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(e))return s}return this.plugins}_get(e,i,s){const l=i.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return l}}var Ki=new um;class pm{constructor(){this._init=void 0}notify(e,i,s,l){if(i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const d=l?this._descriptors(e).filter(l):this._descriptors(e),f=this._notify(d,e,i,s);return i==="afterDestroy"&&(this._notify(d,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),f}_notify(e,i,s,l){l=l||{};for(const d of e){const f=d.plugin,x=f[s],g=[i,l,d.options];if(Bt(x,g,f)===!1&&l.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const s=e&&e.config,l=nt(s.options&&s.options.plugins,{}),d=fm(s);return l===!1&&!i?[]:xm(e,d,l,i)}_notifyStateChanges(e){const i=this._oldCache||[],s=this._cache,l=(d,f)=>d.filter(x=>!f.some(g=>x.plugin.id===g.plugin.id));this._notify(l(i,s),e,"stop"),this._notify(l(s,i),e,"start")}}function fm(o){const e={},i=[],s=Object.keys(Ki.plugins.items);for(let d=0;d<s.length;d++)i.push(Ki.getPlugin(s[d]));const l=o.plugins||[];for(let d=0;d<l.length;d++){const f=l[d];i.indexOf(f)===-1&&(i.push(f),e[f.id]=!0)}return{plugins:i,localIds:e}}function gm(o,e){return!e&&o===!1?null:o===!0?{}:o}function xm(o,{plugins:e,localIds:i},s,l){const d=[],f=o.getContext();for(const x of e){const g=x.id,y=gm(s[g],l);y!==null&&d.push({plugin:x,options:mm(o.config,{plugin:x,local:i[g]},y,f)})}return d}function mm(o,{plugin:e,local:i},s,l){const d=o.pluginScopeKeys(e),f=o.getOptionScopes(s,d);return i&&e.defaults&&f.push(e.defaults),o.createResolver(f,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hs(o,e){const i=qt.datasets[o]||{};return((e.datasets||{})[o]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function ym(o,e){let i=o;return o==="_index_"?i=e:o==="_value_"&&(i=e==="x"?"y":"x"),i}function bm(o,e){return o===e?"_index_":"_value_"}function Wl(o){if(o==="x"||o==="y"||o==="r")return o}function wm(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function Gs(o,...e){if(Wl(o))return o;for(const i of e){const s=i.axis||wm(i.position)||o.length>1&&Wl(o[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${o}' axis. Please provide 'axis' or 'position' option.`)}function Ul(o,e,i){if(i[e+"AxisID"]===o)return{axis:e}}function vm(o,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter(s=>s.xAxisID===o||s.yAxisID===o);if(i.length)return Ul(o,"x",i[0])||Ul(o,"y",i[0])}return{}}function Cm(o,e){const i=Bn[o.type]||{scales:{}},s=e.scales||{},l=Hs(o.type,e),d=Object.create(null);return Object.keys(s).forEach(f=>{const x=s[f];if(!st(x))return console.error(`Invalid scale configuration for scale: ${f}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const g=Gs(f,x,vm(f,o),qt.scales[x.type]),y=bm(g,l),w=i.scales||{};d[f]=Tr(Object.create(null),[{axis:g},x,w[g],w[y]])}),o.data.datasets.forEach(f=>{const x=f.type||o.type,g=f.indexAxis||Hs(x,e),w=(Bn[x]||{}).scales||{};Object.keys(w).forEach(C=>{const S=ym(C,g),j=f[S+"AxisID"]||S;d[j]=d[j]||Object.create(null),Tr(d[j],[{axis:S},s[j],w[C]])})}),Object.keys(d).forEach(f=>{const x=d[f];Tr(x,[qt.scales[x.type],qt.scale])}),d}function kd(o){const e=o.options||(o.options={});e.plugins=nt(e.plugins,{}),e.scales=Cm(o,e)}function Td(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function Sm(o){return o=o||{},o.data=Td(o.data),kd(o),o}const Hl=new Map,Rd=new Set;function fo(o,e){let i=Hl.get(o);return i||(i=e(),Hl.set(o,i),Rd.add(i)),i}const br=(o,e,i)=>{const s=Dr(e,i);s!==void 0&&o.add(s)};class Am{constructor(e){this._config=Sm(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Td(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),kd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return fo(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return fo(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,s=this.type;return fo(`${s}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const s=this._scopeCache;let l=s.get(e);return(!l||i)&&(l=new Map,s.set(e,l)),l}getOptionScopes(e,i,s){const{options:l,type:d}=this,f=this._cachedScopes(e,s),x=f.get(i);if(x)return x;const g=new Set;i.forEach(w=>{e&&(g.add(e),w.forEach(C=>br(g,e,C))),w.forEach(C=>br(g,l,C)),w.forEach(C=>br(g,Bn[d]||{},C)),w.forEach(C=>br(g,qt,C)),w.forEach(C=>br(g,Vs,C))});const y=Array.from(g);return y.length===0&&y.push(Object.create(null)),Rd.has(i)&&f.set(i,y),y}chartOptionScopes(){const{options:e,type:i}=this;return[e,Bn[i]||{},qt.datasets[i]||{},{type:i},qt,Vs]}resolveNamedOptions(e,i,s,l=[""]){const d={$shared:!0},{resolver:f,subPrefixes:x}=Gl(this._resolverCache,e,l);let g=f;if(_m(f,i)){d.$shared=!1,s=vn(s)?s():s;const y=this.createResolver(e,s,x);g=er(f,s,y)}for(const y of i)d[y]=g[y];return d}createResolver(e,i,s=[""],l){const{resolver:d}=Gl(this._resolverCache,e,s);return st(i)?er(d,i,void 0,l):d}}function Gl(o,e,i){let s=o.get(e);s||(s=new Map,o.set(e,s));const l=i.join();let d=s.get(l);return d||(d={resolver:ya(e,i),subPrefixes:i.filter(x=>!x.toLowerCase().includes("hover"))},s.set(l,d)),d}const jm=o=>st(o)&&Object.getOwnPropertyNames(o).some(e=>vn(o[e]));function _m(o,e){const{isScriptable:i,isIndexable:s}=dd(o);for(const l of e){const d=i(l),f=s(l),x=(f||d)&&o[l];if(d&&(vn(x)||jm(x))||f&&ii(x))return!0}return!1}var Em="4.5.1";const km=["top","bottom","left","right","chartArea"];function ql(o,e){return o==="top"||o==="bottom"||km.indexOf(o)===-1&&e==="x"}function Xl(o,e){return function(i,s){return i[o]===s[o]?i[e]-s[e]:i[o]-s[o]}}function Yl(o){const e=o.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Bt(i&&i.onComplete,[o],e)}function Tm(o){const e=o.chart,i=e.options.animation;Bt(i&&i.onProgress,[o],e)}function Id(o){return va()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}const Ao={},Kl=o=>{const e=Id(o);return Object.values(Ao).filter(i=>i.canvas===e).pop()};function Rm(o,e,i){const s=Object.keys(o);for(const l of s){const d=+l;if(d>=e){const f=o[l];delete o[l],(i>0||d>e)&&(o[d+i]=f)}}}function Im(o,e,i,s){return!i||o.type==="mouseout"?null:s?e:o}var pn;let Yo=(pn=class{static register(...e){Ki.add(...e),$l()}static unregister(...e){Ki.remove(...e),$l()}constructor(e,i){const s=this.config=new Am(i),l=Id(e),d=Kl(l);if(d)throw new Error("Canvas is already in use. Chart with ID '"+d.id+"' must be destroyed before the canvas with ID '"+d.canvas.id+"' can be reused.");const f=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||K1(l)),this.platform.updateConfig(s);const x=this.platform.acquireContext(l,f.aspectRatio),g=x&&x.canvas,y=g&&g.height,w=g&&g.width;if(this.id=F0(),this.ctx=x,this.canvas=g,this.width=w,this.height=y,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rx(C=>this.update(C),f.resizeDelay||0),this._dataChanges=[],Ao[this.id]=this,!x||!g){console.error("Failed to create chart: can't acquire context from the given item");return}en.listen(this,"complete",Yl),en.listen(this,"progress",Tm),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:s,height:l,_aspectRatio:d}=this;return jt(e)?i&&d?d:l?s/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yl(this.canvas,this.ctx),this}stop(){return en.stop(this),this}resize(e,i){en.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const s=this.options,l=this.canvas,d=s.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(l,e,i,d),x=s.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,vl(this,x,!0)&&(this.notifyPlugins("resize",{size:f}),Bt(s.onResize,[this,f],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};mt(i,(s,l)=>{s.id=l})}buildOrUpdateScales(){const e=this.options,i=e.scales,s=this.scales,l=Object.keys(s).reduce((f,x)=>(f[x]=!1,f),{});let d=[];i&&(d=d.concat(Object.keys(i).map(f=>{const x=i[f],g=Gs(f,x),y=g==="r",w=g==="x";return{options:x,dposition:y?"chartArea":w?"bottom":"left",dtype:y?"radialLinear":w?"category":"linear"}}))),mt(d,f=>{const x=f.options,g=x.id,y=Gs(g,x),w=nt(x.type,f.dtype);(x.position===void 0||ql(x.position,y)!==ql(f.dposition))&&(x.position=f.dposition),l[g]=!0;let C=null;if(g in s&&s[g].type===w)C=s[g];else{const S=Ki.getScale(w);C=new S({id:g,type:w,ctx:this.ctx,chart:this}),s[C.id]=C}C.init(x,e)}),mt(l,(f,x)=>{f||delete s[x]}),mt(s,f=>{Pi.configure(this,f,f.options),Pi.addBox(this,f)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,s=e.length;if(e.sort((l,d)=>l.index-d.index),s>i){for(let l=i;l<s;++l)this._destroyDatasetMeta(l);e.splice(i,s-i)}this._sortedMetasets=e.slice(0).sort(Xl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((s,l)=>{i.filter(d=>d===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=i.length;s<l;s++){const d=i[s];let f=this.getDatasetMeta(s);const x=d.type||this.config.type;if(f.type&&f.type!==x&&(this._destroyDatasetMeta(s),f=this.getDatasetMeta(s)),f.type=x,f.indexAxis=d.indexAxis||Hs(x,this.options),f.order=d.order||0,f.index=s,f.label=""+d.label,f.visible=this.isDatasetVisible(s),f.controller)f.controller.updateIndex(s),f.controller.linkScales();else{const g=Ki.getController(x),{datasetElementType:y,dataElementType:w}=qt.datasets[x];Object.assign(g,{dataElementType:Ki.getElement(w),datasetElementType:y&&Ki.getElement(y)}),f.controller=new g(this,s),e.push(f.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const d=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let y=0,w=this.data.datasets.length;y<w;y++){const{controller:C}=this.getDatasetMeta(y),S=!l&&d.indexOf(C)===-1;C.buildOrUpdateElements(S),f=Math.max(+C.getMaxOverflow(),f)}f=this._minPadding=s.layout.autoPadding?f:0,this._updateLayout(f),l||mt(d,y=>{y.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xl("z","_idx"));const{_active:x,_lastEvent:g}=this;g?this._eventHandler(g,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){mt(this.scales,e=>{Pi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!ll(i,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:d}of i){const f=s==="_removeElements"?-d:d;Rm(e,l,f)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,s=d=>new Set(e.filter(f=>f[0]===d).map((f,x)=>x+","+f.splice(1).join(","))),l=s(0);for(let d=1;d<i;d++)if(!ll(l,s(d)))return;return Array.from(l).map(d=>d.split(",")).map(d=>({method:d[1],start:+d[2],count:+d[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pi.update(this,this.width,this.height,e);const i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],mt(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,d)=>{l._idx=d}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,vn(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const s=this.getDatasetMeta(e),l={meta:s,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(i),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(en.has(this)?this.attached&&!en.running(this)&&en.start(this):(this.draw(),Yl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,s=[];let l,d;for(l=0,d=i.length;l<d;++l){const f=i[l];(!e||f.visible)&&s.push(f)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,s={meta:e,index:e.index,cancelable:!0},l=wd(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(l&&Ho(i,l),e.controller.draw(),l&&Go(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Lr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,s,l){const d=k1.modes[i];return typeof d=="function"?d(this,e,s,l):[]}getDatasetMeta(e){const i=this.data.datasets[e],s=this._metasets;let l=s.filter(d=>d&&d._dataset===i).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=Nn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!i.hidden}setDatasetVisibility(e,i){const s=this.getDatasetMeta(e);s.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,s){const l=s?"show":"hide",d=this.getDatasetMeta(e),f=d.controller._resolveAnimations(void 0,l);Oo(i)?(d.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),f.update(d,{visible:s}),this.update(x=>x.datasetIndex===e?l:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),en.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yl(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Ao[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,s=(d,f)=>{i.addEventListener(this,d,f),e[d]=f},l=(d,f,x)=>{d.offsetX=f,d.offsetY=x,this._eventHandler(d)};mt(this.options.events,d=>s(d,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,s=(g,y)=>{i.addEventListener(this,g,y),e[g]=y},l=(g,y)=>{e[g]&&(i.removeEventListener(this,g,y),delete e[g])},d=(g,y)=>{this.canvas&&this.resize(g,y)};let f;const x=()=>{l("attach",x),this.attached=!0,this.resize(),s("resize",d),s("detach",f)};f=()=>{this.attached=!1,l("resize",d),this._stop(),this._resize(0,0),s("attach",x)},i.isAttached(this.canvas)?x():f()}unbindEvents(){mt(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},mt(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,s){const l=s?"set":"remove";let d,f,x,g;for(i==="dataset"&&(d=this.getDatasetMeta(e[0].datasetIndex),d.controller["_"+l+"DatasetHoverStyle"]()),x=0,g=e.length;x<g;++x){f=e[x];const y=f&&this.getDatasetMeta(f.datasetIndex).controller;y&&y[l+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],s=e.map(({datasetIndex:d,index:f})=>{const x=this.getDatasetMeta(d);if(!x)throw new Error("No dataset found at index "+d);return{datasetIndex:d,element:x.data[f],index:f}});!Io(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(e,i,s){return this._plugins.notify(this,e,i,s)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,s){const l=this.options.hover,d=(g,y)=>g.filter(w=>!y.some(C=>w.datasetIndex===C.datasetIndex&&w.index===C.index)),f=d(i,e),x=s?e:d(e,i);f.length&&this.updateHoverStyle(f,l.mode,!1),x.length&&l.mode&&this.updateHoverStyle(x,l.mode,!0)}_eventHandler(e,i){const s={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},l=f=>(f.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const d=this._handleEvent(e,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(d||s.changed)&&this.render(),this}_handleEvent(e,i,s){const{_active:l=[],options:d}=this,f=i,x=this._getActiveElements(e,l,s,f),g=H0(e),y=Im(e,this._lastEvent,s,g);s&&(this._lastEvent=null,Bt(d.onHover,[e,x,this],this),g&&Bt(d.onClick,[e,x,this],this));const w=!Io(x,l);return(w||i)&&(this._active=x,this._updateHoverStyles(x,l,i)),this._lastEvent=y,w}_getActiveElements(e,i,s,l){if(e.type==="mouseout")return[];if(!s)return i;const d=this.options.hover;return this.getElementsAtEventForMode(e,d.mode,d,l)}},Ee(pn,"defaults",qt),Ee(pn,"instances",Ao),Ee(pn,"overrides",Bn),Ee(pn,"registry",Ki),Ee(pn,"version",Em),Ee(pn,"getChart",Kl),pn);function $l(){return mt(Yo.instances,o=>o._plugins.invalidate())}function Bm(o,e,i){const{startAngle:s,x:l,y:d,outerRadius:f,innerRadius:x,options:g}=e,{borderWidth:y,borderJoinStyle:w}=g,C=Math.min(y/f,ki(s-i));if(o.beginPath(),o.arc(l,d,f-y/2,s+C/2,i-C/2),x>0){const S=Math.min(y/x,ki(s-i));o.arc(l,d,x+y/2,i-S/2,s+S/2,!0)}else{const S=Math.min(y/2,f*ki(s-i));if(w==="round")o.arc(l,d,S,i-yt/2,s+yt/2,!0);else if(w==="bevel"){const j=2*S*S,k=-j*Math.cos(i+yt/2)+l,R=-j*Math.sin(i+yt/2)+d,O=j*Math.cos(s+yt/2)+l,F=j*Math.sin(s+yt/2)+d;o.lineTo(k,R),o.lineTo(O,F)}}o.closePath(),o.moveTo(0,0),o.rect(0,0,o.canvas.width,o.canvas.height),o.clip("evenodd")}function Om(o,e,i){const{startAngle:s,pixelMargin:l,x:d,y:f,outerRadius:x,innerRadius:g}=e;let y=l/x;o.beginPath(),o.arc(d,f,x,s-y,i+y),g>l?(y=l/g,o.arc(d,f,g,i+y,s-y,!0)):o.arc(d,f,l,i+ni,s-ni),o.closePath(),o.clip()}function Nm(o){return ma(o,["outerStart","outerEnd","innerStart","innerEnd"])}function zm(o,e,i,s){const l=Nm(o.options.borderRadius),d=(i-e)/2,f=Math.min(d,s*e/2),x=g=>{const y=(i-Math.min(d,g))*s/2;return ui(g,0,Math.min(d,y))};return{outerStart:x(l.outerStart),outerEnd:x(l.outerEnd),innerStart:ui(l.innerStart,0,f),innerEnd:ui(l.innerEnd,0,f)}}function qn(o,e,i,s){return{x:i+o*Math.cos(e),y:s+o*Math.sin(e)}}function Fo(o,e,i,s,l,d){const{x:f,y:x,startAngle:g,pixelMargin:y,innerRadius:w}=e,C=Math.max(e.outerRadius+s+i-y,0),S=w>0?w+s+i+y:0;let j=0;const k=l-g;if(s){const Q=w>0?w-s:0,Ae=C>0?C-s:0,ce=(Q+Ae)/2,Ve=ce!==0?k*ce/(ce+s):k;j=(k-Ve)/2}const R=Math.max(.001,k*C-i/yt)/C,O=(k-R)/2,F=g+O+j,Y=l-O-j,{outerStart:M,outerEnd:ee,innerStart:U,innerEnd:W}=zm(e,S,C,Y-F),I=C-M,Z=C-ee,J=F+M/I,le=Y-ee/Z,fe=S+U,oe=S+W,ve=F+U/fe,Se=Y-W/oe;if(o.beginPath(),d){const Q=(J+le)/2;if(o.arc(f,x,C,J,Q),o.arc(f,x,C,Q,le),ee>0){const Me=qn(Z,le,f,x);o.arc(Me.x,Me.y,ee,le,Y+ni)}const Ae=qn(oe,Y,f,x);if(o.lineTo(Ae.x,Ae.y),W>0){const Me=qn(oe,Se,f,x);o.arc(Me.x,Me.y,W,Y+ni,Se+Math.PI)}const ce=(Y-W/S+(F+U/S))/2;if(o.arc(f,x,S,Y-W/S,ce,!0),o.arc(f,x,S,ce,F+U/S,!0),U>0){const Me=qn(fe,ve,f,x);o.arc(Me.x,Me.y,U,ve+Math.PI,F-ni)}const Ve=qn(I,F,f,x);if(o.lineTo(Ve.x,Ve.y),M>0){const Me=qn(I,J,f,x);o.arc(Me.x,Me.y,M,F-ni,J)}}else{o.moveTo(f,x);const Q=Math.cos(J)*C+f,Ae=Math.sin(J)*C+x;o.lineTo(Q,Ae);const ce=Math.cos(le)*C+f,Ve=Math.sin(le)*C+x;o.lineTo(ce,Ve)}o.closePath()}function Pm(o,e,i,s,l){const{fullCircles:d,startAngle:f,circumference:x}=e;let g=e.endAngle;if(d){Fo(o,e,i,s,g,l);for(let y=0;y<d;++y)o.fill();isNaN(x)||(g=f+(x%Dt||Dt))}return Fo(o,e,i,s,g,l),o.fill(),g}function Dm(o,e,i,s,l){const{fullCircles:d,startAngle:f,circumference:x,options:g}=e,{borderWidth:y,borderJoinStyle:w,borderDash:C,borderDashOffset:S,borderRadius:j}=g,k=g.borderAlign==="inner";if(!y)return;o.setLineDash(C||[]),o.lineDashOffset=S,k?(o.lineWidth=y*2,o.lineJoin=w||"round"):(o.lineWidth=y,o.lineJoin=w||"bevel");let R=e.endAngle;if(d){Fo(o,e,i,s,R,l);for(let O=0;O<d;++O)o.stroke();isNaN(x)||(R=f+(x%Dt||Dt))}k&&Om(o,e,R),g.selfJoin&&R-f>=yt&&j===0&&w!=="miter"&&Bm(o,e,R),d||(Fo(o,e,i,s,R,l),o.stroke())}class jr extends Vi{constructor(i){super();Ee(this,"circumference");Ee(this,"endAngle");Ee(this,"fullCircles");Ee(this,"innerRadius");Ee(this,"outerRadius");Ee(this,"pixelMargin");Ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,s,l){const d=this.getProps(["x","y"],l),{angle:f,distance:x}=nd(d,{x:i,y:s}),{startAngle:g,endAngle:y,innerRadius:w,outerRadius:C,circumference:S}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),j=(this.options.spacing+this.options.borderWidth)/2,k=nt(S,y-g),R=Mr(f,g,y)&&g!==y,O=k>=Dt||R,F=sn(x,w+j,C+j);return O&&F}getCenterPoint(i){const{x:s,y:l,startAngle:d,endAngle:f,innerRadius:x,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:y,spacing:w}=this.options,C=(d+f)/2,S=(x+g+w+y)/2;return{x:s+Math.cos(C)*S,y:l+Math.sin(C)*S}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:s,circumference:l}=this,d=(s.offset||0)/4,f=(s.spacing||0)/2,x=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>Dt?Math.floor(l/Dt):0,l===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const g=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(g)*d,Math.sin(g)*d);const y=1-Math.sin(Math.min(yt,l||0)),w=d*y;i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,Pm(i,this,w,f,x),Dm(i,this,w,f,x),i.restore()}}Ee(jr,"id","arc"),Ee(jr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ee(jr,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ee(jr,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function Bd(o,e,i=e){o.lineCap=nt(i.borderCapStyle,e.borderCapStyle),o.setLineDash(nt(i.borderDash,e.borderDash)),o.lineDashOffset=nt(i.borderDashOffset,e.borderDashOffset),o.lineJoin=nt(i.borderJoinStyle,e.borderJoinStyle),o.lineWidth=nt(i.borderWidth,e.borderWidth),o.strokeStyle=nt(i.borderColor,e.borderColor)}function Fm(o,e,i){o.lineTo(i.x,i.y)}function Mm(o){return o.stepped?yx:o.tension||o.cubicInterpolationMode==="monotone"?bx:Fm}function Od(o,e,i={}){const s=o.length,{start:l=0,end:d=s-1}=i,{start:f,end:x}=e,g=Math.max(l,f),y=Math.min(d,x),w=l<f&&d<f||l>x&&d>x;return{count:s,start:g,loop:e.loop,ilen:y<g&&!w?s+y-g:y-g}}function Lm(o,e,i,s){const{points:l,options:d}=e,{count:f,start:x,loop:g,ilen:y}=Od(l,i,s),w=Mm(d);let{move:C=!0,reverse:S}=s||{},j,k,R;for(j=0;j<=y;++j)k=l[(x+(S?y-j:j))%f],!k.skip&&(C?(o.moveTo(k.x,k.y),C=!1):w(o,R,k,S,d.stepped),R=k);return g&&(k=l[(x+(S?y:0))%f],w(o,R,k,S,d.stepped)),!!g}function Vm(o,e,i,s){const l=e.points,{count:d,start:f,ilen:x}=Od(l,i,s),{move:g=!0,reverse:y}=s||{};let w=0,C=0,S,j,k,R,O,F;const Y=ee=>(f+(y?x-ee:ee))%d,M=()=>{R!==O&&(o.lineTo(w,O),o.lineTo(w,R),o.lineTo(w,F))};for(g&&(j=l[Y(0)],o.moveTo(j.x,j.y)),S=0;S<=x;++S){if(j=l[Y(S)],j.skip)continue;const ee=j.x,U=j.y,W=ee|0;W===k?(U<R?R=U:U>O&&(O=U),w=(C*w+ee)/++C):(M(),o.lineTo(ee,U),k=W,C=0,R=O=U),F=U}M()}function qs(o){const e=o.options,i=e.borderDash&&e.borderDash.length;return!o._decimated&&!o._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?Vm:Lm}function Wm(o){return o.stepped?Zx:o.tension||o.cubicInterpolationMode==="monotone"?Qx:Tn}function Um(o,e,i,s){let l=e._path;l||(l=e._path=new Path2D,e.path(l,i,s)&&l.closePath()),Bd(o,e.options),o.stroke(l)}function Hm(o,e,i,s){const{segments:l,options:d}=e,f=qs(e);for(const x of l)Bd(o,d,x.style),o.beginPath(),f(o,e,x,{start:i,end:i+s-1})&&o.closePath(),o.stroke()}const Gm=typeof Path2D=="function";function qm(o,e,i,s){Gm&&!e.options.segment?Um(o,e,i,s):Hm(o,e,i,s)}class xn extends Vi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;Ux(this._points,s,e,l,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=r1(this,this.options.segment))}first(){const e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){const e=this.segments,i=this.points,s=e.length;return s&&i[e[s-1].end]}interpolate(e,i){const s=this.options,l=e[i],d=this.points,f=bd(this,{property:i,start:l,end:l});if(!f.length)return;const x=[],g=Wm(s);let y,w;for(y=0,w=f.length;y<w;++y){const{start:C,end:S}=f[y],j=d[C],k=d[S];if(j===k){x.push(j);continue}const R=Math.abs((l-j[i])/(k[i]-j[i])),O=g(j,k,R,s.stepped);O[i]=e[i],x.push(O)}return x.length===1?x[0]:x}pathSegment(e,i,s){return qs(this)(e,this,i,s)}path(e,i,s){const l=this.segments,d=qs(this);let f=this._loop;i=i||0,s=s||this.points.length-i;for(const x of l)f&=d(e,this,x,{start:i,end:i+s-1});return!!f}draw(e,i,s,l){const d=this.options||{};(this.points||[]).length&&d.borderWidth&&(e.save(),qm(e,this,s,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ee(xn,"id","line"),Ee(xn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ee(xn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ee(xn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Zl(o,e,i,s){const l=o.options,{[i]:d}=o.getProps([i],s);return Math.abs(e-d)<l.radius+l.hitRadius}class jo extends Vi{constructor(i){super();Ee(this,"parsed");Ee(this,"skip");Ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,l){const d=this.options,{x:f,y:x}=this.getProps(["x","y"],l);return Math.pow(i-f,2)+Math.pow(s-x,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(i,s){return Zl(this,i,"x",s)}inYRange(i,s){return Zl(this,i,"y",s)}getCenterPoint(i){const{x:s,y:l}=this.getProps(["x","y"],i);return{x:s,y:l}}size(i){i=i||this.options||{};let s=i.radius||0;s=Math.max(s,s&&i.hoverRadius||0);const l=s&&i.borderWidth||0;return(s+l)*2}draw(i,s){const l=this.options;this.skip||l.radius<.1||!Lr(this,s,this.size(l)/2)||(i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.fillStyle=l.backgroundColor,Ws(i,l,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}Ee(jo,"id","point"),Ee(jo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ee(jo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Nd(o,e){const{x:i,y:s,base:l,width:d,height:f}=o.getProps(["x","y","base","width","height"],e);let x,g,y,w,C;return o.horizontal?(C=f/2,x=Math.min(i,l),g=Math.max(i,l),y=s-C,w=s+C):(C=d/2,x=i-C,g=i+C,y=Math.min(s,l),w=Math.max(s,l)),{left:x,top:y,right:g,bottom:w}}function mn(o,e,i,s){return o?0:ui(e,i,s)}function Xm(o,e,i){const s=o.options.borderWidth,l=o.borderSkipped,d=cd(s);return{t:mn(l.top,d.top,0,i),r:mn(l.right,d.right,0,e),b:mn(l.bottom,d.bottom,0,i),l:mn(l.left,d.left,0,e)}}function Ym(o,e,i){const{enableBorderRadius:s}=o.getProps(["enableBorderRadius"]),l=o.options.borderRadius,d=$n(l),f=Math.min(e,i),x=o.borderSkipped,g=s||st(l);return{topLeft:mn(!g||x.top||x.left,d.topLeft,0,f),topRight:mn(!g||x.top||x.right,d.topRight,0,f),bottomLeft:mn(!g||x.bottom||x.left,d.bottomLeft,0,f),bottomRight:mn(!g||x.bottom||x.right,d.bottomRight,0,f)}}function Km(o){const e=Nd(o),i=e.right-e.left,s=e.bottom-e.top,l=Xm(o,i/2,s/2),d=Ym(o,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:d},inner:{x:e.left+l.l,y:e.top+l.t,w:i-l.l-l.r,h:s-l.t-l.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,d.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(l.b,l.r))}}}}function ks(o,e,i,s){const l=e===null,d=i===null,x=o&&!(l&&d)&&Nd(o,s);return x&&(l||sn(e,x.left,x.right))&&(d||sn(i,x.top,x.bottom))}function $m(o){return o.topLeft||o.topRight||o.bottomLeft||o.bottomRight}function Zm(o,e){o.rect(e.x,e.y,e.w,e.h)}function Ts(o,e,i={}){const s=o.x!==i.x?-e:0,l=o.y!==i.y?-e:0,d=(o.x+o.w!==i.x+i.w?e:0)-s,f=(o.y+o.h!==i.y+i.h?e:0)-l;return{x:o.x+s,y:o.y+l,w:o.w+d,h:o.h+f,radius:o.radius}}class _o extends Vi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:i,options:{borderColor:s,backgroundColor:l}}=this,{inner:d,outer:f}=Km(this),x=$m(f.radius)?zo:Zm;e.save(),(f.w!==d.w||f.h!==d.h)&&(e.beginPath(),x(e,Ts(f,i,d)),e.clip(),x(e,Ts(d,-i,f)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),x(e,Ts(d,i)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,i,s){return ks(this,e,i,s)}inXRange(e,i){return ks(this,e,null,i)}inYRange(e,i){return ks(this,null,e,i)}getCenterPoint(e){const{x:i,y:s,base:l,horizontal:d}=this.getProps(["x","y","base","horizontal"],e);return{x:d?(i+l)/2:i,y:d?s:(s+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ee(_o,"id","bar"),Ee(_o,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ee(_o,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Qm(o,e,i){const s=o.segments,l=o.points,d=e.points,f=[];for(const x of s){let{start:g,end:y}=x;y=Ko(g,y,l);const w=Xs(i,l[g],l[y],x.loop);if(!e.segments){f.push({source:x,target:w,start:l[g],end:l[y]});continue}const C=bd(e,w);for(const S of C){const j=Xs(i,d[S.start],d[S.end],S.loop),k=yd(x,l,j);for(const R of k)f.push({source:R,target:S,start:{[i]:Ql(w,j,"start",Math.max)},end:{[i]:Ql(w,j,"end",Math.min)}})}}return f}function Xs(o,e,i,s){if(s)return;let l=e[o],d=i[o];return o==="angle"&&(l=ki(l),d=ki(d)),{property:o,start:l,end:d}}function Jm(o,e){const{x:i=null,y:s=null}=o||{},l=e.points,d=[];return e.segments.forEach(({start:f,end:x})=>{x=Ko(f,x,l);const g=l[f],y=l[x];s!==null?(d.push({x:g.x,y:s}),d.push({x:y.x,y:s})):i!==null&&(d.push({x:i,y:g.y}),d.push({x:i,y:y.y}))}),d}function Ko(o,e,i){for(;e>o;e--){const s=i[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Ql(o,e,i,s){return o&&e?s(o[i],e[i]):o?o[i]:e?e[i]:0}function zd(o,e){let i=[],s=!1;return ii(o)?(s=!0,i=o):i=Jm(o,e),i.length?new xn({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function Jl(o){return o&&o.fill!==!1}function ey(o,e,i){let l=o[e].fill;const d=[e];let f;if(!i)return l;for(;l!==!1&&d.indexOf(l)===-1;){if(!fi(l))return l;if(f=o[l],!f)return!1;if(f.visible)return l;d.push(l),l=f.fill}return!1}function ty(o,e,i){const s=oy(o);if(st(s))return isNaN(s.value)?!1:s;let l=parseFloat(s);return fi(l)&&Math.floor(l)===l?iy(s[0],e,l,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function iy(o,e,i,s){return(o==="-"||o==="+")&&(i=e+i),i===e||i<0||i>=s?!1:i}function ny(o,e){let i=null;return o==="start"?i=e.bottom:o==="end"?i=e.top:st(o)?i=e.getPixelForValue(o.value):e.getBasePixel&&(i=e.getBasePixel()),i}function ry(o,e,i){let s;return o==="start"?s=i:o==="end"?s=e.options.reverse?e.min:e.max:st(o)?s=o.value:s=e.getBaseValue(),s}function oy(o){const e=o.options,i=e.fill;let s=nt(i&&i.target,i);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function sy(o){const{scale:e,index:i,line:s}=o,l=[],d=s.segments,f=s.points,x=ay(e,i);x.push(zd({x:null,y:e.bottom},s));for(let g=0;g<d.length;g++){const y=d[g];for(let w=y.start;w<=y.end;w++)ly(l,f[w],x)}return new xn({points:l,options:{}})}function ay(o,e){const i=[],s=o.getMatchingVisibleMetas("line");for(let l=0;l<s.length;l++){const d=s[l];if(d.index===e)break;d.hidden||i.unshift(d.dataset)}return i}function ly(o,e,i){const s=[];for(let l=0;l<i.length;l++){const d=i[l],{first:f,last:x,point:g}=cy(d,e,"x");if(!(!g||f&&x)){if(f)s.unshift(g);else if(o.push(g),!x)break}}o.push(...s)}function cy(o,e,i){const s=o.interpolate(e,i);if(!s)return{};const l=s[i],d=o.segments,f=o.points;let x=!1,g=!1;for(let y=0;y<d.length;y++){const w=d[y],C=f[w.start][i],S=f[w.end][i];if(sn(l,C,S)){x=l===C,g=l===S;break}}return{first:x,last:g,point:s}}class Pd{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,s){const{x:l,y:d,radius:f}=this;return i=i||{start:0,end:Dt},e.arc(l,d,f,i.end,i.start,!0),!s.bounds}interpolate(e){const{x:i,y:s,radius:l}=this,d=e.angle;return{x:i+Math.cos(d)*l,y:s+Math.sin(d)*l,angle:d}}}function dy(o){const{chart:e,fill:i,line:s}=o;if(fi(i))return hy(e,i);if(i==="stack")return sy(o);if(i==="shape")return!0;const l=uy(o);return l instanceof Pd?l:zd(l,s)}function hy(o,e){const i=o.getDatasetMeta(e);return i&&o.isDatasetVisible(e)?i.dataset:null}function uy(o){return(o.scale||{}).getPointPositionForValue?fy(o):py(o)}function py(o){const{scale:e={},fill:i}=o,s=ny(i,e);if(fi(s)){const l=e.isHorizontal();return{x:l?s:null,y:l?null:s}}return null}function fy(o){const{scale:e,fill:i}=o,s=e.options,l=e.getLabels().length,d=s.reverse?e.max:e.min,f=ry(i,e,d),x=[];if(s.grid.circular){const g=e.getPointPositionForValue(0,d);return new Pd({x:g.x,y:g.y,radius:e.getDistanceFromCenterForValue(f)})}for(let g=0;g<l;++g)x.push(e.getPointPositionForValue(g,f));return x}function Rs(o,e,i){const s=dy(e),{chart:l,index:d,line:f,scale:x,axis:g}=e,y=f.options,w=y.fill,C=y.backgroundColor,{above:S=C,below:j=C}=w||{},k=l.getDatasetMeta(d),R=wd(l,k);s&&f.points.length&&(Ho(o,i),gy(o,{line:f,target:s,above:S,below:j,area:i,scale:x,axis:g,clip:R}),Go(o))}function gy(o,e){const{line:i,target:s,above:l,below:d,area:f,scale:x,clip:g}=e,y=i._loop?"angle":e.axis;o.save();let w=d;d!==l&&(y==="x"?(ec(o,s,f.top),Is(o,{line:i,target:s,color:l,scale:x,property:y,clip:g}),o.restore(),o.save(),ec(o,s,f.bottom)):y==="y"&&(tc(o,s,f.left),Is(o,{line:i,target:s,color:d,scale:x,property:y,clip:g}),o.restore(),o.save(),tc(o,s,f.right),w=l)),Is(o,{line:i,target:s,color:w,scale:x,property:y,clip:g}),o.restore()}function ec(o,e,i){const{segments:s,points:l}=e;let d=!0,f=!1;o.beginPath();for(const x of s){const{start:g,end:y}=x,w=l[g],C=l[Ko(g,y,l)];d?(o.moveTo(w.x,w.y),d=!1):(o.lineTo(w.x,i),o.lineTo(w.x,w.y)),f=!!e.pathSegment(o,x,{move:f}),f?o.closePath():o.lineTo(C.x,i)}o.lineTo(e.first().x,i),o.closePath(),o.clip()}function tc(o,e,i){const{segments:s,points:l}=e;let d=!0,f=!1;o.beginPath();for(const x of s){const{start:g,end:y}=x,w=l[g],C=l[Ko(g,y,l)];d?(o.moveTo(w.x,w.y),d=!1):(o.lineTo(i,w.y),o.lineTo(w.x,w.y)),f=!!e.pathSegment(o,x,{move:f}),f?o.closePath():o.lineTo(i,C.y)}o.lineTo(i,e.first().y),o.closePath(),o.clip()}function Is(o,e){const{line:i,target:s,property:l,color:d,scale:f,clip:x}=e,g=Qm(i,s,l);for(const{source:y,target:w,start:C,end:S}of g){const{style:{backgroundColor:j=d}={}}=y,k=s!==!0;o.save(),o.fillStyle=j,xy(o,f,x,k&&Xs(l,C,S)),o.beginPath();const R=!!i.pathSegment(o,y);let O;if(k){R?o.closePath():ic(o,s,S,l);const F=!!s.pathSegment(o,w,{move:R,reverse:!0});O=R&&F,O||ic(o,s,C,l)}o.closePath(),o.fill(O?"evenodd":"nonzero"),o.restore()}}function xy(o,e,i,s){const l=e.chart.chartArea,{property:d,start:f,end:x}=s||{};if(d==="x"||d==="y"){let g,y,w,C;d==="x"?(g=f,y=l.top,w=x,C=l.bottom):(g=l.left,y=f,w=l.right,C=x),o.beginPath(),i&&(g=Math.max(g,i.left),w=Math.min(w,i.right),y=Math.max(y,i.top),C=Math.min(C,i.bottom)),o.rect(g,y,w-g,C-y),o.clip()}}function ic(o,e,i,s){const l=e.interpolate(i,s);l&&o.lineTo(l.x,l.y)}var my={id:"filler",afterDatasetsUpdate(o,e,i){const s=(o.data.datasets||[]).length,l=[];let d,f,x,g;for(f=0;f<s;++f)d=o.getDatasetMeta(f),x=d.dataset,g=null,x&&x.options&&x instanceof xn&&(g={visible:o.isDatasetVisible(f),index:f,fill:ty(x,f,s),chart:o,axis:d.controller.options.indexAxis,scale:d.vScale,line:x}),d.$filler=g,l.push(g);for(f=0;f<s;++f)g=l[f],!(!g||g.fill===!1)&&(g.fill=ey(l,f,i.propagate))},beforeDraw(o,e,i){const s=i.drawTime==="beforeDraw",l=o.getSortedVisibleDatasetMetas(),d=o.chartArea;for(let f=l.length-1;f>=0;--f){const x=l[f].$filler;x&&(x.line.updateControlPoints(d,x.axis),s&&x.fill&&Rs(o.ctx,x,d))}},beforeDatasetsDraw(o,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;const s=o.getSortedVisibleDatasetMetas();for(let l=s.length-1;l>=0;--l){const d=s[l].$filler;Jl(d)&&Rs(o.ctx,d,o.chartArea)}},beforeDatasetDraw(o,e,i){const s=e.meta.$filler;!Jl(s)||i.drawTime!=="beforeDatasetDraw"||Rs(o.ctx,s,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nc=(o,e)=>{let{boxHeight:i=e,boxWidth:s=e}=o;return o.usePointStyle&&(i=Math.min(i,e),s=o.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}},yy=(o,e)=>o!==null&&e!==null&&o.datasetIndex===e.datasetIndex&&o.index===e.index;class rc extends Vi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,s){this.maxWidth=e,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=Bt(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(s=>e.filter(s,this.chart.data))),e.sort&&(i=i.sort((s,l)=>e.sort(s,l,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,l=pi(s.font),d=l.size,f=this._computeTitleHeight(),{boxWidth:x,itemHeight:g}=nc(s,d);let y,w;i.font=l.string,this.isHorizontal()?(y=this.maxWidth,w=this._fitRows(f,d,x,g)+10):(w=this.maxHeight,y=this._fitCols(f,l,x,g)+10),this.width=Math.min(y,e.maxWidth||this.maxWidth),this.height=Math.min(w,e.maxHeight||this.maxHeight)}_fitRows(e,i,s,l){const{ctx:d,maxWidth:f,options:{labels:{padding:x}}}=this,g=this.legendHitBoxes=[],y=this.lineWidths=[0],w=l+x;let C=e;d.textAlign="left",d.textBaseline="middle";let S=-1,j=-w;return this.legendItems.forEach((k,R)=>{const O=s+i/2+d.measureText(k.text).width;(R===0||y[y.length-1]+O+2*x>f)&&(C+=w,y[y.length-(R>0?0:1)]=0,j+=w,S++),g[R]={left:0,top:j,row:S,width:O,height:l},y[y.length-1]+=O+x}),C}_fitCols(e,i,s,l){const{ctx:d,maxHeight:f,options:{labels:{padding:x}}}=this,g=this.legendHitBoxes=[],y=this.columnSizes=[],w=f-e;let C=x,S=0,j=0,k=0,R=0;return this.legendItems.forEach((O,F)=>{const{itemWidth:Y,itemHeight:M}=by(s,i,d,O,l);F>0&&j+M+2*x>w&&(C+=S+x,y.push({width:S,height:j}),k+=S+x,R++,S=j=0),g[F]={left:k,top:j,col:R,width:Y,height:M},S=Math.max(S,Y),j+=M+x}),C+=S,y.push({width:S,height:j}),C}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:l},rtl:d}}=this,f=Zn(d,this.left,this.width);if(this.isHorizontal()){let x=0,g=hi(s,this.left+l,this.right-this.lineWidths[x]);for(const y of i)x!==y.row&&(x=y.row,g=hi(s,this.left+l,this.right-this.lineWidths[x])),y.top+=this.top+e+l,y.left=f.leftForLtr(f.x(g),y.width),g+=y.width+l}else{let x=0,g=hi(s,this.top+e+l,this.bottom-this.columnSizes[x].height);for(const y of i)y.col!==x&&(x=y.col,g=hi(s,this.top+e+l,this.bottom-this.columnSizes[x].height)),y.top=g,y.left+=this.left+l,y.left=f.leftForLtr(f.x(y.left),y.width),g+=y.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ho(e,this),this._draw(),Go(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:s,ctx:l}=this,{align:d,labels:f}=e,x=qt.color,g=Zn(e.rtl,this.left,this.width),y=pi(f.font),{padding:w}=f,C=y.size,S=C/2;let j;this.drawTitle(),l.textAlign=g.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=y.string;const{boxWidth:k,boxHeight:R,itemHeight:O}=nc(f,C),F=function(W,I,Z){if(isNaN(k)||k<=0||isNaN(R)||R<0)return;l.save();const J=nt(Z.lineWidth,1);if(l.fillStyle=nt(Z.fillStyle,x),l.lineCap=nt(Z.lineCap,"butt"),l.lineDashOffset=nt(Z.lineDashOffset,0),l.lineJoin=nt(Z.lineJoin,"miter"),l.lineWidth=J,l.strokeStyle=nt(Z.strokeStyle,x),l.setLineDash(nt(Z.lineDash,[])),f.usePointStyle){const le={radius:R*Math.SQRT2/2,pointStyle:Z.pointStyle,rotation:Z.rotation,borderWidth:J},fe=g.xPlus(W,k/2),oe=I+S;ld(l,le,fe,oe,f.pointStyleWidth&&k)}else{const le=I+Math.max((C-R)/2,0),fe=g.leftForLtr(W,k),oe=$n(Z.borderRadius);l.beginPath(),Object.values(oe).some(ve=>ve!==0)?zo(l,{x:fe,y:le,w:k,h:R,radius:oe}):l.rect(fe,le,k,R),l.fill(),J!==0&&l.stroke()}l.restore()},Y=function(W,I,Z){Vr(l,Z.text,W,I+O/2,y,{strikethrough:Z.hidden,textAlign:g.textAlign(Z.textAlign)})},M=this.isHorizontal(),ee=this._computeTitleHeight();M?j={x:hi(d,this.left+w,this.right-s[0]),y:this.top+w+ee,line:0}:j={x:this.left+w,y:hi(d,this.top+ee+w,this.bottom-i[0].height),line:0},gd(this.ctx,e.textDirection);const U=O+w;this.legendItems.forEach((W,I)=>{l.strokeStyle=W.fontColor,l.fillStyle=W.fontColor;const Z=l.measureText(W.text).width,J=g.textAlign(W.textAlign||(W.textAlign=f.textAlign)),le=k+S+Z;let fe=j.x,oe=j.y;g.setWidth(this.width),M?I>0&&fe+le+w>this.right&&(oe=j.y+=U,j.line++,fe=j.x=hi(d,this.left+w,this.right-s[j.line])):I>0&&oe+U>this.bottom&&(fe=j.x=fe+i[j.line].width+w,j.line++,oe=j.y=hi(d,this.top+ee+w,this.bottom-i[j.line].height));const ve=g.x(fe);if(F(ve,oe,W),fe=ox(J,fe+k+S,M?fe+le:this.right,e.rtl),Y(g.x(fe),oe,W),M)j.x+=le+w;else if(typeof W.text!="string"){const Se=y.lineHeight;j.y+=Dd(W,Se)+w}else j.y+=U}),xd(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,s=pi(i.font),l=Di(i.padding);if(!i.display)return;const d=Zn(e.rtl,this.left,this.width),f=this.ctx,x=i.position,g=s.size/2,y=l.top+g;let w,C=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),w=this.top+y,C=hi(e.align,C,this.right-S);else{const k=this.columnSizes.reduce((R,O)=>Math.max(R,O.height),0);w=y+hi(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const j=hi(x,C,C+S);f.textAlign=d.textAlign(fa(x)),f.textBaseline="middle",f.strokeStyle=i.color,f.fillStyle=i.color,f.font=s.string,Vr(f,i.text,j,w,s)}_computeTitleHeight(){const e=this.options.title,i=pi(e.font),s=Di(e.padding);return e.display?i.lineHeight+s.height:0}_getLegendItemAt(e,i){let s,l,d;if(sn(e,this.left,this.right)&&sn(i,this.top,this.bottom)){for(d=this.legendHitBoxes,s=0;s<d.length;++s)if(l=d[s],sn(e,l.left,l.left+l.width)&&sn(i,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(e){const i=this.options;if(!Cy(e.type,i))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,d=yy(l,s);l&&!d&&Bt(i.onLeave,[e,l,this],this),this._hoveredItem=s,s&&!d&&Bt(i.onHover,[e,s,this],this)}else s&&Bt(i.onClick,[e,s,this],this)}}function by(o,e,i,s,l){const d=wy(s,o,e,i),f=vy(l,s,e.lineHeight);return{itemWidth:d,itemHeight:f}}function wy(o,e,i,s){let l=o.text;return l&&typeof l!="string"&&(l=l.reduce((d,f)=>d.length>f.length?d:f)),e+i.size/2+s.measureText(l).width}function vy(o,e,i){let s=o;return typeof e.text!="string"&&(s=Dd(e,i)),s}function Dd(o,e){const i=o.text?o.text.length:0;return e*i}function Cy(o,e){return!!((o==="mousemove"||o==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(o==="click"||o==="mouseup"))}var Sy={id:"legend",_element:rc,start(o,e,i){const s=o.legend=new rc({ctx:o.ctx,options:i,chart:o});Pi.configure(o,s,i),Pi.addBox(o,s)},stop(o){Pi.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,e,i){const s=o.legend;Pi.configure(o,s,i),s.options=i},afterUpdate(o){const e=o.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(o,e){e.replay||o.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,e,i){const s=e.datasetIndex,l=i.chart;l.isDatasetVisible(s)?(l.hide(s),e.hidden=!0):(l.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){const e=o.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:l,color:d,useBorderRadius:f,borderRadius:x}}=o.legend.options;return o._getSortedDatasetMetas().map(g=>{const y=g.controller.getStyle(i?0:void 0),w=Di(y.borderWidth);return{text:e[g.index].label,fillStyle:y.backgroundColor,fontColor:d,hidden:!g.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(w.width+w.height)/4,strokeStyle:y.borderColor,pointStyle:s||y.pointStyle,rotation:y.rotation,textAlign:l||y.textAlign,borderRadius:f&&(x||y.borderRadius),datasetIndex:g.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}};class Fd extends Vi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const l=ii(s.text)?s.text.length:1;this._padding=Di(s.padding);const d=l*pi(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:s,bottom:l,right:d,options:f}=this,x=f.align;let g=0,y,w,C;return this.isHorizontal()?(w=hi(x,s,d),C=i+e,y=d-s):(f.position==="left"?(w=s+e,C=hi(x,l,i),g=yt*-.5):(w=d-e,C=hi(x,i,l),g=yt*.5),y=l-i),{titleX:w,titleY:C,maxWidth:y,rotation:g}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const s=pi(i.font),d=s.lineHeight/2+this._padding.top,{titleX:f,titleY:x,maxWidth:g,rotation:y}=this._drawArgs(d);Vr(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:y,textAlign:fa(i.align),textBaseline:"middle",translation:[f,x]})}}function Ay(o,e){const i=new Fd({ctx:o.ctx,options:e,chart:o});Pi.configure(o,i,e),Pi.addBox(o,i),o.titleBlock=i}var jy={id:"title",_element:Fd,start(o,e,i){Ay(o,i)},stop(o){const e=o.titleBlock;Pi.removeBox(o,e),delete o.titleBlock},beforeUpdate(o,e,i){const s=o.titleBlock;Pi.configure(o,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _r={average(o){if(!o.length)return!1;let e,i,s=new Set,l=0,d=0;for(e=0,i=o.length;e<i;++e){const x=o[e].element;if(x&&x.hasValue()){const g=x.tooltipPosition();s.add(g.x),l+=g.y,++d}}return d===0||s.size===0?!1:{x:[...s].reduce((x,g)=>x+g)/s.size,y:l/d}},nearest(o,e){if(!o.length)return!1;let i=e.x,s=e.y,l=Number.POSITIVE_INFINITY,d,f,x;for(d=0,f=o.length;d<f;++d){const g=o[d].element;if(g&&g.hasValue()){const y=g.getCenterPoint(),w=Ls(e,y);w<l&&(l=w,x=g)}}if(x){const g=x.tooltipPosition();i=g.x,s=g.y}return{x:i,y:s}}};function Yi(o,e){return e&&(ii(e)?Array.prototype.push.apply(o,e):o.push(e)),o}function tn(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function _y(o,e){const{element:i,datasetIndex:s,index:l}=e,d=o.getDatasetMeta(s).controller,{label:f,value:x}=d.getLabelAndValue(l);return{chart:o,label:f,parsed:d.getParsed(l),raw:o.data.datasets[s].data[l],formattedValue:x,dataset:d.getDataset(),dataIndex:l,datasetIndex:s,element:i}}function oc(o,e){const i=o.chart.ctx,{body:s,footer:l,title:d}=o,{boxWidth:f,boxHeight:x}=e,g=pi(e.bodyFont),y=pi(e.titleFont),w=pi(e.footerFont),C=d.length,S=l.length,j=s.length,k=Di(e.padding);let R=k.height,O=0,F=s.reduce((ee,U)=>ee+U.before.length+U.lines.length+U.after.length,0);if(F+=o.beforeBody.length+o.afterBody.length,C&&(R+=C*y.lineHeight+(C-1)*e.titleSpacing+e.titleMarginBottom),F){const ee=e.displayColors?Math.max(x,g.lineHeight):g.lineHeight;R+=j*ee+(F-j)*g.lineHeight+(F-1)*e.bodySpacing}S&&(R+=e.footerMarginTop+S*w.lineHeight+(S-1)*e.footerSpacing);let Y=0;const M=function(ee){O=Math.max(O,i.measureText(ee).width+Y)};return i.save(),i.font=y.string,mt(o.title,M),i.font=g.string,mt(o.beforeBody.concat(o.afterBody),M),Y=e.displayColors?f+2+e.boxPadding:0,mt(s,ee=>{mt(ee.before,M),mt(ee.lines,M),mt(ee.after,M)}),Y=0,i.font=w.string,mt(o.footer,M),i.restore(),O+=k.width,{width:O,height:R}}function Ey(o,e){const{y:i,height:s}=e;return i<s/2?"top":i>o.height-s/2?"bottom":"center"}function ky(o,e,i,s){const{x:l,width:d}=s,f=i.caretSize+i.caretPadding;if(o==="left"&&l+d+f>e.width||o==="right"&&l-d-f<0)return!0}function Ty(o,e,i,s){const{x:l,width:d}=i,{width:f,chartArea:{left:x,right:g}}=o;let y="center";return s==="center"?y=l<=(x+g)/2?"left":"right":l<=d/2?y="left":l>=f-d/2&&(y="right"),ky(y,o,e,i)&&(y="center"),y}function sc(o,e,i){const s=i.yAlign||e.yAlign||Ey(o,i);return{xAlign:i.xAlign||e.xAlign||Ty(o,e,i,s),yAlign:s}}function Ry(o,e){let{x:i,width:s}=o;return e==="right"?i-=s:e==="center"&&(i-=s/2),i}function Iy(o,e,i){let{y:s,height:l}=o;return e==="top"?s+=i:e==="bottom"?s-=l+i:s-=l/2,s}function ac(o,e,i,s){const{caretSize:l,caretPadding:d,cornerRadius:f}=o,{xAlign:x,yAlign:g}=i,y=l+d,{topLeft:w,topRight:C,bottomLeft:S,bottomRight:j}=$n(f);let k=Ry(e,x);const R=Iy(e,g,y);return g==="center"?x==="left"?k+=y:x==="right"&&(k-=y):x==="left"?k-=Math.max(w,S)+l:x==="right"&&(k+=Math.max(C,j)+l),{x:ui(k,0,s.width-e.width),y:ui(R,0,s.height-e.height)}}function go(o,e,i){const s=Di(i.padding);return e==="center"?o.x+o.width/2:e==="right"?o.x+o.width-s.right:o.x+s.left}function lc(o){return Yi([],tn(o))}function By(o,e,i){return Nn(o,{tooltip:e,tooltipItems:i,type:"tooltip"})}function cc(o,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?o.override(i):o}const Md={beforeTitle:Ji,title(o){if(o.length>0){const e=o[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:Ji,beforeBody:Ji,beforeLabel:Ji,label(o){if(this&&this.options&&this.options.mode==="dataset")return o.label+": "+o.formattedValue||o.formattedValue;let e=o.dataset.label||"";e&&(e+=": ");const i=o.formattedValue;return jt(i)||(e+=i),e},labelColor(o){const i=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){const i=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ji,afterBody:Ji,beforeFooter:Ji,footer:Ji,afterFooter:Ji};function Ci(o,e,i,s){const l=o[e].call(i,s);return typeof l=="undefined"?Md[e].call(i,s):l}class Ys extends Vi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&i.options.animation&&s.animations,d=new vd(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(d)),d}getContext(){return this.$context||(this.$context=By(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:s}=i,l=Ci(s,"beforeTitle",this,e),d=Ci(s,"title",this,e),f=Ci(s,"afterTitle",this,e);let x=[];return x=Yi(x,tn(l)),x=Yi(x,tn(d)),x=Yi(x,tn(f)),x}getBeforeBody(e,i){return lc(Ci(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:s}=i,l=[];return mt(e,d=>{const f={before:[],lines:[],after:[]},x=cc(s,d);Yi(f.before,tn(Ci(x,"beforeLabel",this,d))),Yi(f.lines,Ci(x,"label",this,d)),Yi(f.after,tn(Ci(x,"afterLabel",this,d))),l.push(f)}),l}getAfterBody(e,i){return lc(Ci(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:s}=i,l=Ci(s,"beforeFooter",this,e),d=Ci(s,"footer",this,e),f=Ci(s,"afterFooter",this,e);let x=[];return x=Yi(x,tn(l)),x=Yi(x,tn(d)),x=Yi(x,tn(f)),x}_createItems(e){const i=this._active,s=this.chart.data,l=[],d=[],f=[];let x=[],g,y;for(g=0,y=i.length;g<y;++g)x.push(_y(this.chart,i[g]));return e.filter&&(x=x.filter((w,C,S)=>e.filter(w,C,S,s))),e.itemSort&&(x=x.sort((w,C)=>e.itemSort(w,C,s))),mt(x,w=>{const C=cc(e.callbacks,w);l.push(Ci(C,"labelColor",this,w)),d.push(Ci(C,"labelPointStyle",this,w)),f.push(Ci(C,"labelTextColor",this,w))}),this.labelColors=l,this.labelPointStyles=d,this.labelTextColors=f,this.dataPoints=x,x}update(e,i){const s=this.options.setContext(this.getContext()),l=this._active;let d,f=[];if(!l.length)this.opacity!==0&&(d={opacity:0});else{const x=_r[s.position].call(this,l,this._eventPosition);f=this._createItems(s),this.title=this.getTitle(f,s),this.beforeBody=this.getBeforeBody(f,s),this.body=this.getBody(f,s),this.afterBody=this.getAfterBody(f,s),this.footer=this.getFooter(f,s);const g=this._size=oc(this,s),y=Object.assign({},x,g),w=sc(this.chart,s,y),C=ac(s,y,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,d={opacity:1,x:C.x,y:C.y,width:g.width,height:g.height,caretX:x.x,caretY:x.y}}this._tooltipItems=f,this.$context=void 0,d&&this._resolveAnimations().update(this,d),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,l){const d=this.getCaretPosition(e,s,l);i.lineTo(d.x1,d.y1),i.lineTo(d.x2,d.y2),i.lineTo(d.x3,d.y3)}getCaretPosition(e,i,s){const{xAlign:l,yAlign:d}=this,{caretSize:f,cornerRadius:x}=s,{topLeft:g,topRight:y,bottomLeft:w,bottomRight:C}=$n(x),{x:S,y:j}=e,{width:k,height:R}=i;let O,F,Y,M,ee,U;return d==="center"?(ee=j+R/2,l==="left"?(O=S,F=O-f,M=ee+f,U=ee-f):(O=S+k,F=O+f,M=ee-f,U=ee+f),Y=O):(l==="left"?F=S+Math.max(g,w)+f:l==="right"?F=S+k-Math.max(y,C)-f:F=this.caretX,d==="top"?(M=j,ee=M-f,O=F-f,Y=F+f):(M=j+R,ee=M+f,O=F+f,Y=F-f),U=M),{x1:O,x2:F,x3:Y,y1:M,y2:ee,y3:U}}drawTitle(e,i,s){const l=this.title,d=l.length;let f,x,g;if(d){const y=Zn(s.rtl,this.x,this.width);for(e.x=go(this,s.titleAlign,s),i.textAlign=y.textAlign(s.titleAlign),i.textBaseline="middle",f=pi(s.titleFont),x=s.titleSpacing,i.fillStyle=s.titleColor,i.font=f.string,g=0;g<d;++g)i.fillText(l[g],y.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+x,g+1===d&&(e.y+=s.titleMarginBottom-x)}}_drawColorBox(e,i,s,l,d){const f=this.labelColors[s],x=this.labelPointStyles[s],{boxHeight:g,boxWidth:y}=d,w=pi(d.bodyFont),C=go(this,"left",d),S=l.x(C),j=g<w.lineHeight?(w.lineHeight-g)/2:0,k=i.y+j;if(d.usePointStyle){const R={radius:Math.min(y,g)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},O=l.leftForLtr(S,y)+y/2,F=k+g/2;e.strokeStyle=d.multiKeyBackground,e.fillStyle=d.multiKeyBackground,Ws(e,R,O,F),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,Ws(e,R,O,F)}else{e.lineWidth=st(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const R=l.leftForLtr(S,y),O=l.leftForLtr(l.xPlus(S,1),y-2),F=$n(f.borderRadius);Object.values(F).some(Y=>Y!==0)?(e.beginPath(),e.fillStyle=d.multiKeyBackground,zo(e,{x:R,y:k,w:y,h:g,radius:F}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),zo(e,{x:O,y:k+1,w:y-2,h:g-2,radius:F}),e.fill()):(e.fillStyle=d.multiKeyBackground,e.fillRect(R,k,y,g),e.strokeRect(R,k,y,g),e.fillStyle=f.backgroundColor,e.fillRect(O,k+1,y-2,g-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){const{body:l}=this,{bodySpacing:d,bodyAlign:f,displayColors:x,boxHeight:g,boxWidth:y,boxPadding:w}=s,C=pi(s.bodyFont);let S=C.lineHeight,j=0;const k=Zn(s.rtl,this.x,this.width),R=function(Z){i.fillText(Z,k.x(e.x+j),e.y+S/2),e.y+=S+d},O=k.textAlign(f);let F,Y,M,ee,U,W,I;for(i.textAlign=f,i.textBaseline="middle",i.font=C.string,e.x=go(this,O,s),i.fillStyle=s.bodyColor,mt(this.beforeBody,R),j=x&&O!=="right"?f==="center"?y/2+w:y+2+w:0,ee=0,W=l.length;ee<W;++ee){for(F=l[ee],Y=this.labelTextColors[ee],i.fillStyle=Y,mt(F.before,R),M=F.lines,x&&M.length&&(this._drawColorBox(i,e,ee,k,s),S=Math.max(C.lineHeight,g)),U=0,I=M.length;U<I;++U)R(M[U]),S=C.lineHeight;mt(F.after,R)}j=0,S=C.lineHeight,mt(this.afterBody,R),e.y-=d}drawFooter(e,i,s){const l=this.footer,d=l.length;let f,x;if(d){const g=Zn(s.rtl,this.x,this.width);for(e.x=go(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=g.textAlign(s.footerAlign),i.textBaseline="middle",f=pi(s.footerFont),i.fillStyle=s.footerColor,i.font=f.string,x=0;x<d;++x)i.fillText(l[x],g.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+s.footerSpacing}}drawBackground(e,i,s,l){const{xAlign:d,yAlign:f}=this,{x,y:g}=e,{width:y,height:w}=s,{topLeft:C,topRight:S,bottomLeft:j,bottomRight:k}=$n(l.cornerRadius);i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.beginPath(),i.moveTo(x+C,g),f==="top"&&this.drawCaret(e,i,s,l),i.lineTo(x+y-S,g),i.quadraticCurveTo(x+y,g,x+y,g+S),f==="center"&&d==="right"&&this.drawCaret(e,i,s,l),i.lineTo(x+y,g+w-k),i.quadraticCurveTo(x+y,g+w,x+y-k,g+w),f==="bottom"&&this.drawCaret(e,i,s,l),i.lineTo(x+j,g+w),i.quadraticCurveTo(x,g+w,x,g+w-j),f==="center"&&d==="left"&&this.drawCaret(e,i,s,l),i.lineTo(x,g+C),i.quadraticCurveTo(x,g,x+C,g),i.closePath(),i.fill(),l.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,s=this.$animations,l=s&&s.x,d=s&&s.y;if(l||d){const f=_r[e.position].call(this,this._active,this._eventPosition);if(!f)return;const x=this._size=oc(this,e),g=Object.assign({},f,this._size),y=sc(i,e,g),w=ac(e,g,y,i);(l._to!==w.x||d._to!==w.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=x.width,this.height=x.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const l={width:this.width,height:this.height},d={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const f=Di(i.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&x&&(e.save(),e.globalAlpha=s,this.drawBackground(d,e,l,i),gd(e,i.textDirection),d.y+=f.top,this.drawTitle(d,e,i),this.drawBody(d,e,i),this.drawFooter(d,e,i),xd(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const s=this._active,l=e.map(({datasetIndex:x,index:g})=>{const y=this.chart.getDatasetMeta(x);if(!y)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:y.data[g],index:g}}),d=!Io(s,l),f=this._positionChanged(l,i);(d||f)&&(this._active=l,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,d=this._active||[],f=this._getActiveElements(e,d,i,s),x=this._positionChanged(f,e),g=i||!Io(f,d)||x;return g&&(this._active=f,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),g}_getActiveElements(e,i,s,l){const d=this.options;if(e.type==="mouseout")return[];if(!l)return i.filter(x=>this.chart.data.datasets[x.datasetIndex]&&this.chart.getDatasetMeta(x.datasetIndex).controller.getParsed(x.index)!==void 0);const f=this.chart.getElementsAtEventForMode(e,d.mode,d,s);return d.reverse&&f.reverse(),f}_positionChanged(e,i){const{caretX:s,caretY:l,options:d}=this,f=_r[d.position].call(this,e,i);return f!==!1&&(s!==f.x||l!==f.y)}}Ee(Ys,"positioners",_r);var Oy={id:"tooltip",_element:Ys,positioners:_r,afterInit(o,e,i){i&&(o.tooltip=new Ys({chart:o,options:i}))},beforeUpdate(o,e,i){o.tooltip&&o.tooltip.initialize(i)},reset(o,e,i){o.tooltip&&o.tooltip.initialize(i)},afterDraw(o){const e=o.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(o.notifyPlugins("beforeTooltipDraw",G(L({},i),{cancelable:!0}))===!1)return;e.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",i)}},afterEvent(o,e){if(o.tooltip){const i=e.replay;o.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,e)=>e.bodyFont.size,boxWidth:(o,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Md},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>o!=="filter"&&o!=="itemSort"&&o!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ny=(o,e,i,s)=>(typeof e=="string"?(i=o.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function zy(o,e,i,s){const l=o.indexOf(e);if(l===-1)return Ny(o,e,i,s);const d=o.lastIndexOf(e);return l!==d?i:l}const Py=(o,e)=>o===null?null:ui(Math.round(o),0,e);function dc(o){const e=this.getLabels();return o>=0&&o<e.length?e[o]:o}class Ks extends nr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const s=this.getLabels();for(const{index:l,label:d}of i)s[l]===d&&s.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(jt(e))return null;const s=this.getLabels();return i=isFinite(i)&&s[i]===e?i:zy(s,e,nt(i,e),this._addedLabels),Py(i,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),i||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const e=this.min,i=this.max,s=this.options.offset,l=[];let d=this.getLabels();d=e===0&&i===d.length-1?d:d.slice(e,i+1),this._valueRange=Math.max(d.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let f=e;f<=i;f++)l.push({value:f});return l}getLabelForValue(e){return dc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ee(Ks,"id","category"),Ee(Ks,"defaults",{ticks:{callback:dc}});function Dy(o,e){const i=[],{bounds:l,step:d,min:f,max:x,precision:g,count:y,maxTicks:w,maxDigits:C,includeBounds:S}=o,j=d||1,k=w-1,{min:R,max:O}=e,F=!jt(f),Y=!jt(x),M=!jt(y),ee=(O-R)/(C+1);let U=dl((O-R)/k/j)*j,W,I,Z,J;if(U<1e-14&&!F&&!Y)return[{value:R},{value:O}];J=Math.ceil(O/U)-Math.floor(R/U),J>k&&(U=dl(J*U/k/j)*j),jt(g)||(W=Math.pow(10,g),U=Math.ceil(U*W)/W),l==="ticks"?(I=Math.floor(R/U)*U,Z=Math.ceil(O/U)*U):(I=R,Z=O),F&&Y&&d&&K0((x-f)/d,U/1e3)?(J=Math.round(Math.min((x-f)/U,w)),U=(x-f)/J,I=f,Z=x):M?(I=F?f:I,Z=Y?x:Z,J=y-1,U=(Z-I)/J):(J=(Z-I)/U,Rr(J,Math.round(J),U/1e3)?J=Math.round(J):J=Math.ceil(J));const le=Math.max(hl(U),hl(I));W=Math.pow(10,jt(g)?le:g),I=Math.round(I*W)/W,Z=Math.round(Z*W)/W;let fe=0;for(F&&(S&&I!==f?(i.push({value:f}),I<f&&fe++,Rr(Math.round((I+fe*U)*W)/W,f,hc(f,ee,o))&&fe++):I<f&&fe++);fe<J;++fe){const oe=Math.round((I+fe*U)*W)/W;if(Y&&oe>x)break;i.push({value:oe})}return Y&&S&&Z!==x?i.length&&Rr(i[i.length-1].value,x,hc(x,ee,o))?i[i.length-1].value=x:i.push({value:x}):(!Y||Z===x)&&i.push({value:Z}),i}function hc(o,e,{horizontal:i,minRotation:s}){const l=on(s),d=(i?Math.sin(l):Math.cos(l))||.001,f=.75*e*(""+o).length;return Math.min(e/d,f)}class Fy extends nr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:l,max:d}=this;const f=g=>l=i?l:g,x=g=>d=s?d:g;if(e){const g=Jn(l),y=Jn(d);g<0&&y<0?x(0):g>0&&y>0&&f(0)}if(l===d){let g=d===0?1:Math.abs(d*.05);x(d+g),e||f(l-g)}this.min=l,this.max=d}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:s}=e,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),i=i||11),i&&(l=Math.min(i,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},d=this._range||this,f=Dy(l,d);return e.bounds==="ticks"&&$0(f,this,"value"),e.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const e=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const l=(s-i)/Math.max(e.length-1,1)/2;i-=l,s+=l}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(e){return xa(e,this.chart.options.locale,this.options.ticks.format)}}class $s extends Fy{determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=fi(e)?e:0,this.max=fi(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,s=on(this.options.ticks.minRotation),l=(e?Math.sin(s):Math.cos(s))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,d.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ee($s,"id","linear"),Ee($s,"defaults",{ticks:{callback:ad.formatters.numeric}});const $o={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Si=Object.keys($o);function uc(o,e){return o-e}function pc(o,e){if(jt(e))return null;const i=o._adapter,{parser:s,round:l,isoWeekday:d}=o._parseOpts;let f=e;return typeof s=="function"&&(f=s(f)),fi(f)||(f=typeof s=="string"?i.parse(f,s):i.parse(f)),f===null?null:(l&&(f=l==="week"&&(Fr(d)||d===!0)?i.startOf(f,"isoWeek",d):i.startOf(f,l)),+f)}function fc(o,e,i,s){const l=Si.length;for(let d=Si.indexOf(o);d<l-1;++d){const f=$o[Si[d]],x=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((i-e)/(x*f.size))<=s)return Si[d]}return Si[l-1]}function My(o,e,i,s,l){for(let d=Si.length-1;d>=Si.indexOf(i);d--){const f=Si[d];if($o[f].common&&o._adapter.diff(l,s,f)>=e-1)return f}return Si[i?Si.indexOf(i):0]}function Ly(o){for(let e=Si.indexOf(o)+1,i=Si.length;e<i;++e)if($o[Si[e]].common)return Si[e]}function gc(o,e,i){if(!i)o[e]=!0;else if(i.length){const{lo:s,hi:l}=pa(i,e),d=i[s]>=e?i[s]:i[l];o[d]=!0}}function Vy(o,e,i,s){const l=o._adapter,d=+l.startOf(e[0].value,s),f=e[e.length-1].value;let x,g;for(x=d;x<=f;x=+l.add(x,1,s))g=i[x],g>=0&&(e[g].major=!0);return e}function xc(o,e,i){const s=[],l={},d=e.length;let f,x;for(f=0;f<d;++f)x=e[f],l[x]=f,s.push({value:x,major:!1});return d===0||!i?s:Vy(o,s,l,i)}class Mo extends nr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const s=e.time||(e.time={}),l=this._adapter=new S1._date(e.adapters.date);l.init(i),Tr(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:pc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,s=e.time.unit||"day";let{min:l,max:d,minDefined:f,maxDefined:x}=this.getUserBounds();function g(y){!f&&!isNaN(y.min)&&(l=Math.min(l,y.min)),!x&&!isNaN(y.max)&&(d=Math.max(d,y.max))}(!f||!x)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),l=fi(l)&&!isNaN(l)?l:+i.startOf(Date.now(),s),d=fi(d)&&!isNaN(d)?d:+i.endOf(Date.now(),s)+1,this.min=Math.min(l,d-1),this.max=Math.max(l+1,d)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){const e=this.options,i=e.time,s=e.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const d=this.min,f=this.max,x=tx(l,d,f);return this._unit=i.unit||(s.autoSkip?fc(i.minUnit,this.min,this.max,this._getLabelCapacity(d)):My(this,x.length,i.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Ly(this._unit),this.initOffsets(l),e.reverse&&x.reverse(),xc(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,s=0,l,d;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?i=1-l:i=(this.getDecimalForValue(e[1])-l)/2,d=this.getDecimalForValue(e[e.length-1]),e.length===1?s=d:s=(d-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;i=ui(i,0,f),s=ui(s,0,f),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,i=this.min,s=this.max,l=this.options,d=l.time,f=d.unit||fc(d.minUnit,i,s,this._getLabelCapacity(i)),x=nt(l.ticks.stepSize,1),g=f==="week"?d.isoWeekday:!1,y=Fr(g)||g===!0,w={};let C=i,S,j;if(y&&(C=+e.startOf(C,"isoWeek",g)),C=+e.startOf(C,y?"day":f),e.diff(s,i,f)>1e5*x)throw new Error(i+" and "+s+" are too far apart with stepSize of "+x+" "+f);const k=l.ticks.source==="data"&&this.getDataTimestamps();for(S=C,j=0;S<s;S=+e.add(S,x,f),j++)gc(w,S,k);return(S===s||l.bounds==="ticks"||j===1)&&gc(w,S,k),Object.keys(w).sort(uc).map(R=>+R)}getLabelForValue(e){const i=this._adapter,s=this.options.time;return s.tooltipFormat?i.format(e,s.tooltipFormat):i.format(e,s.displayFormats.datetime)}format(e,i){const l=this.options.time.displayFormats,d=this._unit,f=i||l[d];return this._adapter.format(e,f)}_tickFormatFunction(e,i,s,l){const d=this.options,f=d.ticks.callback;if(f)return Bt(f,[e,i,s],this);const x=d.time.displayFormats,g=this._unit,y=this._majorUnit,w=g&&x[g],C=y&&x[y],S=s[i],j=y&&C&&S&&S.major;return this._adapter.format(e,l||(j?C:w))}generateTickLabels(e){let i,s,l;for(i=0,s=e.length;i<s;++i)l=e[i],l.label=this._tickFormatFunction(l.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,s=this.ctx.measureText(e).width,l=on(this.isHorizontal()?i.maxRotation:i.minRotation),d=Math.cos(l),f=Math.sin(l),x=this._resolveTickFontOptions(0).size;return{w:s*d+x*f,h:s*f+x*d}}_getLabelCapacity(e){const i=this.options.time,s=i.displayFormats,l=s[i.unit]||s.millisecond,d=this._tickFormatFunction(e,0,xc(this,[e],this._majorUnit),l),f=this._getLabelSize(d),x=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return x>0?x:1}getDataTimestamps(){let e=this._cache.data||[],i,s;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(i=0,s=l.length;i<s;++i)e=e.concat(l[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,s;if(e.length)return e;const l=this.getLabels();for(i=0,s=l.length;i<s;++i)e.push(pc(this,l[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nx(e.sort(uc))}}Ee(Mo,"id","time"),Ee(Mo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xo(o,e,i){let s=0,l=o.length-1,d,f,x,g;i?(e>=o[s].pos&&e<=o[l].pos&&({lo:s,hi:l}=Rn(o,"pos",e)),{pos:d,time:x}=o[s],{pos:f,time:g}=o[l]):(e>=o[s].time&&e<=o[l].time&&({lo:s,hi:l}=Rn(o,"time",e)),{time:d,pos:x}=o[s],{time:f,pos:g}=o[l]);const y=f-d;return y?x+(g-x)*(e-d)/y:x}class mc extends Mo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=xo(i,this.min),this._tableRange=xo(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:s}=this,l=[],d=[];let f,x,g,y,w;for(f=0,x=e.length;f<x;++f)y=e[f],y>=i&&y<=s&&l.push(y);if(l.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(f=0,x=l.length;f<x;++f)w=l[f+1],g=l[f-1],y=l[f],Math.round((w+g)/2)!==y&&d.push({time:y,pos:f/(x-1)});return d}_generate(){const e=this.min,i=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(i)||s.length===1)&&s.push(i),s.sort((l,d)=>l-d)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return i.length&&s.length?e=this.normalize(i.concat(s)):e=i.length?i:s,e=this._cache.all=e,e}getDecimalForValue(e){return(xo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return xo(this._table,s*this._tableRange+this._minPos,!0)}}Ee(mc,"id","timeseries"),Ee(mc,"defaults",Mo.defaults);const Ld="label";function yc(o,e){typeof o=="function"?o(e):o&&(o.current=e)}function Wy(o,e){const i=o.options;i&&e&&Object.assign(i,e)}function Vd(o,e){o.labels=e}function Wd(o,e,i=Ld){const s=[];o.datasets=e.map(l=>{const d=o.datasets.find(f=>f[i]===l[i]);return!d||!l.data||s.includes(d)?L({},l):(s.push(d),Object.assign(d,l),d)})}function Uy(o,e=Ld){const i={labels:[],datasets:[]};return Vd(i,o.labels),Wd(i,o.datasets,e),i}function Hy(o,e){const F=o,{height:i=150,width:s=300,redraw:l=!1,datasetIdKey:d,type:f,data:x,options:g,plugins:y=[],fallbackContent:w,updateMode:C}=F,S=Ka(F,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),j=D.useRef(null),k=D.useRef(null),R=()=>{j.current&&(k.current=new Yo(j.current,{type:f,data:Uy(x,d),options:g&&L({},g),plugins:y}),yc(e,k.current))},O=()=>{yc(e,null),k.current&&(k.current.destroy(),k.current=null)};return D.useEffect(()=>{!l&&k.current&&g&&Wy(k.current,g)},[l,g]),D.useEffect(()=>{!l&&k.current&&Vd(k.current.config.data,x.labels)},[l,x.labels]),D.useEffect(()=>{!l&&k.current&&x.datasets&&Wd(k.current.config.data,x.datasets,d)},[l,x.datasets]),D.useEffect(()=>{k.current&&(l?(O(),setTimeout(R)):k.current.update(C))},[l,g,x.labels,x.datasets,C]),D.useEffect(()=>{k.current&&(O(),setTimeout(R))},[f]),D.useEffect(()=>(R(),()=>O()),[]),r.jsx("canvas",G(L({ref:j,role:"img",height:i,width:s},S),{children:w}))}const Gy=D.forwardRef(Hy);function Aa(o,e){return Yo.register(e),D.forwardRef((i,s)=>r.jsx(Gy,G(L({},i),{ref:s,type:o})))}const qy=Aa("line",Co),bc=Aa("doughnut",Xn),Xy=Aa("pie",Us);Yo.register(Ks,$s,jo,xn,_o,jr,jy,Oy,Sy,my);function Yy({apiCall:o}){var j,k,R,O,F,Y,M,ee,U,W,I;const{t:e}=Nt(),[i,s]=D.useState(!0),[l,d]=D.useState(null),[f,x]=D.useState(null);D.useEffect(()=>{g()},[]);const g=()=>se(null,null,function*(){s(!0),x(null);try{const Z=yield o("/admin/analytics");console.log("Analytics data loaded:",Z),d(Z)}catch(Z){console.error("Failed to load analytics:",Z),x(Z.message||"Failed to load analytics data")}finally{s(!1)}});if(i)return r.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[r.jsx("div",{style:{fontSize:"28px",marginBottom:"20px"},children:"ğŸ“Š Loading Analytics..."}),r.jsx("div",{style:{fontSize:"20px",color:"#666"},children:"Please wait while we gather the data"})]});if(f||!l)return r.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[r.jsx("div",{style:{fontSize:"28px",color:"#e74c3c",marginBottom:"20px"},children:"âš ï¸ Failed to Load Analytics"}),r.jsx("div",{style:{fontSize:"20px",color:"#666",marginBottom:"20px"},children:f||"Unable to load analytics data"}),r.jsx("button",{onClick:g,style:{padding:"12px 24px",fontSize:"20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"ğŸ”„ Retry"})]});const y=l.issuance_trend?{labels:l.issuance_trend.map(Z=>Z.date),datasets:[{label:"Vouchers Issued",data:l.issuance_trend.map(Z=>Z.count),borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.1)",fill:!0,tension:.4}]}:null,w=l.users?{labels:["VCFSE","Schools","Vendors","Recipients"],datasets:[{data:[l.users.vcses||0,l.users.schools||0,l.users.vendors||0,l.users.recipients||0],backgroundColor:["#4CAF50","#2196F3","#FF9800","#9C27B0"],borderWidth:2,borderColor:"#fff"}]}:null,C=l.status_breakdown?{labels:["Active","Redeemed","Expired"],datasets:[{data:[l.status_breakdown.active||0,l.status_breakdown.redeemed||0,l.status_breakdown.expired||0],backgroundColor:["#4CAF50","#2196F3","#F44336"],borderWidth:2,borderColor:"#fff"}]}:null,S=l.value_by_status?{labels:["Active Value","Redeemed Value","Expired Value"],datasets:[{data:[l.value_by_status.active||0,l.value_by_status.redeemed||0,l.value_by_status.expired||0],backgroundColor:["#4CAF50","#2196F3","#F44336"],borderWidth:2,borderColor:"#fff"}]}:null;return r.jsxs("div",{style:{padding:"20px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[r.jsxs("h2",{style:{margin:0},children:["ğŸ“Š ",e("common.systemAnalyticsDashboard")]}),r.jsxs("button",{onClick:g,style:{padding:"8px 16px",fontSize:"18px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:["ğŸ”„ ",e("common.refresh")]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsx(mo,{title:e("common.totalUsers"),value:((j=l.users)==null?void 0:j.total)||0,icon:"ğŸ‘¥",color:"#4CAF50",subtitle:`${((k=l.users)==null?void 0:k.recipients)||0} ${e("common.recipients").toLowerCase()}`}),r.jsx(mo,{title:e("common.totalVouchers"),value:l.total_vouchers||0,subtitle:`Â£${(l.total_value||0).toFixed(2)} ${e("common.totalValue").toLowerCase()}`,icon:"ğŸ«",color:"#2196F3"}),r.jsx(mo,{title:e("common.activeVouchers"),value:l.active_vouchers||0,subtitle:`Â£${(((R=l.value_by_status)==null?void 0:R.active)||0).toFixed(2)}`,icon:"âœ…",color:"#4CAF50"}),r.jsx(mo,{title:e("common.redemptionRate"),value:`${((O=l.vouchers)==null?void 0:O.redemption_rate)||0}%`,subtitle:`${l.redeemed_vouchers||0} ${e("common.redeemed").toLowerCase()}`,icon:"ğŸ“ˆ",color:"#9C27B0"})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsxs("h3",{style:{marginTop:0,marginBottom:"20px"},children:["ğŸŒ ",e("common.systemOverview")]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[r.jsx(Ni,{label:e("common.vcfseOrganizations"),value:((F=l.users)==null?void 0:F.vcses)||0}),r.jsx(Ni,{label:e("common.schools"),value:((Y=l.users)==null?void 0:Y.schools)||0}),r.jsx(Ni,{label:e("common.vendors"),value:((M=l.users)==null?void 0:M.vendors)||0}),r.jsx(Ni,{label:e("common.recipients"),value:((ee=l.users)==null?void 0:ee.recipients)||0})]})]}),l.marketplace&&r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsxs("h3",{style:{marginTop:0,marginBottom:"20px"},children:["ğŸª ",e("common.marketplaceStatistics")]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[r.jsx(Ni,{label:e("common.activeShops"),value:l.marketplace.total_shops||0,color:"#4CAF50"}),r.jsx(Ni,{label:e("common.totalItems"),value:l.marketplace.total_items||0,color:"#2196F3"}),r.jsx(Ni,{label:e("common.availableItems"),value:l.marketplace.available_items||0,color:"#FF9800"}),r.jsx(Ni,{label:e("common.claimedItems"),value:l.marketplace.claimed_items||0,color:"#9C27B0"})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"ğŸ’° Financial Summary"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[r.jsx(Ni,{label:"Total Value Issued",value:`Â£${(l.total_value||0).toFixed(2)}`,color:"#4CAF50"}),r.jsx(Ni,{label:"Active Value",value:`Â£${(((U=l.value_by_status)==null?void 0:U.active)||0).toFixed(2)}`,color:"#2196F3"}),r.jsx(Ni,{label:"Redeemed Value",value:`Â£${(((W=l.value_by_status)==null?void 0:W.redeemed)||0).toFixed(2)}`,color:"#FF9800"}),r.jsx(Ni,{label:"Expired Value",value:`Â£${(((I=l.value_by_status)==null?void 0:I.expired)||0).toFixed(2)}`,color:"#F44336"})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ“ˆ Voucher Issuance Trend (Last 30 Days)"}),y&&r.jsx(qy,{data:y,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ‘¥ User Distribution"}),w&&r.jsx(bc,{data:w,options:{responsive:!0,plugins:{legend:{position:"right"}}}})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ« Voucher Status Distribution"}),C&&r.jsx(Xy,{data:C,options:{responsive:!0,plugins:{legend:{position:"right"}}}})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ’· Value Distribution by Status"}),S&&r.jsx(bc,{data:S,options:{responsive:!0,plugins:{legend:{position:"right"}}}})]})]})]})}function mo({title:o,value:e,subtitle:i,icon:s,color:l}){return r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderLeft:`4px solid ${l}`},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"8px"},children:o}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:l},children:e}),i&&r.jsx("div",{style:{fontSize:"16px",color:"#999",marginTop:"4px"},children:i})]}),r.jsx("div",{style:{fontSize:"40px"},children:s})]})})}function Ni({label:o,value:e,color:i="#333"}){return r.jsxs("div",{style:{padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:o}),r.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:i},children:e})]})}const Qi=Object.create(null);Qi.open="0";Qi.close="1";Qi.ping="2";Qi.pong="3";Qi.message="4";Qi.upgrade="5";Qi.noop="6";const Eo=Object.create(null);Object.keys(Qi).forEach(o=>{Eo[Qi[o]]=o});const Zs={type:"error",data:"parser error"},Ud=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Hd=typeof ArrayBuffer=="function",Gd=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,ja=({type:o,data:e},i,s)=>Ud&&e instanceof Blob?i?s(e):wc(e,s):Hd&&(e instanceof ArrayBuffer||Gd(e))?i?s(e):wc(new Blob([e]),s):s(Qi[o]+(e||"")),wc=(o,e)=>{const i=new FileReader;return i.onload=function(){const s=i.result.split(",")[1];e("b"+(s||""))},i.readAsDataURL(o)};function vc(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}let Bs;function Ky(o,e){if(Ud&&o.data instanceof Blob)return o.data.arrayBuffer().then(vc).then(e);if(Hd&&(o.data instanceof ArrayBuffer||Gd(o.data)))return e(vc(o.data));ja(o,!1,i=>{Bs||(Bs=new TextEncoder),e(Bs.encode(i))})}const Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Er=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let o=0;o<Cc.length;o++)Er[Cc.charCodeAt(o)]=o;const $y=o=>{let e=o.length*.75,i=o.length,s,l=0,d,f,x,g;o[o.length-1]==="="&&(e--,o[o.length-2]==="="&&e--);const y=new ArrayBuffer(e),w=new Uint8Array(y);for(s=0;s<i;s+=4)d=Er[o.charCodeAt(s)],f=Er[o.charCodeAt(s+1)],x=Er[o.charCodeAt(s+2)],g=Er[o.charCodeAt(s+3)],w[l++]=d<<2|f>>4,w[l++]=(f&15)<<4|x>>2,w[l++]=(x&3)<<6|g&63;return y},Zy=typeof ArrayBuffer=="function",_a=(o,e)=>{if(typeof o!="string")return{type:"message",data:qd(o,e)};const i=o.charAt(0);return i==="b"?{type:"message",data:Qy(o.substring(1),e)}:Eo[i]?o.length>1?{type:Eo[i],data:o.substring(1)}:{type:Eo[i]}:Zs},Qy=(o,e)=>{if(Zy){const i=$y(o);return qd(i,e)}else return{base64:!0,data:o}},qd=(o,e)=>{switch(e){case"blob":return o instanceof Blob?o:new Blob([o]);case"arraybuffer":default:return o instanceof ArrayBuffer?o:o.buffer}},Xd="",Jy=(o,e)=>{const i=o.length,s=new Array(i);let l=0;o.forEach((d,f)=>{ja(d,!1,x=>{s[f]=x,++l===i&&e(s.join(Xd))})})},eb=(o,e)=>{const i=o.split(Xd),s=[];for(let l=0;l<i.length;l++){const d=_a(i[l],e);if(s.push(d),d.type==="error")break}return s};function tb(){return new TransformStream({transform(o,e){Ky(o,i=>{const s=i.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const d=new DataView(l.buffer);d.setUint8(0,126),d.setUint16(1,s)}else{l=new Uint8Array(9);const d=new DataView(l.buffer);d.setUint8(0,127),d.setBigUint64(1,BigInt(s))}o.data&&typeof o.data!="string"&&(l[0]|=128),e.enqueue(l),e.enqueue(i)})}})}let Os;function yo(o){return o.reduce((e,i)=>e+i.length,0)}function bo(o,e){if(o[0].length===e)return o.shift();const i=new Uint8Array(e);let s=0;for(let l=0;l<e;l++)i[l]=o[0][s++],s===o[0].length&&(o.shift(),s=0);return o.length&&s<o[0].length&&(o[0]=o[0].slice(s)),i}function ib(o,e){Os||(Os=new TextDecoder);const i=[];let s=0,l=-1,d=!1;return new TransformStream({transform(f,x){for(i.push(f);;){if(s===0){if(yo(i)<1)break;const g=bo(i,1);d=(g[0]&128)===128,l=g[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(yo(i)<2)break;const g=bo(i,2);l=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),s=3}else if(s===2){if(yo(i)<8)break;const g=bo(i,8),y=new DataView(g.buffer,g.byteOffset,g.length),w=y.getUint32(0);if(w>Math.pow(2,21)-1){x.enqueue(Zs);break}l=w*Math.pow(2,32)+y.getUint32(4),s=3}else{if(yo(i)<l)break;const g=bo(i,l);x.enqueue(_a(d?g:Os.decode(g),e)),s=0}if(l===0||l>o){x.enqueue(Zs);break}}}})}const Yd=4;function $t(o){if(o)return nb(o)}function nb(o){for(var e in $t.prototype)o[e]=$t.prototype[e];return o}$t.prototype.on=$t.prototype.addEventListener=function(o,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(e),this};$t.prototype.once=function(o,e){function i(){this.off(o,i),e.apply(this,arguments)}return i.fn=e,this.on(o,i),this};$t.prototype.off=$t.prototype.removeListener=$t.prototype.removeAllListeners=$t.prototype.removeEventListener=function(o,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+o];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var s,l=0;l<i.length;l++)if(s=i[l],s===e||s.fn===e){i.splice(l,1);break}return i.length===0&&delete this._callbacks["$"+o],this};$t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+o],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(i){i=i.slice(0);for(var s=0,l=i.length;s<l;++s)i[s].apply(this,e)}return this};$t.prototype.emitReserved=$t.prototype.emit;$t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};$t.prototype.hasListeners=function(o){return!!this.listeners(o).length};const Zo=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),zi=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")(),rb="arraybuffer";function Kd(o,...e){return e.reduce((i,s)=>(o.hasOwnProperty(s)&&(i[s]=o[s]),i),{})}const ob=zi.setTimeout,sb=zi.clearTimeout;function Qo(o,e){e.useNativeTimers?(o.setTimeoutFn=ob.bind(zi),o.clearTimeoutFn=sb.bind(zi)):(o.setTimeoutFn=zi.setTimeout.bind(zi),o.clearTimeoutFn=zi.clearTimeout.bind(zi))}const ab=1.33;function lb(o){return typeof o=="string"?cb(o):Math.ceil((o.byteLength||o.size)*ab)}function cb(o){let e=0,i=0;for(let s=0,l=o.length;s<l;s++)e=o.charCodeAt(s),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(s++,i+=4);return i}function $d(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function db(o){let e="";for(let i in o)o.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(o[i]));return e}function hb(o){let e={},i=o.split("&");for(let s=0,l=i.length;s<l;s++){let d=i[s].split("=");e[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return e}class ub extends Error{constructor(e,i,s){super(e),this.description=i,this.context=s,this.type="TransportError"}}class Ea extends $t{constructor(e){super(),this.writable=!1,Qo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,i,s){return super.emitReserved("error",new ub(e,i,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const i=_a(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const i=db(e);return i.length?"?"+i:""}}class pb extends Ea{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const i=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||i()})),this.writable||(s++,this.once("drain",function(){--s||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const i=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};eb(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Jy(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=$d()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}}let Zd=!1;try{Zd=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(o){}const fb=Zd;function gb(){}class xb extends pb{constructor(e){if(super(e),typeof location!="undefined"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,i){const s=this.request({method:"POST",data:e});s.on("success",i),s.on("error",(l,d)=>{this.onError("xhr post error",l,d)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,s)=>{this.onError("xhr poll error",i,s)}),this.pollXhr=e}}class Zi extends $t{constructor(e,i,s){super(),this.createRequest=e,Qo(this,s),this._opts=s,this._method=s.method||"GET",this._uri=i,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const i=Kd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(i);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch(l){}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(l){}try{s.setRequestHeader("Accept","*/*")}catch(l){}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document!="undefined"&&(this._index=Zi.requestsCount++,Zi.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr=="undefined"||this._xhr===null)){if(this._xhr.onreadystatechange=gb,e)try{this._xhr.abort()}catch(i){}typeof document!="undefined"&&delete Zi.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Zi.requestsCount=0;Zi.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Sc);else if(typeof addEventListener=="function"){const o="onpagehide"in zi?"pagehide":"unload";addEventListener(o,Sc,!1)}}function Sc(){for(let o in Zi.requests)Zi.requests.hasOwnProperty(o)&&Zi.requests[o].abort()}const mb=(function(){const o=Qd({xdomain:!1});return o&&o.responseType!==null})();class yb extends xb{constructor(e){super(e);const i=e&&e.forceBase64;this.supportsBinary=mb&&!i}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Zi(Qd,this.uri(),e)}}function Qd(o){const e=o.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||fb))return new XMLHttpRequest}catch(i){}if(!e)try{return new zi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}}const Jd=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bb extends Ea{get name(){return"websocket"}doOpen(){const e=this.uri(),i=this.opts.protocols,s=Jd?{}:Kd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,i,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const s=e[i],l=i===e.length-1;ja(s,this.supportsBinary,d=>{try{this.doWrite(s,d)}catch(f){}l&&Zo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=$d()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}}const Ns=zi.WebSocket||zi.MozWebSocket;class wb extends bb{createSocket(e,i,s){return Jd?new Ns(e,i,s):i?new Ns(e,i):new Ns(e)}doWrite(e,i){this.ws.send(i)}}class vb extends Ea{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const i=ib(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(i).getReader(),l=tb();l.readable.pipeTo(e.writable),this._writer=l.writable.getWriter();const d=()=>{s.read().then(({done:x,value:g})=>{x||(this.onPacket(g),d())}).catch(x=>{})};d();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const s=e[i],l=i===e.length-1;this._writer.write(s).then(()=>{l&&Zo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Cb={websocket:wb,webtransport:vb,polling:yb},Sb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ab=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qs(o){if(o.length>8e3)throw"URI too long";const e=o,i=o.indexOf("["),s=o.indexOf("]");i!=-1&&s!=-1&&(o=o.substring(0,i)+o.substring(i,s).replace(/:/g,";")+o.substring(s,o.length));let l=Sb.exec(o||""),d={},f=14;for(;f--;)d[Ab[f]]=l[f]||"";return i!=-1&&s!=-1&&(d.source=e,d.host=d.host.substring(1,d.host.length-1).replace(/;/g,":"),d.authority=d.authority.replace("[","").replace("]","").replace(/;/g,":"),d.ipv6uri=!0),d.pathNames=jb(d,d.path),d.queryKey=_b(d,d.query),d}function jb(o,e){const i=/\/{2,9}/g,s=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function _b(o,e){const i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,d){l&&(i[l]=d)}),i}const Js=typeof addEventListener=="function"&&typeof removeEventListener=="function",ko=[];Js&&addEventListener("offline",()=>{ko.forEach(o=>o())},!1);class wn extends $t{constructor(e,i){if(super(),this.binaryType=rb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){const s=Qs(e);i.hostname=s.host,i.secure=s.protocol==="https"||s.protocol==="wss",i.port=s.port,s.query&&(i.query=s.query)}else i.host&&(i.hostname=Qs(i.host).host);Qo(this,i),this.secure=i.secure!=null?i.secure:typeof location!="undefined"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=i.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hb(this.opts.query)),Js&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ko.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=Yd,i.transport=e,this.id&&(i.sid=this.id);const s=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&wn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",wn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(i+=lb(l)),s>0&&i>this._maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Zo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,s){return this._sendPacket("message",e,i,s),this}send(e,i,s){return this._sendPacket("message",e,i,s),this}_sendPacket(e,i,s,l){if(typeof i=="function"&&(l=i,i=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const d={type:e,data:i,options:s};this.emitReserved("packetCreate",d),this.writeBuffer.push(d),l&&this.once("flush",l),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(wn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Js&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=ko.indexOf(this._offlineEventListener);s!==-1&&ko.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}wn.protocol=Yd;class Eb extends wn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let i=this.createTransport(e),s=!1;wn.priorWebsocketSuccess=!1;const l=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",C=>{if(!s)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;wn.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(w(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=i.name,this.emitReserved("upgradeError",S)}}))};function d(){s||(s=!0,w(),i.close(),i=null)}const f=C=>{const S=new Error("probe error: "+C);S.transport=i.name,d(),this.emitReserved("upgradeError",S)};function x(){f("transport closed")}function g(){f("socket closed")}function y(C){i&&C.name!==i.name&&d()}const w=()=>{i.removeListener("open",l),i.removeListener("error",f),i.removeListener("close",x),this.off("close",g),this.off("upgrading",y)};i.once("open",l),i.once("error",f),i.once("close",x),this.once("close",g),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||i.open()},200):i.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const i=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&i.push(e[s]);return i}}let kb=class extends Eb{constructor(e,i={}){const s=typeof e=="object"?e:i;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>Cb[l]).filter(l=>!!l)),super(e,s)}};function Tb(o,e="",i){let s=o;i=i||typeof location!="undefined"&&location,o==null&&(o=i.protocol+"//"+i.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=i.protocol+o:o=i.host+o),/^(https?|wss?):\/\//.test(o)||(typeof i!="undefined"?o=i.protocol+"//"+o:o="https://"+o),s=Qs(o)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const d=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+d+":"+s.port+e,s.href=s.protocol+"://"+d+(i&&i.port===s.port?"":":"+s.port),s}const Rb=typeof ArrayBuffer=="function",Ib=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,eh=Object.prototype.toString,Bb=typeof Blob=="function"||typeof Blob!="undefined"&&eh.call(Blob)==="[object BlobConstructor]",Ob=typeof File=="function"||typeof File!="undefined"&&eh.call(File)==="[object FileConstructor]";function ka(o){return Rb&&(o instanceof ArrayBuffer||Ib(o))||Bb&&o instanceof Blob||Ob&&o instanceof File}function To(o,e){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let i=0,s=o.length;i<s;i++)if(To(o[i]))return!0;return!1}if(ka(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return To(o.toJSON(),!0);for(const i in o)if(Object.prototype.hasOwnProperty.call(o,i)&&To(o[i]))return!0;return!1}function Nb(o){const e=[],i=o.data,s=o;return s.data=ea(i,e),s.attachments=e.length,{packet:s,buffers:e}}function ea(o,e){if(!o)return o;if(ka(o)){const i={_placeholder:!0,num:e.length};return e.push(o),i}else if(Array.isArray(o)){const i=new Array(o.length);for(let s=0;s<o.length;s++)i[s]=ea(o[s],e);return i}else if(typeof o=="object"&&!(o instanceof Date)){const i={};for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=ea(o[s],e));return i}return o}function zb(o,e){return o.data=ta(o.data,e),delete o.attachments,o}function ta(o,e){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<e.length)return e[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let i=0;i<o.length;i++)o[i]=ta(o[i],e);else if(typeof o=="object")for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(o[i]=ta(o[i],e));return o}const Pb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Db=5;var lt;(function(o){o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK"})(lt||(lt={}));class Fb{constructor(e){this.replacer=e}encode(e){return(e.type===lt.EVENT||e.type===lt.ACK)&&To(e)?this.encodeAsBinary({type:e.type===lt.EVENT?lt.BINARY_EVENT:lt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===lt.BINARY_EVENT||e.type===lt.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){const i=Nb(e),s=this.encodeAsString(i.packet),l=i.buffers;return l.unshift(s),l}}function Ac(o){return Object.prototype.toString.call(o)==="[object Object]"}class Ta extends $t{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);const s=i.type===lt.BINARY_EVENT;s||i.type===lt.BINARY_ACK?(i.type=s?lt.EVENT:lt.ACK,this.reconstructor=new Mb(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(ka(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0;const s={type:Number(e.charAt(0))};if(lt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===lt.BINARY_EVENT||s.type===lt.BINARY_ACK){const d=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);const f=e.substring(d,i);if(f!=Number(f)||e.charAt(i)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(e.charAt(i+1)==="/"){const d=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););s.nsp=e.substring(d,i)}else s.nsp="/";const l=e.charAt(i+1);if(l!==""&&Number(l)==l){const d=i+1;for(;++i;){const f=e.charAt(i);if(f==null||Number(f)!=f){--i;break}if(i===e.length)break}s.id=Number(e.substring(d,i+1))}if(e.charAt(++i)){const d=this.tryParse(e.substr(i));if(Ta.isPayloadValid(s.type,d))s.data=d;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(i){return!1}}static isPayloadValid(e,i){switch(e){case lt.CONNECT:return Ac(i);case lt.DISCONNECT:return i===void 0;case lt.CONNECT_ERROR:return typeof i=="string"||Ac(i);case lt.EVENT:case lt.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&Pb.indexOf(i[0])===-1);case lt.ACK:case lt.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Mb{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const i=zb(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Lb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ta,Encoder:Fb,get PacketType(){return lt},protocol:Db},Symbol.toStringTag,{value:"Module"}));function Li(o,e,i){return o.on(e,i),function(){o.off(e,i)}}const Vb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class th extends $t{constructor(e,i,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Li(e,"open",this.onopen.bind(this)),Li(e,"packet",this.onpacket.bind(this)),Li(e,"error",this.onerror.bind(this)),Li(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){var s,l,d;if(Vb.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const f={type:lt.EVENT,data:i};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const w=this.ids++,C=i.pop();this._registerAckCallback(w,C),f.id=w}const x=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,g=this.connected&&!(!((d=this.io.engine)===null||d===void 0)&&d._hasPingExpired());return this.flags.volatile&&!x||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(e,i){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[e]=i;return}const d=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let x=0;x<this.sendBuffer.length;x++)this.sendBuffer[x].id===e&&this.sendBuffer.splice(x,1);i.call(this,new Error("operation has timed out"))},l),f=(...x)=>{this.io.clearTimeoutFn(d),i.apply(this,x)};f.withError=!0,this.acks[e]=f}emitWithAck(e,...i){return new Promise((s,l)=>{const d=(f,x)=>f?l(f):s(x);d.withError=!0,i.push(d),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((l,...d)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(l)):(this._queue.shift(),i&&i(null,...d)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:lt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case lt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case lt.EVENT:case lt.BINARY_EVENT:this.onevent(e);break;case lt.ACK:case lt.BINARY_ACK:this.onack(e);break;case lt.DISCONNECT:this.ondisconnect();break;case lt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const s of i)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const i=this;let s=!1;return function(...l){s||(s=!0,i.packet({type:lt.ACK,id:e,data:l}))}}onack(e){const i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:lt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const i=this._anyListeners;for(let s=0;s<i.length;s++)if(e===i[s])return i.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const i=this._anyOutgoingListeners;for(let s=0;s<i.length;s++)if(e===i[s])return i.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const s of i)s.apply(this,e.data)}}}function rr(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}rr.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*o);o=(Math.floor(e*10)&1)==0?o-i:o+i}return Math.min(o,this.max)|0};rr.prototype.reset=function(){this.attempts=0};rr.prototype.setMin=function(o){this.ms=o};rr.prototype.setMax=function(o){this.max=o};rr.prototype.setJitter=function(o){this.jitter=o};class ia extends $t{constructor(e,i){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,Qo(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((s=i.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new rr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;const l=i.parser||Lb;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new kb(this.uri,this.opts);const i=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=Li(i,"open",function(){s.onopen(),e&&e()}),d=x=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",x),e?e(x):this.maybeReconnectOnOpen()},f=Li(i,"error",d);if(this._timeout!==!1){const x=this._timeout,g=this.setTimeoutFn(()=>{l(),d(new Error("timeout")),i.close()},x);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(l),this.subs.push(f),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Li(e,"ping",this.onping.bind(this)),Li(e,"data",this.ondata.bind(this)),Li(e,"error",this.onerror.bind(this)),Li(e,"close",this.onclose.bind(this)),Li(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){Zo(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new th(this,e,i),this.nsps[e]=s),s}_destroy(e){const i=Object.keys(this.nsps);for(const s of i)if(this.nsps[s].active)return;this._close()}_packet(e){const i=this.encoder.encode(e);for(let s=0;s<i.length;s++)this.engine.write(i[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,i){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(l=>{l?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",l)):e.onreconnect()}))},i);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const wr={};function Or(o,e){typeof o=="object"&&(e=o,o=void 0),e=e||{};const i=Tb(o,e.path||"/socket.io"),s=i.source,l=i.id,d=i.path,f=wr[l]&&d in wr[l].nsps,x=e.forceNew||e["force new connection"]||e.multiplex===!1||f;let g;return x?g=new ia(s,e):(wr[l]||(wr[l]=new ia(s,e)),g=wr[l]),i.query&&!e.query&&(e.query=i.queryKey),g.socket(i.path,e)}Object.assign(Or,{Manager:ia,Socket:th,io:Or,connect:Or});function Jo({apiCall:o,userType:e}){const[i,s]=D.useState([]),[l,d]=D.useState(0),[f,x]=D.useState(!1),[g,y]=D.useState(!0),[w,C]=D.useState(!1),S=D.useRef(null),j=D.useRef(null);D.useEffect(()=>{const U=Or(window.location.origin,{transports:["websocket","polling"],withCredentials:!0});return U.on("connect",()=>{console.log("Connected to notification server"),U.emit("join_room",{user_type:e}),console.log(`Joined ${e} room for notifications`)}),U.on("new_item_notification",W=>{console.log("New notification received:",W),s(I=>[W,...I]),d(I=>I+1),g&&j.current&&j.current.play().catch(I=>console.log("Audio play failed:",I)),typeof Notification!="undefined"&&Notification.permission==="granted"&&new Notification("New Item Available",{body:W.message,icon:"/favicon.ico",badge:"/favicon.ico"})}),U.on("disconnect",()=>{console.log("Disconnected from notification server")}),S.current=U,k(),R(),typeof Notification!="undefined"&&Notification.permission==="default"&&Notification.requestPermission(),()=>{S.current&&S.current.disconnect()}},[]),D.useEffect(()=>{g!==null&&O()},[g]);const k=()=>se(null,null,function*(){try{const U=yield o("/api/notifications","GET");U.notifications&&(s(U.notifications),d(U.unread_count||0))}catch(U){console.error("Failed to load notifications:",U)}}),R=()=>se(null,null,function*(){try{const U=yield o("/api/notifications/preferences","GET");U.sound_enabled!==void 0&&y(U.sound_enabled)}catch(U){console.error("Failed to load preferences:",U)}}),O=()=>se(null,null,function*(){try{yield o("/api/notifications/preferences","POST",{sound_enabled:g})}catch(U){console.error("Failed to save preferences:",U)}}),F=U=>se(null,null,function*(){try{yield o(`/api/notifications/${U}/read`,"POST"),s(W=>W.map(I=>I.id===U?G(L({},I),{is_read:!0}):I)),d(W=>Math.max(0,W-1))}catch(W){console.error("Failed to mark notification as read:",W)}}),Y=()=>se(null,null,function*(){try{yield o("/api/notifications/mark-all-read","POST"),s(U=>U.map(W=>G(L({},W),{is_read:!0}))),d(0)}catch(U){console.error("Failed to mark all as read:",U)}}),M=U=>{if(!U)return"";const W=new Date(U),Z=new Date-W;return Z<6e4?"Just now":Z<36e5?`${Math.floor(Z/6e4)}m ago`:Z<864e5?`${Math.floor(Z/36e5)}h ago`:`${Math.floor(Z/864e5)}d ago`},ee=U=>U==="discounted_item"?"ğŸ":U==="free_item"?"ğŸ†“":"ğŸ””";return r.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[r.jsxs("button",{onClick:()=>x(!f),style:{position:"relative",background:"none",border:"none",cursor:"pointer",fontSize:"28px",padding:"8px",color:"white"},children:["ğŸ””",l>0&&r.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",background:"#ff0000",color:"white",borderRadius:"50%",minWidth:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"13px",fontWeight:"bold",padding:"0 4px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",border:"2px solid white"},children:l>9?"9+":l})]}),f&&r.jsxs("div",{style:{position:"absolute",top:"100%",right:0,width:"350px",maxHeight:"500px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"8px",zIndex:1e3,overflow:"hidden",marginTop:"8px"},children:[r.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa"},children:[r.jsx("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000"},children:"Notifications"}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:()=>C(!w),style:{background:"none",border:"none",cursor:"pointer",fontSize:"22px",padding:"4px"},title:"Settings",children:"âš™ï¸"}),l>0&&r.jsx("button",{onClick:Y,style:{background:"none",border:"none",cursor:"pointer",fontSize:"16px",color:"#4CAF50",fontWeight:"bold"},children:"Mark all read"})]})]}),w&&r.jsx("div",{style:{padding:"15px",borderBottom:"1px solid #eee",backgroundColor:"#f8f9fa"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:g,onChange:U=>y(U.target.checked),style:{cursor:"pointer"}}),r.jsx("span",{style:{fontSize:"18px",color:"#000"},children:"Enable notification sound"})]})}),r.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:i.length===0?r.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"#666"},children:[r.jsx("div",{style:{fontSize:"52px",marginBottom:"10px"},children:"ğŸ””"}),r.jsx("p",{style:{fontSize:"18px",fontWeight:"500",color:"#666"},children:"No notifications yet"})]}):i.map(U=>r.jsx("div",{onClick:()=>{U.is_read||F(U.id),x(!1),U.item_type==="free"?window.location.hash="#vcfse-togo":window.location.hash="#browse-togo"},style:{padding:"15px",borderBottom:"1px solid #eee",cursor:"pointer",backgroundColor:U.is_read?"white":"#e8f5e9",transition:"background-color 0.2s","&:hover":{backgroundColor:"#f5f5f5"}},onMouseEnter:W=>W.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:W=>W.currentTarget.style.backgroundColor=U.is_read?"white":"#e8f5e9",children:r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("div",{style:{fontSize:"28px",flexShrink:0},children:ee(U.type)}),r.jsxs("div",{style:{flex:1},children:[r.jsx("p",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:U.is_read?"normal":"bold",color:"#000"},children:U.message}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px",color:"#555"},children:[r.jsx("span",{children:U.shop_name}),r.jsx("span",{children:M(U.created_at)})]}),U.quantity&&r.jsxs("div",{style:{fontSize:"16px",color:"#555",marginTop:"3px"},children:["Quantity: ",U.quantity]})]})]})},U.id))})]}),r.jsx("audio",{ref:j,src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIGWi77eefTRAMUKfj8LZjHAY4ktfyy3ksBSR3x/DdkEAKFF606+uoVRQKRp/g8r5sIQUrgs7y2Ik2CBlou+3nn00QDFC",preload:"auto"}),f&&r.jsx("div",{onClick:()=>x(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999}})]})}const Wb=(i,...s)=>se(null,[i,...s],function*(o,e={}){const l=yield fetch(`/api${o}`,G(L({},e),{headers:L({"Content-Type":"application/json"},e.headers),credentials:"include"}));if(!l.ok&&l.status!==401){const d=yield l.json();throw new Error(d.error||"Request failed")}return l.json()}),_i={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},inputWrapper:{position:"relative",width:"100%"},input:{width:"100%",padding:"12px",paddingRight:"45px",fontSize:"18px",border:"1px solid #ddd",borderRadius:"5px",boxSizing:"border-box"},eyeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"22px",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center"},button:{padding:"12px 24px",fontSize:"18px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginRight:"10px"},cancelButton:{padding:"12px 24px",fontSize:"18px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"}};function es({onClose:o}){const[e,i]=D.useState({current_password:"",new_password:"",confirm_password:""}),[s,l]=D.useState(""),[d,f]=D.useState(!1),[x,g]=D.useState(!1),[y,w]=D.useState(!1),[C,S]=D.useState(!1),j=k=>se(null,null,function*(){if(k.preventDefault(),l(""),e.new_password!==e.confirm_password){l("Error: New passwords do not match");return}if(e.new_password.length<8){l("Error: Password must be at least 8 characters long");return}f(!0);try{const R=yield Wb("/change-password",{method:"POST",body:JSON.stringify({current_password:e.current_password,new_password:e.new_password})});l("Success: "+R.message),i({current_password:"",new_password:"",confirm_password:""}),setTimeout(()=>{o()},2e3)}catch(R){l("Error: "+R.message)}finally{f(!1)}});return r.jsx("div",{style:_i.overlay,onClick:o,children:r.jsxs("div",{style:_i.modal,onClick:k=>k.stopPropagation(),children:[r.jsx("h2",{style:{marginTop:0},children:"ğŸ”’ Change Password"}),s&&r.jsx("div",{style:{backgroundColor:s.includes("Error")?"#ffebee":"#e8f5e9",color:s.includes("Error")?"#c62828":"#2e7d32",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:s}),r.jsxs("form",{onSubmit:j,children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Current Password"}),r.jsxs("div",{style:_i.inputWrapper,children:[r.jsx("input",{type:x?"text":"password",value:e.current_password,onChange:k=>i(G(L({},e),{current_password:k.target.value})),style:_i.input,required:!0,disabled:d}),r.jsx("button",{type:"button",onClick:()=>g(!x),style:_i.eyeButton,disabled:d,children:x?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"New Password"}),r.jsxs("div",{style:_i.inputWrapper,children:[r.jsx("input",{type:y?"text":"password",value:e.new_password,onChange:k=>i(G(L({},e),{new_password:k.target.value})),style:_i.input,required:!0,minLength:"8",disabled:d}),r.jsx("button",{type:"button",onClick:()=>w(!y),style:_i.eyeButton,disabled:d,children:y?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]}),r.jsx("small",{style:{color:"#666"},children:"Minimum 8 characters"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Confirm New Password"}),r.jsxs("div",{style:_i.inputWrapper,children:[r.jsx("input",{type:C?"text":"password",value:e.confirm_password,onChange:k=>i(G(L({},e),{confirm_password:k.target.value})),style:_i.input,required:!0,disabled:d}),r.jsx("button",{type:"button",onClick:()=>S(!C),style:_i.eyeButton,disabled:d,children:C?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{type:"submit",style:_i.button,disabled:d,children:d?"Changing...":"Change Password"}),r.jsx("button",{type:"button",onClick:o,style:_i.cancelButton,disabled:d,children:"Cancel"})]})]})]})})}var _e;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_e||(_e={}));var jc=new Map([[_e.QR_CODE,"QR_CODE"],[_e.AZTEC,"AZTEC"],[_e.CODABAR,"CODABAR"],[_e.CODE_39,"CODE_39"],[_e.CODE_93,"CODE_93"],[_e.CODE_128,"CODE_128"],[_e.DATA_MATRIX,"DATA_MATRIX"],[_e.MAXICODE,"MAXICODE"],[_e.ITF,"ITF"],[_e.EAN_13,"EAN_13"],[_e.EAN_8,"EAN_8"],[_e.PDF_417,"PDF_417"],[_e.RSS_14,"RSS_14"],[_e.RSS_EXPANDED,"RSS_EXPANDED"],[_e.UPC_A,"UPC_A"],[_e.UPC_E,"UPC_E"],[_e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_c;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(_c||(_c={}));function Ub(o){return Object.values(_e).includes(o)}var Lo;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Lo||(Lo={}));var Hb=(function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[Lo.SCAN_TYPE_CAMERA,Lo.SCAN_TYPE_FILE],o})(),ih=(function(){function o(e,i){this.format=e,this.formatName=i}return o.prototype.toString=function(){return this.formatName},o.create=function(e){if(!jc.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new o(e,jc.get(e))},o})(),Ec=(function(){function o(){}return o.createFromText=function(e){var i={text:e};return{decodedText:e,result:i}},o.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},o})(),na;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(na||(na={}));var Gb=(function(){function o(){}return o.createFrom=function(e){return{errorMessage:e,type:na.UNKWOWN_ERROR}},o})(),qb=(function(){function o(e){this.verbose=e}return o.prototype.log=function(e){this.verbose&&console.log(e)},o.prototype.warn=function(e){this.verbose&&console.warn(e)},o.prototype.logError=function(e,i){(this.verbose||i===!0)&&console.error(e)},o.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},o})();function nn(o){return typeof o=="undefined"||o===null}var Yn=(function(){function o(){}return o.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},o.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o})(),nh=(function(){function o(){}return o.isMediaStreamConstraintsValid=function(e,i){if(typeof e!="object"){var s=typeof e;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(l),f=Object.keys(e),x=0,g=f;x<g.length;x++){var y=g[x];if(d.has(y))return i.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},o})(),kr={exports:{}},Xb=kr.exports,kc;function Yb(){return kc||(kc=1,(function(o,e){(function(i,s){s(e)})(Xb,(function(i){function s(_){return _==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,n){_.__proto__=n}||function(_,n){for(var a in n)n.hasOwnProperty(a)&&(_[a]=n[a])};function d(_,n){l(_,n);function a(){this.constructor=_}_.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}function f(_,n){var a=Object.setPrototypeOf;a?a(_,n):_.__proto__=n}function x(_,n){n===void 0&&(n=_.constructor);var a=Error.captureStackTrace;a&&a(_,n)}var g=(function(_){d(n,_);function n(a){var c=this.constructor,h=_.call(this,a)||this;return Object.defineProperty(h,"name",{value:c.name,enumerable:!1}),f(h,c.prototype),x(h),h}return n})(Error);class y extends g{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}y.kind="Exception";class w extends y{}w.kind="ArgumentException";class C extends y{}C.kind="IllegalArgumentException";class S{constructor(n){if(this.binarizer=n,n===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,a){return this.binarizer.getBlackRow(n,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,a,c,h){const u=this.binarizer.getLuminanceSource().crop(n,a,c,h);return new S(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch(n){return""}}}class j extends y{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class k{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(n,a,c,h,u){for(;u--;)c[h++]=n[a++]}static currentTimeMillis(){return Date.now()}}class O extends y{}O.kind="IndexOutOfBoundsException";class F extends O{constructor(n=void 0,a=void 0){super(a),this.index=n,this.message=a}}F.kind="ArrayIndexOutOfBoundsException";class Y{static fill(n,a){for(let c=0,h=n.length;c<h;c++)n[c]=a}static fillWithin(n,a,c,h){Y.rangeCheck(n.length,a,c);for(let u=a;u<c;u++)n[u]=h}static rangeCheck(n,a,c){if(a>c)throw new C("fromIndex("+a+") > toIndex("+c+")");if(a<0)throw new F(a);if(c>n)throw new F(c)}static asList(...n){return n}static create(n,a,c){return Array.from({length:n}).map(u=>Array.from({length:a}).fill(c))}static createInt32Array(n,a,c){return Array.from({length:n}).map(u=>Int32Array.from({length:a}).fill(c))}static equals(n,a){if(!n||!a||!n.length||!a.length||n.length!==a.length)return!1;for(let c=0,h=n.length;c<h;c++)if(n[c]!==a[c])return!1;return!0}static hashCode(n){if(n===null)return 0;let a=1;for(const c of n)a=31*a+c;return a}static fillUint8Array(n,a){for(let c=0;c!==n.length;c++)n[c]=a}static copyOf(n,a){return n.slice(0,a)}static copyOfUint8Array(n,a){if(n.length<=a){const c=new Uint8Array(a);return c.set(n),c}return n.slice(0,a)}static copyOfRange(n,a,c){const h=c-a,u=new Int32Array(h);return R.arraycopy(n,a,u,0,h),u}static binarySearch(n,a,c){c===void 0&&(c=Y.numberComparator);let h=0,u=n.length-1;for(;h<=u;){const p=u+h>>1,m=c(a,n[p]);if(m>0)h=p+1;else if(m<0)u=p-1;else return p}return-h-1}static numberComparator(n,a){return n-a}}class M{static numberOfTrailingZeros(n){let a;if(n===0)return 32;let c=31;return a=n<<16,a!==0&&(c-=16,n=a),a=n<<8,a!==0&&(c-=8,n=a),a=n<<4,a!==0&&(c-=4,n=a),a=n<<2,a!==0&&(c-=2,n=a),c-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let a=1;return n>>>16||(a+=16,n<<=16),n>>>24||(a+=8,n<<=8),n>>>28||(a+=4,n<<=4),n>>>30||(a+=2,n<<=2),a-=n>>>31,a}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,a){return Math.trunc(n/a)}static parseInt(n,a=void 0){return parseInt(n,a)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(n,a){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,a==null?this.bits=ee.makeArray(n):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const a=ee.makeArray(n);R.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const a=this.size;if(n>=a)return a;const c=this.bits;let h=Math.floor(n/32),u=c[h];u&=~((1<<(n&31))-1);const p=c.length;for(;u===0;){if(++h===p)return a;u=c[h]}const m=h*32+M.numberOfTrailingZeros(u);return m>a?a:m}getNextUnset(n){const a=this.size;if(n>=a)return a;const c=this.bits;let h=Math.floor(n/32),u=~c[h];u&=~((1<<(n&31))-1);const p=c.length;for(;u===0;){if(++h===p)return a;u=~c[h]}const m=h*32+M.numberOfTrailingZeros(u);return m>a?a:m}setBulk(n,a){this.bits[Math.floor(n/32)]=a}setRange(n,a){if(a<n||n<0||a>this.size)throw new C;if(a===n)return;a--;const c=Math.floor(n/32),h=Math.floor(a/32),u=this.bits;for(let p=c;p<=h;p++){const m=p>c?0:n&31,v=(2<<(p<h?31:a&31))-(1<<m);u[p]|=v}}clear(){const n=this.bits.length,a=this.bits;for(let c=0;c<n;c++)a[c]=0}isRange(n,a,c){if(a<n||n<0||a>this.size)throw new C;if(a===n)return!0;a--;const h=Math.floor(n/32),u=Math.floor(a/32),p=this.bits;for(let m=h;m<=u;m++){const b=m>h?0:n&31,A=(2<<(m<u?31:a&31))-(1<<b)&4294967295;if((p[m]&A)!==(c?A:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,a){if(a<0||a>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let c=a;c>0;c--)this.appendBit((n>>c-1&1)===1)}appendBitArray(n){const a=n.size;this.ensureCapacity(this.size+a);for(let c=0;c<a;c++)this.appendBit(n.get(c))}xor(n){if(this.size!==n.size)throw new C("Sizes don't match");const a=this.bits;for(let c=0,h=a.length;c<h;c++)a[c]^=n.bits[c]}toBytes(n,a,c,h){for(let u=0;u<h;u++){let p=0;for(let m=0;m<8;m++)this.get(n)&&(p|=1<<7-m),n++;a[c+u]=p}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),c=a+1,h=this.bits;for(let u=0;u<c;u++){let p=h[u];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,n[a-u]=p}if(this.size!==c*32){const u=c*32-this.size;let p=n[0]>>>u;for(let m=1;m<c;m++){const b=n[m];p|=b<<32-u,n[m-1]=p,p=b>>>u}n[c-1]=p}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof ee))return!1;const a=n;return this.size===a.size&&Y.equals(this.bits,a.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let n="";for(let a=0,c=this.size;a<c;a++)(a&7)===0&&(n+=" "),n+=this.get(a)?"X":".";return n}clone(){return new ee(this.size,this.bits.slice())}}var U;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var W=U;class I extends y{static getFormatInstance(){return new I}}I.kind="FormatException";var Z;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class J{constructor(n,a,c,...h){this.valueIdentifier=n,this.name=c,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=h,J.VALUE_IDENTIFIER_TO_ECI.set(n,this),J.NAME_TO_ECI.set(c,this);const u=this.values;for(let p=0,m=u.length;p!==m;p++){const b=u[p];J.VALUES_TO_ECI.set(b,this)}for(const p of h)J.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new I("incorect value");const a=J.VALUES_TO_ECI.get(n);if(a===void 0)throw new I("incorect value");return a}static getCharacterSetECIByName(n){const a=J.NAME_TO_ECI.get(n);if(a===void 0)throw new I("incorect value");return a}equals(n){if(!(n instanceof J))return!1;const a=n;return this.getName()===a.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(Z.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(Z.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(Z.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(Z.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(Z.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(Z.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(Z.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(Z.Big5,28,"Big5"),J.GB18030=new J(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(Z.EUC_KR,30,"EUC_KR","EUC-KR");class le extends y{}le.kind="UnsupportedOperationException";class fe{static decode(n,a){const c=this.encodingName(a);return this.customDecoder?this.customDecoder(n,c):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(c)?this.decodeFallback(n,c):new TextDecoder(c).decode(n)}static shouldDecodeOnFallback(n){return!fe.isBrowser()&&n==="ISO-8859-1"}static encode(n,a){const c=this.encodingName(a);return this.customEncoder?this.customEncoder(n,c):typeof TextEncoder=="undefined"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof J?n:J.getCharacterSetECIByName(n)}static decodeFallback(n,a){const c=this.encodingCharacterSet(a);if(fe.isDecodeFallbackSupported(c)){let h="";for(let u=0,p=n.length;u<p;u++){let m=n[u].toString(16);m.length<2&&(m="0"+m),h+="%"+m}return decodeURIComponent(h)}if(c.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new le(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(J.UTF8)||n.equals(J.ISO8859_1)||n.equals(J.ASCII)}static encodeFallback(n){const c=btoa(unescape(encodeURIComponent(n))).split(""),h=[];for(let u=0;u<c.length;u++)h.push(c[u].charCodeAt(0));return new Uint8Array(h)}}class oe{static castAsNonUtf8Char(n,a=null){const c=a?a.getName():this.ISO88591;return fe.decode(new Uint8Array([n]),c)}static guessEncoding(n,a){if(a!=null&&a.get(W.CHARACTER_SET)!==void 0)return a.get(W.CHARACTER_SET).toString();const c=n.length;let h=!0,u=!0,p=!0,m=0,b=0,v=0,A=0,E=0,B=0,z=0,H=0,X=0,te=0,re=0;const ue=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let pe=0;pe<c&&(h||u||p);pe++){const de=n[pe]&255;p&&(m>0?(de&128)===0?p=!1:m--:(de&128)!==0&&((de&64)===0?p=!1:(m++,(de&32)===0?b++:(m++,(de&16)===0?v++:(m++,(de&8)===0?A++:p=!1))))),h&&(de>127&&de<160?h=!1:de>159&&(de<192||de===215||de===247)&&re++),u&&(E>0?de<64||de===127||de>252?u=!1:E--:de===128||de===160||de>239?u=!1:de>160&&de<224?(B++,H=0,z++,z>X&&(X=z)):de>127?(E++,z=0,H++,H>te&&(te=H)):(z=0,H=0))}return p&&m>0&&(p=!1),u&&E>0&&(u=!1),p&&(ue||b+v+A>0)?oe.UTF8:u&&(oe.ASSUME_SHIFT_JIS||X>=3||te>=3)?oe.SHIFT_JIS:h&&u?X===2&&B===2||re*10>=c?oe.SHIFT_JIS:oe.ISO88591:h?oe.ISO88591:u?oe.SHIFT_JIS:p?oe.UTF8:oe.PLATFORM_DEFAULT_ENCODING}static format(n,...a){let c=-1;function h(p,m,b,v,A,E){if(p==="%%")return"%";if(a[++c]===void 0)return;p=v?parseInt(v.substr(1)):void 0;let B=A?parseInt(A.substr(1)):void 0,z;switch(E){case"s":z=a[c];break;case"c":z=a[c][0];break;case"f":z=parseFloat(a[c]).toFixed(p);break;case"p":z=parseFloat(a[c]).toPrecision(p);break;case"e":z=parseFloat(a[c]).toExponential(p);break;case"x":z=parseInt(a[c]).toString(B||16);break;case"d":z=parseFloat(parseInt(a[c],B||10).toPrecision(p)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(B);let H=parseInt(b),X=b&&b[0]+""=="0"?"0":" ";for(;z.length<H;)z=m!==void 0?z+X:X+z;return z}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,h)}static getBytes(n,a){return fe.encode(n,a)}static getCharCode(n,a=0){return n.charCodeAt(a)}static getCharAt(n){return String.fromCharCode(n)}}oe.SHIFT_JIS=J.SJIS.getName(),oe.GB2312="GB2312",oe.ISO88591=J.ISO8859_1.getName(),oe.EUC_JP="EUC_JP",oe.UTF8=J.UTF8.getName(),oe.PLATFORM_DEFAULT_ENCODING=oe.UTF8,oe.ASSUME_SHIFT_JIS=!1;class ve{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=oe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,a,c){for(let h=a;a<a+c;h++)this.append(n[h]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+1)}substring(n,a){return this.value.substring(n,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+a.length)}}class Se{constructor(n,a,c,h){if(this.width=n,this.height=a,this.rowSize=c,this.bits=h,a==null&&(a=n),this.height=a,n<1||a<1)throw new C("Both dimensions must be greater than 0");c==null&&(c=Math.floor((n+31)/32)),this.rowSize=c,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const a=n.length,c=n[0].length,h=new Se(c,a);for(let u=0;u<a;u++){const p=n[u];for(let m=0;m<c;m++)p[m]&&h.set(m,u)}return h}static parseFromString(n,a,c){if(n===null)throw new C("stringRepresentation cannot be null");const h=new Array(n.length);let u=0,p=0,m=-1,b=0,v=0;for(;v<n.length;)if(n.charAt(v)===`
`||n.charAt(v)==="\r"){if(u>p){if(m===-1)m=u-p;else if(u-p!==m)throw new C("row lengths do not match");p=u,b++}v++}else if(n.substring(v,v+a.length)===a)v+=a.length,h[u]=!0,u++;else if(n.substring(v,v+c.length)===c)v+=c.length,h[u]=!1,u++;else throw new C("illegal character encountered: "+n.substring(v));if(u>p){if(m===-1)m=u-p;else if(u-p!==m)throw new C("row lengths do not match");b++}const A=new Se(m,b);for(let E=0;E<u;E++)h[E]&&A.set(Math.floor(E%m),Math.floor(E/m));return A}get(n,a){const c=a*this.rowSize+Math.floor(n/32);return(this.bits[c]>>>(n&31)&1)!==0}set(n,a){const c=a*this.rowSize+Math.floor(n/32);this.bits[c]|=1<<(n&31)&4294967295}unset(n,a){const c=a*this.rowSize+Math.floor(n/32);this.bits[c]&=~(1<<(n&31)&4294967295)}flip(n,a){const c=a*this.rowSize+Math.floor(n/32);this.bits[c]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new C("input matrix dimensions do not match");const a=new ee(Math.floor(this.width/32)+1),c=this.rowSize,h=this.bits;for(let u=0,p=this.height;u<p;u++){const m=u*c,b=n.getRow(u,a).getBitArray();for(let v=0;v<c;v++)h[m+v]^=b[v]}}clear(){const n=this.bits,a=n.length;for(let c=0;c<a;c++)n[c]=0}setRegion(n,a,c,h){if(a<0||n<0)throw new C("Left and top must be nonnegative");if(h<1||c<1)throw new C("Height and width must be at least 1");const u=n+c,p=a+h;if(p>this.height||u>this.width)throw new C("The region must fit inside the matrix");const m=this.rowSize,b=this.bits;for(let v=a;v<p;v++){const A=v*m;for(let E=n;E<u;E++)b[A+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,a){a==null||a.getSize()<this.width?a=new ee(this.width):a.clear();const c=this.rowSize,h=this.bits,u=n*c;for(let p=0;p<c;p++)a.setBulk(p*32,h[u+p]);return a}setRow(n,a){R.arraycopy(a.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),a=this.getHeight();let c=new ee(n),h=new ee(n);for(let u=0,p=Math.floor((a+1)/2);u<p;u++)c=this.getRow(u,c),h=this.getRow(a-1-u,h),c.reverse(),h.reverse(),this.setRow(u,h),this.setRow(a-1-u,c)}getEnclosingRectangle(){const n=this.width,a=this.height,c=this.rowSize,h=this.bits;let u=n,p=a,m=-1,b=-1;for(let v=0;v<a;v++)for(let A=0;A<c;A++){const E=h[v*c+A];if(E!==0){if(v<p&&(p=v),v>b&&(b=v),A*32<u){let B=0;for(;(E<<31-B&4294967295)===0;)B++;A*32+B<u&&(u=A*32+B)}if(A*32+31>m){let B=31;for(;!(E>>>B);)B--;A*32+B>m&&(m=A*32+B)}}}return m<u||b<p?null:Int32Array.from([u,p,m-u+1,b-p+1])}getTopLeftOnBit(){const n=this.rowSize,a=this.bits;let c=0;for(;c<a.length&&a[c]===0;)c++;if(c===a.length)return null;const h=c/n;let u=c%n*32;const p=a[c];let m=0;for(;(p<<31-m&4294967295)===0;)m++;return u+=m,Int32Array.from([u,h])}getBottomRightOnBit(){const n=this.rowSize,a=this.bits;let c=a.length-1;for(;c>=0&&a[c]===0;)c--;if(c<0)return null;const h=Math.floor(c/n);let u=Math.floor(c%n)*32;const p=a[c];let m=31;for(;!(p>>>m);)m--;return u+=m,Int32Array.from([u,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof Se))return!1;const a=n;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&Y.equals(this.bits,a.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+Y.hashCode(this.bits),n}toString(n="X ",a="  ",c=`
`){return this.buildToString(n,a,c)}buildToString(n,a,c){let h=new ve;for(let u=0,p=this.height;u<p;u++){for(let m=0,b=this.width;m<b;m++)h.append(this.get(m,u)?n:a);h.append(c)}return h.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends y{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class Ae extends k{constructor(n){super(n),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(n,a){const c=this.getLuminanceSource(),h=c.getWidth();a==null||a.getSize()<h?a=new ee(h):a.clear(),this.initArrays(h);const u=c.getRow(n,this.luminances),p=this.buckets;for(let b=0;b<h;b++)p[(u[b]&255)>>Ae.LUMINANCE_SHIFT]++;const m=Ae.estimateBlackPoint(p);if(h<3)for(let b=0;b<h;b++)(u[b]&255)<m&&a.set(b);else{let b=u[0]&255,v=u[1]&255;for(let A=1;A<h-1;A++){const E=u[A+1]&255;(v*4-b-E)/2<m&&a.set(A),b=v,v=E}}return a}getBlackMatrix(){const n=this.getLuminanceSource(),a=n.getWidth(),c=n.getHeight(),h=new Se(a,c);this.initArrays(a);const u=this.buckets;for(let b=1;b<5;b++){const v=Math.floor(c*b/5),A=n.getRow(v,this.luminances),E=Math.floor(a*4/5);for(let B=Math.floor(a/5);B<E;B++){const z=A[B]&255;u[z>>Ae.LUMINANCE_SHIFT]++}}const p=Ae.estimateBlackPoint(u),m=n.getMatrix();for(let b=0;b<c;b++){const v=b*a;for(let A=0;A<a;A++)(m[v+A]&255)<p&&h.set(A,b)}return h}createBinarizer(n){return new Ae(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const a=this.buckets;for(let c=0;c<Ae.LUMINANCE_BUCKETS;c++)a[c]=0}static estimateBlackPoint(n){const a=n.length;let c=0,h=0,u=0;for(let A=0;A<a;A++)n[A]>u&&(h=A,u=n[A]),n[A]>c&&(c=n[A]);let p=0,m=0;for(let A=0;A<a;A++){const E=A-h,B=n[A]*E*E;B>m&&(p=A,m=B)}if(h>p){const A=h;h=p,p=A}if(p-h<=a/16)throw new Q;let b=p-1,v=-1;for(let A=p-1;A>h;A--){const E=A-h,B=E*E*(p-A)*(c-n[A]);B>v&&(b=A,v=B)}return b<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class ce extends Ae{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),a=n.getWidth(),c=n.getHeight();if(a>=ce.MINIMUM_DIMENSION&&c>=ce.MINIMUM_DIMENSION){const h=n.getMatrix();let u=a>>ce.BLOCK_SIZE_POWER;(a&ce.BLOCK_SIZE_MASK)!==0&&u++;let p=c>>ce.BLOCK_SIZE_POWER;(c&ce.BLOCK_SIZE_MASK)!==0&&p++;const m=ce.calculateBlackPoints(h,u,p,a,c),b=new Se(a,c);ce.calculateThresholdForBlock(h,u,p,a,c,m,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ce(n)}static calculateThresholdForBlock(n,a,c,h,u,p,m){const b=u-ce.BLOCK_SIZE,v=h-ce.BLOCK_SIZE;for(let A=0;A<c;A++){let E=A<<ce.BLOCK_SIZE_POWER;E>b&&(E=b);const B=ce.cap(A,2,c-3);for(let z=0;z<a;z++){let H=z<<ce.BLOCK_SIZE_POWER;H>v&&(H=v);const X=ce.cap(z,2,a-3);let te=0;for(let ue=-2;ue<=2;ue++){const pe=p[B+ue];te+=pe[X-2]+pe[X-1]+pe[X]+pe[X+1]+pe[X+2]}const re=te/25;ce.thresholdBlock(n,H,E,re,h,m)}}}static cap(n,a,c){return n<a?a:n>c?c:n}static thresholdBlock(n,a,c,h,u,p){for(let m=0,b=c*u+a;m<ce.BLOCK_SIZE;m++,b+=u)for(let v=0;v<ce.BLOCK_SIZE;v++)(n[b+v]&255)<=h&&p.set(a+v,c+m)}static calculateBlackPoints(n,a,c,h,u){const p=u-ce.BLOCK_SIZE,m=h-ce.BLOCK_SIZE,b=new Array(c);for(let v=0;v<c;v++){b[v]=new Int32Array(a);let A=v<<ce.BLOCK_SIZE_POWER;A>p&&(A=p);for(let E=0;E<a;E++){let B=E<<ce.BLOCK_SIZE_POWER;B>m&&(B=m);let z=0,H=255,X=0;for(let re=0,ue=A*h+B;re<ce.BLOCK_SIZE;re++,ue+=h){for(let pe=0;pe<ce.BLOCK_SIZE;pe++){const de=n[ue+pe]&255;z+=de,de<H&&(H=de),de>X&&(X=de)}if(X-H>ce.MIN_DYNAMIC_RANGE)for(re++,ue+=h;re<ce.BLOCK_SIZE;re++,ue+=h)for(let pe=0;pe<ce.BLOCK_SIZE;pe++)z+=n[ue+pe]&255}let te=z>>ce.BLOCK_SIZE_POWER*2;if(X-H<=ce.MIN_DYNAMIC_RANGE&&(te=H/2,v>0&&E>0)){const re=(b[v-1][E]+2*b[v][E-1]+b[v-1][E-1])/4;H<re&&(te=re)}b[v][E]=te}}return b}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class Ve{constructor(n,a){this.width=n,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,a,c,h){throw new le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new le("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let a=new ve;for(let c=0;c<this.height;c++){const h=this.getRow(c,n);for(let u=0;u<this.width;u++){const p=h[u]&255;let m;p<64?m="#":p<128?m="+":p<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class Me extends Ve{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,a){const c=this.delegate.getRow(n,a),h=this.getWidth();for(let u=0;u<h;u++)c[u]=255-(c[u]&255);return c}getMatrix(){const n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(a);for(let h=0;h<a;h++)c[h]=255-(n[h]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(n,a,c,h){return new Me(this.delegate.crop(n,a,c,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class rt extends Ve{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=rt.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const a=n.getContext("2d").getImageData(0,0,n.width,n.height);return rt.toGrayscaleBuffer(a.data,n.width,n.height)}static toGrayscaleBuffer(n,a,c){const h=new Uint8ClampedArray(a*c);for(let u=0,p=0,m=n.length;u<m;u+=4,p++){let b;if(n[u+3]===0)b=255;else{const A=n[u],E=n[u+1],B=n[u+2];b=306*A+601*E+117*B+512>>10}h[p]=b}return h}getRow(n,a){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const c=this.getWidth(),h=n*c;return a===null?a=this.buffer.slice(h,h+c):(a.length<c&&(a=new Uint8ClampedArray(c)),a.set(this.buffer.slice(h,h+c))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,a,c,h){return super.crop(n,a,c,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const a=this.getTempCanvasElement(),c=a.getContext("2d"),h=n*rt.DEGREE_TO_RADIANS,u=this.canvas.width,p=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(h))*u+Math.abs(Math.sin(h))*p),b=Math.ceil(Math.abs(Math.sin(h))*u+Math.abs(Math.cos(h))*p);return a.width=m,a.height=b,c.translate(m/2,b/2),c.rotate(h),c.drawImage(this.canvas,u/-2,p/-2),this.buffer=rt.makeBufferFromCanvasImageData(a),this}invert(){return new Me(this)}}rt.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(n,a,c){this.deviceId=n,this.label=a,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ce=(globalThis||to||self||window||void 0)&&(globalThis||to||self||window||void 0).__awaiter||function(_,n,a,c){function h(u){return u instanceof a?u:new a(function(p){p(u)})}return new(a||(a=Promise))(function(u,p){function m(A){try{v(c.next(A))}catch(E){p(E)}}function b(A){try{v(c.throw(A))}catch(E){p(E)}}function v(A){A.done?u(A.value):h(A.value).then(m,b)}v((c=c.apply(_,n||[])).next())})};class Oe{constructor(n,a=500,c){this.reader=n,this.timeBetweenScansMillis=a,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const c of n){const h=c.kind==="video"?"videoinput":c.kind;if(h!=="videoinput")continue;const u=c.deviceId||c.id,p=c.label||`Video device ${a.length+1}`,m=c.groupId,b={deviceId:u,label:p,kind:h,groupId:m};a.push(b)}return a})}getVideoInputDevices(){return Ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ye(a.deviceId,a.label))})}findDeviceById(n){return Ce(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(c=>c.deviceId===n):null})}decodeFromInputVideoDevice(n,a){return Ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,a)})}decodeOnceFromVideoDevice(n,a){return Ce(this,void 0,void 0,function*(){this.reset();let c;n?c={deviceId:{exact:n}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeOnceFromConstraints(h,a)})}decodeOnceFromConstraints(n,a){return Ce(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(c,a)})}decodeOnceFromStream(n,a){return Ce(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(n,a);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(n,a,c){return Ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,a,c)})}decodeFromVideoDevice(n,a,c){return Ce(this,void 0,void 0,function*(){let h;n?h={deviceId:{exact:n}}:h={facingMode:"environment"};const u={video:h};return yield this.decodeFromConstraints(u,a,c)})}decodeFromConstraints(n,a,c){return Ce(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(h,a,c)})}decodeFromStream(n,a,c){return Ce(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(n,a);return yield this.decodeContinuously(h,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,a){return Ce(this,void 0,void 0,function*(){const c=this.prepareVideoElement(a);return this.addVideoSource(c,n),this.videoElement=c,this.stream=n,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(n){return new Promise((a,c)=>this.playVideoOnLoad(n,()=>a()))}playVideoOnLoad(n,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",a),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch(a){console.warn("It was not possible to play the video.")}})}getMediaElement(n,a){const c=document.getElementById(n);if(!c)throw new w(`element with id '${n}' not found`);if(c.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${n}' must be an ${a} element`);return c}decodeFromImage(n,a){if(!n&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!n?this.decodeFromImageUrl(a):this.decodeFromImageElement(n)}decodeFromVideo(n,a){if(!n&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,a,c){if(n===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrlContinuously(a,c):this.decodeFromVideoElementContinuously(n,c)}decodeFromImageElement(n){if(!n)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(n);this.imageElement=a;let c;return this.isImageLoaded(a)?c=this.decodeOnce(a,!1,!0):c=this._decodeOnLoadImage(a),c}decodeFromVideoElement(n){const a=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(n,a){const c=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(c,a)}_decodeFromVideoElementSetup(n){if(!n)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(n);return this.videoElement=a,a}decodeFromImageUrl(n){if(!n)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const c=this._decodeOnLoadImage(a);return a.src=n,c}decodeFromVideoUrl(n){if(!n)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElement(a);return a.src=n,c}decodeFromVideoUrlContinuously(n,a){if(!n)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(c,a);return c.src=n,h}_decodeOnLoadImage(n){return new Promise((a,c)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(a,c),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,a){return Ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,a)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let a;return typeof n=="undefined"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(a=n),a}prepareVideoElement(n){let a;return!n&&typeof document!="undefined"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(a=n),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(n,a=!0,c=!0){this._stopAsyncDecode=!1;const h=(u,p)=>{if(this._stopAsyncDecode){p(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(n);u(m)}catch(m){const b=a&&m instanceof Q,A=(m instanceof j||m instanceof I)&&c;if(b||A)return setTimeout(h,this._timeBetweenDecodingAttempts,u,p);p(m)}};return new Promise((u,p)=>h(u,p))}decodeContinuously(n,a){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(n);a(h,null),setTimeout(c,this.timeBetweenScansMillis)}catch(h){a(null,h);const u=h instanceof j||h instanceof I,p=h instanceof Q;(u||p)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(n){const a=this.createBinaryBitmap(n);return this.decodeBitmap(a)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,a,c){a||(a={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(n,a,c=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const a=this.getCaptureCanvas(n),c=new rt(a),h=new ce(c);return new S(h)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const a=this.createCaptureCanvas(n);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let c,h;return typeof n!="undefined"&&(n instanceof HTMLVideoElement?(c=n.videoWidth,h=n.videoHeight):n instanceof HTMLImageElement&&(c=n.naturalWidth||n.width,h=n.naturalHeight||n.height)),a.style.width=c+"px",a.style.height=h+"px",a.width=c,a.height=h,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,a){try{n.srcObject=a}catch(c){n.src=URL.createObjectURL(a)}}cleanVideoSource(n){try{n.srcObject=null}catch(a){n.src=""}this.videoElement.removeAttribute("src")}}class Ue{constructor(n,a,c=a==null?0:8*a.length,h,u,p=R.currentTimeMillis()){this.text=n,this.rawBytes=a,this.numBits=c,this.resultPoints=h,this.format=u,this.timestamp=p,this.text=n,this.rawBytes=a,c==null?this.numBits=a==null?0:8*a.length:this.numBits=c,this.resultPoints=h,this.format=u,this.resultMetadata=null,p==null?this.timestamp=R.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,a)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const a=this.resultPoints;if(a===null)this.resultPoints=n;else if(n!==null&&n.length>0){const c=new Array(a.length+n.length);R.arraycopy(a,0,c,0,a.length),R.arraycopy(n,0,c,a.length,n.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Je;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var we=Je,qe;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qe||(qe={}));var Xe=qe;class _t{constructor(n,a,c,h,u=-1,p=-1){this.rawBytes=n,this.text=a,this.byteSegments=c,this.ecLevel=h,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=p,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class zt{exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}static addOrSubtract(n,a){return n^a}}class ft{constructor(n,a){if(a.length===0)throw new C;this.field=n;const c=a.length;if(c>1&&a[0]===0){let h=1;for(;h<c&&a[h]===0;)h++;h===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-h),R.arraycopy(a,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const a=this.coefficients;let c;if(n===1){c=0;for(let p=0,m=a.length;p!==m;p++){const b=a[p];c=zt.addOrSubtract(c,b)}return c}c=a[0];const h=a.length,u=this.field;for(let p=1;p<h;p++)c=zt.addOrSubtract(u.multiply(n,c),a[p]);return c}addOrSubtract(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,c=n.coefficients;if(a.length>c.length){const p=a;a=c,c=p}let h=new Int32Array(c.length);const u=c.length-a.length;R.arraycopy(c,0,h,0,u);for(let p=u;p<c.length;p++)h[p]=zt.addOrSubtract(a[p-u],c[p]);return new ft(this.field,h)}multiply(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const a=this.coefficients,c=a.length,h=n.coefficients,u=h.length,p=new Int32Array(c+u-1),m=this.field;for(let b=0;b<c;b++){const v=a[b];for(let A=0;A<u;A++)p[b+A]=zt.addOrSubtract(p[b+A],m.multiply(v,h[A]))}return new ft(m,p)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const a=this.coefficients.length,c=this.field,h=new Int32Array(a),u=this.coefficients;for(let p=0;p<a;p++)h[p]=c.multiply(u[p],n);return new ft(c,h)}multiplyByMonomial(n,a){if(n<0)throw new C;if(a===0)return this.field.getZero();const c=this.coefficients,h=c.length,u=new Int32Array(h+n),p=this.field;for(let m=0;m<h;m++)u[m]=p.multiply(c[m],a);return new ft(p,u)}divide(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new C("Divide by 0");const a=this.field;let c=a.getZero(),h=this;const u=n.getCoefficient(n.getDegree()),p=a.inverse(u);for(;h.getDegree()>=n.getDegree()&&!h.isZero();){const m=h.getDegree()-n.getDegree(),b=a.multiply(h.getCoefficient(h.getDegree()),p),v=n.multiplyByMonomial(m,b),A=a.buildMonomial(m,b);c=c.addOrSubtract(A),h=h.addOrSubtract(v)}return[c,h]}toString(){let n="";for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);if(c!==0){if(c<0?(n+=" - ",c=-c):n.length>0&&(n+=" + "),a===0||c!==1){const h=this.field.log(c);h===0?n+="1":h===1?n+="a":(n+="a^",n+=h)}a!==0&&(a===1?n+="x":(n+="x^",n+=a))}}return n}}class Zt extends y{}Zt.kind="ArithmeticException";class ze extends zt{constructor(n,a,c){super(),this.primitive=n,this.size=a,this.generatorBase=c;const h=new Int32Array(a);let u=1;for(let m=0;m<a;m++)h[m]=u,u*=2,u>=a&&(u^=n,u&=a-1);this.expTable=h;const p=new Int32Array(a);for(let m=0;m<a-1;m++)p[h[m]]=m;this.logTable=p,this.zero=new ft(this,Int32Array.from([0])),this.one=new ft(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new C;if(a===0)return this.zero;const c=new Int32Array(n+1);return c[0]=a,new ft(this,c)}inverse(n){if(n===0)throw new Zt;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class bt extends y{}bt.kind="ReedSolomonException";class Et extends y{}Et.kind="IllegalStateException";class Qt{constructor(n){this.field=n}decode(n,a){const c=this.field,h=new ft(c,n),u=new Int32Array(a);let p=!0;for(let z=0;z<a;z++){const H=h.evaluateAt(c.exp(z+c.getGeneratorBase()));u[u.length-1-z]=H,H!==0&&(p=!1)}if(p)return;const m=new ft(c,u),b=this.runEuclideanAlgorithm(c.buildMonomial(a,1),m,a),v=b[0],A=b[1],E=this.findErrorLocations(v),B=this.findErrorMagnitudes(A,E);for(let z=0;z<E.length;z++){const H=n.length-1-c.log(E[z]);if(H<0)throw new bt("Bad error location");n[H]=ze.addOrSubtract(n[H],B[z])}}runEuclideanAlgorithm(n,a,c){if(n.getDegree()<a.getDegree()){const z=n;n=a,a=z}const h=this.field;let u=n,p=a,m=h.getZero(),b=h.getOne();for(;p.getDegree()>=(c/2|0);){let z=u,H=m;if(u=p,m=b,u.isZero())throw new bt("r_{i-1} was zero");p=z;let X=h.getZero();const te=u.getCoefficient(u.getDegree()),re=h.inverse(te);for(;p.getDegree()>=u.getDegree()&&!p.isZero();){const ue=p.getDegree()-u.getDegree(),pe=h.multiply(p.getCoefficient(p.getDegree()),re);X=X.addOrSubtract(h.buildMonomial(ue,pe)),p=p.addOrSubtract(u.multiplyByMonomial(ue,pe))}if(b=X.multiply(m).addOrSubtract(H),p.getDegree()>=u.getDegree())throw new Et("Division algorithm failed to reduce polynomial?")}const v=b.getCoefficient(0);if(v===0)throw new bt("sigmaTilde(0) was zero");const A=h.inverse(v),E=b.multiplyScalar(A),B=p.multiplyScalar(A);return[E,B]}findErrorLocations(n){const a=n.getDegree();if(a===1)return Int32Array.from([n.getCoefficient(1)]);const c=new Int32Array(a);let h=0;const u=this.field;for(let p=1;p<u.getSize()&&h<a;p++)n.evaluateAt(p)===0&&(c[h]=u.inverse(p),h++);if(h!==a)throw new bt("Error locator degree does not match number of roots");return c}findErrorMagnitudes(n,a){const c=a.length,h=new Int32Array(c),u=this.field;for(let p=0;p<c;p++){const m=u.inverse(a[p]);let b=1;for(let v=0;v<c;v++)if(p!==v){const A=u.multiply(a[v],m),E=(A&1)===0?A|1:A&-2;b=u.multiply(b,E)}h[p]=u.multiply(n.evaluateAt(m),u.inverse(b)),u.getGeneratorBase()!==0&&(h[p]=u.multiply(h[p],m))}return h}}var ct;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(ct||(ct={}));class Ye{decode(n){this.ddata=n;let a=n.getBits(),c=this.extractBits(a),h=this.correctBits(c),u=Ye.convertBoolArrayToByteArray(h),p=Ye.getEncodedData(h),m=new _t(u,p,null,null);return m.setNumBits(h.length),m}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let a=n.length,c=ct.UPPER,h=ct.UPPER,u="",p=0;for(;p<a;)if(h===ct.BINARY){if(a-p<5)break;let m=Ye.readCode(n,p,5);if(p+=5,m===0){if(a-p<11)break;m=Ye.readCode(n,p,11)+31,p+=11}for(let b=0;b<m;b++){if(a-p<8){p=a;break}const v=Ye.readCode(n,p,8);u+=oe.castAsNonUtf8Char(v),p+=8}h=c}else{let m=h===ct.DIGIT?4:5;if(a-p<m)break;let b=Ye.readCode(n,p,m);p+=m;let v=Ye.getCharacter(h,b);v.startsWith("CTRL_")?(c=h,h=Ye.getTable(v.charAt(5)),v.charAt(6)==="L"&&(c=h)):(u+=v,h=c)}return u}static getTable(n){switch(n){case"L":return ct.LOWER;case"P":return ct.PUNCT;case"M":return ct.MIXED;case"D":return ct.DIGIT;case"B":return ct.BINARY;case"U":default:return ct.UPPER}}static getCharacter(n,a){switch(n){case ct.UPPER:return Ye.UPPER_TABLE[a];case ct.LOWER:return Ye.LOWER_TABLE[a];case ct.MIXED:return Ye.MIXED_TABLE[a];case ct.PUNCT:return Ye.PUNCT_TABLE[a];case ct.DIGIT:return Ye.DIGIT_TABLE[a];default:throw new Et("Bad table")}}correctBits(n){let a,c;this.ddata.getNbLayers()<=2?(c=6,a=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,a=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,a=ze.AZTEC_DATA_10):(c=12,a=ze.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),u=n.length/c;if(u<h)throw new I;let p=n.length%c,m=new Int32Array(u);for(let B=0;B<u;B++,p+=c)m[B]=Ye.readCode(n,p,c);try{new Qt(a).decode(m,u-h)}catch(B){throw new I(B)}let b=(1<<c)-1,v=0;for(let B=0;B<h;B++){let z=m[B];if(z===0||z===b)throw new I;(z===1||z===b-1)&&v++}let A=new Array(h*c-v),E=0;for(let B=0;B<h;B++){let z=m[B];if(z===1||z===b-1)A.fill(z>1,E,E+c-1),E+=c-1;else for(let H=c-1;H>=0;--H)A[E++]=(z&1<<H)!==0}return A}extractBits(n){let a=this.ddata.isCompact(),c=this.ddata.getNbLayers(),h=(a?11:14)+c*4,u=new Int32Array(h),p=new Array(this.totalBitsInLayer(c,a));if(a)for(let m=0;m<u.length;m++)u[m]=m;else{let m=h+1+2*M.truncDivision(M.truncDivision(h,2)-1,15),b=h/2,v=M.truncDivision(m,2);for(let A=0;A<b;A++){let E=A+M.truncDivision(A,15);u[b-A-1]=v-E-1,u[b+A]=v+E+1}}for(let m=0,b=0;m<c;m++){let v=(c-m)*4+(a?9:12),A=m*2,E=h-1-A;for(let B=0;B<v;B++){let z=B*2;for(let H=0;H<2;H++)p[b+z+H]=n.get(u[A+H],u[A+B]),p[b+2*v+z+H]=n.get(u[A+B],u[E-H]),p[b+4*v+z+H]=n.get(u[E-H],u[E-B]),p[b+6*v+z+H]=n.get(u[E-B],u[A+H])}b+=v*8}return p}static readCode(n,a,c){let h=0;for(let u=a;u<a+c;u++)h<<=1,n[u]&&(h|=1);return h}static readByte(n,a){let c=n.length-a;return c>=8?Ye.readCode(n,a,8):Ye.readCode(n,a,c)<<8-c}static convertBoolArrayToByteArray(n){let a=new Uint8Array((n.length+7)/8);for(let c=0;c<a.length;c++)a[c]=Ye.readByte(n,8*c);return a}totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}Ye.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ye.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ye.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,a,c,h){const u=n-c,p=a-h;return Math.sqrt(u*u+p*p)}static sum(n){let a=0;for(let c=0,h=n.length;c!==h;c++){const u=n[c];a+=u}return a}}class si{static floatToIntBits(n){return n}}si.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(n,a){this.x=n,this.y=a}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof V){const a=n;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*si.floatToIntBits(this.x)+si.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const a=this.distance(n[0],n[1]),c=this.distance(n[1],n[2]),h=this.distance(n[0],n[2]);let u,p,m;if(c>=a&&c>=h?(p=n[0],u=n[1],m=n[2]):h>=c&&h>=a?(p=n[1],u=n[0],m=n[2]):(p=n[2],u=n[0],m=n[1]),this.crossProductZ(u,p,m)<0){const b=u;u=m,m=b}n[0]=u,n[1]=p,n[2]=m}static distance(n,a){return Ie.distance(n.x,n.y,a.x,a.y)}static crossProductZ(n,a,c){const h=a.x,u=a.y;return(c.x-h)*(n.y-u)-(c.y-u)*(n.x-h)}}class Te{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ht extends Te{constructor(n,a,c,h,u){super(n,a),this.compact=c,this.nbDatablocks=h,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class q{constructor(n,a,c,h){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),a==null&&(a=q.INIT_SIZE),c==null&&(c=n.getWidth()/2|0),h==null&&(h=n.getHeight()/2|0);const u=a/2|0;if(this.leftInit=c-u,this.rightInit=c+u,this.upInit=h-u,this.downInit=h+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let n=this.leftInit,a=this.rightInit,c=this.upInit,h=this.downInit,u=!1,p=!0,m=!1,b=!1,v=!1,A=!1,E=!1;const B=this.width,z=this.height;for(;p;){p=!1;let H=!0;for(;(H||!b)&&a<B;)H=this.containsBlackPoint(c,h,a,!1),H?(a++,p=!0,b=!0):b||a++;if(a>=B){u=!0;break}let X=!0;for(;(X||!v)&&h<z;)X=this.containsBlackPoint(n,a,h,!0),X?(h++,p=!0,v=!0):v||h++;if(h>=z){u=!0;break}let te=!0;for(;(te||!A)&&n>=0;)te=this.containsBlackPoint(c,h,n,!1),te?(n--,p=!0,A=!0):A||n--;if(n<0){u=!0;break}let re=!0;for(;(re||!E)&&c>=0;)re=this.containsBlackPoint(n,a,c,!0),re?(c--,p=!0,E=!0):E||c--;if(c<0){u=!0;break}p&&(m=!0)}if(!u&&m){const H=a-n;let X=null;for(let pe=1;X===null&&pe<H;pe++)X=this.getBlackPointOnSegment(n,h-pe,n+pe,h);if(X==null)throw new Q;let te=null;for(let pe=1;te===null&&pe<H;pe++)te=this.getBlackPointOnSegment(n,c+pe,n+pe,c);if(te==null)throw new Q;let re=null;for(let pe=1;re===null&&pe<H;pe++)re=this.getBlackPointOnSegment(a,c+pe,a-pe,c);if(re==null)throw new Q;let ue=null;for(let pe=1;ue===null&&pe<H;pe++)ue=this.getBlackPointOnSegment(a,h-pe,a-pe,h);if(ue==null)throw new Q;return this.centerEdges(ue,X,re,te)}else throw new Q}getBlackPointOnSegment(n,a,c,h){const u=Ie.round(Ie.distance(n,a,c,h)),p=(c-n)/u,m=(h-a)/u,b=this.image;for(let v=0;v<u;v++){const A=Ie.round(n+v*p),E=Ie.round(a+v*m);if(b.get(A,E))return new V(A,E)}return null}centerEdges(n,a,c,h){const u=n.getX(),p=n.getY(),m=a.getX(),b=a.getY(),v=c.getX(),A=c.getY(),E=h.getX(),B=h.getY(),z=q.CORR;return u<this.width/2?[new V(E-z,B+z),new V(m+z,b+z),new V(v-z,A-z),new V(u+z,p-z)]:[new V(E+z,B+z),new V(m+z,b-z),new V(v-z,A+z),new V(u-z,p-z)]}containsBlackPoint(n,a,c,h){const u=this.image;if(h){for(let p=n;p<=a;p++)if(u.get(p,c))return!0}else for(let p=n;p<=a;p++)if(u.get(c,p))return!0;return!1}}q.INIT_SIZE=10,q.CORR=1;class et{static checkAndNudgePoints(n,a){const c=n.getWidth(),h=n.getHeight();let u=!0;for(let p=0;p<a.length&&u;p+=2){const m=Math.floor(a[p]),b=Math.floor(a[p+1]);if(m<-1||m>c||b<-1||b>h)throw new Q;u=!1,m===-1?(a[p]=0,u=!0):m===c&&(a[p]=c-1,u=!0),b===-1?(a[p+1]=0,u=!0):b===h&&(a[p+1]=h-1,u=!0)}u=!0;for(let p=a.length-2;p>=0&&u;p-=2){const m=Math.floor(a[p]),b=Math.floor(a[p+1]);if(m<-1||m>c||b<-1||b>h)throw new Q;u=!1,m===-1?(a[p]=0,u=!0):m===c&&(a[p]=c-1,u=!0),b===-1?(a[p+1]=0,u=!0):b===h&&(a[p+1]=h-1,u=!0)}}}class dt{constructor(n,a,c,h,u,p,m,b,v){this.a11=n,this.a21=a,this.a31=c,this.a12=h,this.a22=u,this.a32=p,this.a13=m,this.a23=b,this.a33=v}static quadrilateralToQuadrilateral(n,a,c,h,u,p,m,b,v,A,E,B,z,H,X,te){const re=dt.quadrilateralToSquare(n,a,c,h,u,p,m,b);return dt.squareToQuadrilateral(v,A,E,B,z,H,X,te).times(re)}transformPoints(n){const a=n.length,c=this.a11,h=this.a12,u=this.a13,p=this.a21,m=this.a22,b=this.a23,v=this.a31,A=this.a32,E=this.a33;for(let B=0;B<a;B+=2){const z=n[B],H=n[B+1],X=u*z+b*H+E;n[B]=(c*z+p*H+v)/X,n[B+1]=(h*z+m*H+A)/X}}transformPointsWithValues(n,a){const c=this.a11,h=this.a12,u=this.a13,p=this.a21,m=this.a22,b=this.a23,v=this.a31,A=this.a32,E=this.a33,B=n.length;for(let z=0;z<B;z++){const H=n[z],X=a[z],te=u*H+b*X+E;n[z]=(c*H+p*X+v)/te,a[z]=(h*H+m*X+A)/te}}static squareToQuadrilateral(n,a,c,h,u,p,m,b){const v=n-c+u-m,A=a-h+p-b;if(v===0&&A===0)return new dt(c-n,u-c,n,h-a,p-h,a,0,0,1);{const E=c-u,B=m-u,z=h-p,H=b-p,X=E*H-B*z,te=(v*H-B*A)/X,re=(E*A-v*z)/X;return new dt(c-n+te*c,m-n+re*m,n,h-a+te*h,b-a+re*b,a,te,re,1)}}static quadrilateralToSquare(n,a,c,h,u,p,m,b){return dt.squareToQuadrilateral(n,a,c,h,u,p,m,b).buildAdjoint()}buildAdjoint(){return new dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new dt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class tt extends et{sampleGrid(n,a,c,h,u,p,m,b,v,A,E,B,z,H,X,te,re,ue,pe){const de=dt.quadrilateralToQuadrilateral(h,u,p,m,b,v,A,E,B,z,H,X,te,re,ue,pe);return this.sampleGridWithTransform(n,a,c,de)}sampleGridWithTransform(n,a,c,h){if(a<=0||c<=0)throw new Q;const u=new Se(a,c),p=new Float32Array(2*a);for(let m=0;m<c;m++){const b=p.length,v=m+.5;for(let A=0;A<b;A+=2)p[A]=A/2+.5,p[A+1]=v;h.transformPoints(p),et.checkAndNudgePoints(n,p);try{for(let A=0;A<b;A+=2)n.get(Math.floor(p[A]),Math.floor(p[A+1]))&&u.set(A/2,m)}catch(A){throw new Q}}return u}}class Ft{static setGridSampler(n){Ft.gridSampler=n}static getInstance(){return Ft.gridSampler}}Ft.gridSampler=new tt;class kt{constructor(n,a){this.x=n,this.y=a}toResultPoint(){return new V(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class K{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let a=this.getMatrixCenter(),c=this.getBullsEyeCorners(a);if(n){let p=c[0];c[0]=c[2],c[2]=p}this.extractParameters(c);let h=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),u=this.getMatrixCornerPoints(c);return new Ht(h,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Q;let a=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(n[0],n[1],a),this.sampleLine(n[1],n[2],a),this.sampleLine(n[2],n[3],a),this.sampleLine(n[3],n[0],a)]);this.shift=this.getRotation(c,a);let h=0;for(let p=0;p<4;p++){let m=c[(this.shift+p)%4];this.compact?(h<<=7,h+=m>>1&127):(h<<=10,h+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,a){let c=0;n.forEach((h,u,p)=>{let m=(h>>a-2<<1)+(h&1);c=(c<<3)+m}),c=((c&1)<<11)+(c>>1);for(let h=0;h<4;h++)if(M.bitCount(c^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new Q}getCorrectedParameterData(n,a){let c,h;a?(c=7,h=2):(c=10,h=4);let u=c-h,p=new Int32Array(c);for(let b=c-1;b>=0;--b)p[b]=n&15,n>>=4;try{new Qt(ze.AZTEC_PARAM).decode(p,u)}catch(b){throw new Q}let m=0;for(let b=0;b<h;b++)m=(m<<4)+p[b];return m}getBullsEyeCorners(n){let a=n,c=n,h=n,u=n,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(a,p,1,-1),B=this.getFirstDifferent(c,p,1,1),z=this.getFirstDifferent(h,p,-1,1),H=this.getFirstDifferent(u,p,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(H,E)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(E,B,z,H))break}a=E,c=B,h=z,u=H,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let m=new V(a.getX()+.5,a.getY()-.5),b=new V(c.getX()+.5,c.getY()+.5),v=new V(h.getX()-.5,h.getY()+.5),A=new V(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,b,v,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,a,c,h;try{let m=new q(this.image).detect();n=m[0],a=m[1],c=m[2],h=m[3]}catch(m){let b=this.image.getWidth()/2,v=this.image.getHeight()/2;n=this.getFirstDifferent(new kt(b+7,v-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kt(b+7,v+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new kt(b-7,v+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new kt(b-7,v-7),!1,-1,-1).toResultPoint()}let u=Ie.round((n.getX()+h.getX()+a.getX()+c.getX())/4),p=Ie.round((n.getY()+h.getY()+a.getY()+c.getY())/4);try{let m=new q(this.image,15,u,p).detect();n=m[0],a=m[1],c=m[2],h=m[3]}catch(m){n=this.getFirstDifferent(new kt(u+7,p-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kt(u+7,p+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new kt(u-7,p+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new kt(u-7,p-7),!1,-1,-1).toResultPoint()}return u=Ie.round((n.getX()+h.getX()+a.getX()+c.getX())/4),p=Ie.round((n.getY()+h.getY()+a.getY()+c.getY())/4),new kt(u,p)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,a,c,h,u){let p=Ft.getInstance(),m=this.getDimension(),b=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return p.sampleGrid(n,m,m,b,b,v,b,v,v,b,v,a.getX(),a.getY(),c.getX(),c.getY(),h.getX(),h.getY(),u.getX(),u.getY())}sampleLine(n,a,c){let h=0,u=this.distanceResultPoint(n,a),p=u/c,m=n.getX(),b=n.getY(),v=p*(a.getX()-n.getX())/u,A=p*(a.getY()-n.getY())/u;for(let E=0;E<c;E++)this.image.get(Ie.round(m+E*v),Ie.round(b+E*A))&&(h|=1<<c-E-1);return h}isWhiteOrBlackRectangle(n,a,c,h){let u=3;n=new kt(n.getX()-u,n.getY()+u),a=new kt(a.getX()-u,a.getY()-u),c=new kt(c.getX()+u,c.getY()-u),h=new kt(h.getX()+u,h.getY()+u);let p=this.getColor(h,n);if(p===0)return!1;let m=this.getColor(n,a);return m!==p||(m=this.getColor(a,c),m!==p)?!1:(m=this.getColor(c,h),m===p)}getColor(n,a){let c=this.distancePoint(n,a),h=(a.getX()-n.getX())/c,u=(a.getY()-n.getY())/c,p=0,m=n.getX(),b=n.getY(),v=this.image.get(n.getX(),n.getY()),A=Math.ceil(c);for(let B=0;B<A;B++)m+=h,b+=u,this.image.get(Ie.round(m),Ie.round(b))!==v&&p++;let E=p/c;return E>.1&&E<.9?0:E<=.1===v?1:-1}getFirstDifferent(n,a,c,h){let u=n.getX()+c,p=n.getY()+h;for(;this.isValid(u,p)&&this.image.get(u,p)===a;)u+=c,p+=h;for(u-=c,p-=h;this.isValid(u,p)&&this.image.get(u,p)===a;)u+=c;for(u-=c;this.isValid(u,p)&&this.image.get(u,p)===a;)p+=h;return p-=h,new kt(u,p)}expandSquare(n,a,c){let h=c/(2*a),u=n[0].getX()-n[2].getX(),p=n[0].getY()-n[2].getY(),m=(n[0].getX()+n[2].getX())/2,b=(n[0].getY()+n[2].getY())/2,v=new V(m+h*u,b+h*p),A=new V(m-h*u,b-h*p);u=n[1].getX()-n[3].getX(),p=n[1].getY()-n[3].getY(),m=(n[1].getX()+n[3].getX())/2,b=(n[1].getY()+n[3].getY())/2;let E=new V(m+h*u,b+h*p),B=new V(m-h*u,b-h*p);return[v,E,A,B]}isValid(n,a){return n>=0&&n<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(n){let a=Ie.round(n.getX()),c=Ie.round(n.getY());return this.isValid(a,c)}distancePoint(n,a){return Ie.distance(n.getX(),n.getY(),a.getX(),a.getY())}distanceResultPoint(n,a){return Ie.distance(n.getX(),n.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class ge{decode(n,a=null){let c=null,h=new K(n.getBlackMatrix()),u=null,p=null;try{let A=h.detectMirror(!1);u=A.getPoints(),this.reportFoundResultPoints(a,u),p=new Ye().decode(A)}catch(A){c=A}if(p==null)try{let A=h.detectMirror(!0);u=A.getPoints(),this.reportFoundResultPoints(a,u),p=new Ye().decode(A)}catch(A){throw c!=null?c:A}let m=new Ue(p.getText(),p.getRawBytes(),p.getNumBits(),u,we.AZTEC,R.currentTimeMillis()),b=p.getByteSegments();b!=null&&m.putMetadata(Xe.BYTE_SEGMENTS,b);let v=p.getECLevel();return v!=null&&m.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(n,a){if(n!=null){let c=n.get(W.NEED_RESULT_POINT_CALLBACK);c!=null&&a.forEach((h,u,p)=>{c.foundPossibleResultPoint(h)})}}reset(){}}class xt extends Oe{constructor(n=500){super(new ge,n)}}class We{decode(n,a){try{return this.doDecode(n,a)}catch(c){if(a&&a.get(W.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),p=this.doDecode(u,a),m=p.getResultMetadata();let b=270;m!==null&&m.get(Xe.ORIENTATION)===!0&&(b=b+m.get(Xe.ORIENTATION)%360),p.putMetadata(Xe.ORIENTATION,b);const v=p.getResultPoints();if(v!==null){const A=u.getHeight();for(let E=0;E<v.length;E++)v[E]=new V(A-v[E].getY()-1,v[E].getX())}return p}else throw new Q}}reset(){}doDecode(n,a){const c=n.getWidth(),h=n.getHeight();let u=new ee(c);const p=a&&a.get(W.TRY_HARDER)===!0,m=Math.max(1,h>>(p?8:5));let b;p?b=h:b=15;const v=Math.trunc(h/2);for(let A=0;A<b;A++){const E=Math.trunc((A+1)/2),B=(A&1)===0,z=v+m*(B?E:-E);if(z<0||z>=h)break;try{u=n.getBlackRow(z,u)}catch(H){continue}for(let H=0;H<2;H++){if(H===1&&(u.reverse(),a&&a.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;a.forEach((te,re)=>X.set(re,te)),X.delete(W.NEED_RESULT_POINT_CALLBACK),a=X}try{const X=this.decodeRow(z,u,a);if(H===1){X.putMetadata(Xe.ORIENTATION,180);const te=X.getResultPoints();te!==null&&(te[0]=new V(c-te[0].getX()-1,te[0].getY()),te[1]=new V(c-te[1].getX()-1,te[1].getY()))}return X}catch(X){}}}throw new Q}static recordPattern(n,a,c){const h=c.length;for(let v=0;v<h;v++)c[v]=0;const u=n.getSize();if(a>=u)throw new Q;let p=!n.get(a),m=0,b=a;for(;b<u;){if(n.get(b)!==p)c[m]++;else{if(++m===h)break;c[m]=1,p=!p}b++}if(!(m===h||m===h-1&&b===u))throw new Q}static recordPatternInReverse(n,a,c){let h=c.length,u=n.get(a);for(;a>0&&h>=0;)n.get(--a)!==u&&(h--,u=!u);if(h>=0)throw new Q;We.recordPattern(n,a+1,c)}static patternMatchVariance(n,a,c){const h=n.length;let u=0,p=0;for(let v=0;v<h;v++)u+=n[v],p+=a[v];if(u<p)return Number.POSITIVE_INFINITY;const m=u/p;c*=m;let b=0;for(let v=0;v<h;v++){const A=n[v],E=a[v]*m,B=A>E?A-E:E-A;if(B>c)return Number.POSITIVE_INFINITY;b+=B}return b/u}}class T extends We{static findStartPattern(n){const a=n.getSize(),c=n.getNextSet(0);let h=0,u=Int32Array.from([0,0,0,0,0,0]),p=c,m=!1;const b=6;for(let v=c;v<a;v++)if(n.get(v)!==m)u[h]++;else{if(h===b-1){let A=T.MAX_AVG_VARIANCE,E=-1;for(let B=T.CODE_START_A;B<=T.CODE_START_C;B++){const z=We.patternMatchVariance(u,T.CODE_PATTERNS[B],T.MAX_INDIVIDUAL_VARIANCE);z<A&&(A=z,E=B)}if(E>=0&&n.isRange(Math.max(0,p-(v-p)/2),p,!1))return Int32Array.from([p,v,E]);p+=u[0]+u[1],u=u.slice(2,u.length-1),u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,m=!m}throw new Q}static decodeCode(n,a,c){We.recordPattern(n,c,a);let h=T.MAX_AVG_VARIANCE,u=-1;for(let p=0;p<T.CODE_PATTERNS.length;p++){const m=T.CODE_PATTERNS[p],b=this.patternMatchVariance(a,m,T.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,u=p)}if(u>=0)return u;throw new Q}decodeRow(n,a,c){const h=c&&c.get(W.ASSUME_GS1)===!0,u=T.findStartPattern(a),p=u[2];let m=0;const b=new Uint8Array(20);b[m++]=p;let v;switch(p){case T.CODE_START_A:v=T.CODE_CODE_A;break;case T.CODE_START_B:v=T.CODE_CODE_B;break;case T.CODE_START_C:v=T.CODE_CODE_C;break;default:throw new I}let A=!1,E=!1,B="",z=u[0],H=u[1];const X=Int32Array.from([0,0,0,0,0,0]);let te=0,re=0,ue=p,pe=0,de=!0,ot=!1,Ge=!1;for(;!A;){const Wn=E;switch(E=!1,te=re,re=T.decodeCode(a,X,H),b[m++]=re,re!==T.CODE_STOP&&(de=!0),re!==T.CODE_STOP&&(pe++,ue+=pe*re),z=H,H+=X.reduce((Jh,eu)=>Jh+eu,0),re){case T.CODE_START_A:case T.CODE_START_B:case T.CODE_START_C:throw new I}switch(v){case T.CODE_CODE_A:if(re<64)Ge===ot?B+=String.fromCharCode(32+re):B+=String.fromCharCode(32+re+128),Ge=!1;else if(re<96)Ge===ot?B+=String.fromCharCode(re-64):B+=String.fromCharCode(re+64),Ge=!1;else switch(re!==T.CODE_STOP&&(de=!1),re){case T.CODE_FNC_1:h&&(B.length===0?B+="]C1":B+="");break;case T.CODE_FNC_2:case T.CODE_FNC_3:break;case T.CODE_FNC_4_A:!ot&&Ge?(ot=!0,Ge=!1):ot&&Ge?(ot=!1,Ge=!1):Ge=!0;break;case T.CODE_SHIFT:E=!0,v=T.CODE_CODE_B;break;case T.CODE_CODE_B:v=T.CODE_CODE_B;break;case T.CODE_CODE_C:v=T.CODE_CODE_C;break;case T.CODE_STOP:A=!0;break}break;case T.CODE_CODE_B:if(re<96)Ge===ot?B+=String.fromCharCode(32+re):B+=String.fromCharCode(32+re+128),Ge=!1;else switch(re!==T.CODE_STOP&&(de=!1),re){case T.CODE_FNC_1:h&&(B.length===0?B+="]C1":B+="");break;case T.CODE_FNC_2:case T.CODE_FNC_3:break;case T.CODE_FNC_4_B:!ot&&Ge?(ot=!0,Ge=!1):ot&&Ge?(ot=!1,Ge=!1):Ge=!0;break;case T.CODE_SHIFT:E=!0,v=T.CODE_CODE_A;break;case T.CODE_CODE_A:v=T.CODE_CODE_A;break;case T.CODE_CODE_C:v=T.CODE_CODE_C;break;case T.CODE_STOP:A=!0;break}break;case T.CODE_CODE_C:if(re<100)re<10&&(B+="0"),B+=re;else switch(re!==T.CODE_STOP&&(de=!1),re){case T.CODE_FNC_1:h&&(B.length===0?B+="]C1":B+="");break;case T.CODE_CODE_A:v=T.CODE_CODE_A;break;case T.CODE_CODE_B:v=T.CODE_CODE_B;break;case T.CODE_STOP:A=!0;break}break}Wn&&(v=v===T.CODE_CODE_A?T.CODE_CODE_B:T.CODE_CODE_A)}const wi=H-z;if(H=a.getNextUnset(H),!a.isRange(H,Math.min(a.getSize(),H+(H-z)/2),!1))throw new Q;if(ue-=pe*te,ue%103!==te)throw new j;const Mi=B.length;if(Mi===0)throw new Q;Mi>0&&de&&(v===T.CODE_CODE_C?B=B.substring(0,Mi-2):B=B.substring(0,Mi-1));const vi=(u[1]+u[0])/2,St=z+wi/2,ci=b.length,ji=new Uint8Array(ci);for(let Wn=0;Wn<ci;Wn++)ji[Wn]=b[Wn];const Vn=[new V(vi,n),new V(St,n)];return new Ue(B,ji,0,Vn,we.CODE_128,new Date().getTime())}}T.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],T.MAX_AVG_VARIANCE=.25,T.MAX_INDIVIDUAL_VARIANCE=.7,T.CODE_SHIFT=98,T.CODE_CODE_C=99,T.CODE_CODE_B=100,T.CODE_CODE_A=101,T.CODE_FNC_1=102,T.CODE_FNC_2=97,T.CODE_FNC_3=96,T.CODE_FNC_4_A=101,T.CODE_FNC_4_B=100,T.CODE_START_A=103,T.CODE_START_B=104,T.CODE_START_C=105,T.CODE_STOP=106;class he extends We{constructor(n=!1,a=!1){super(),this.usingCheckDigit=n,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,a,c){let h=this.counters;h.fill(0),this.decodeRowResult="";let u=he.findAsteriskPattern(a,h),p=a.getNextSet(u[1]),m=a.getSize(),b,v;do{he.recordPattern(a,p,h);let X=he.toNarrowWidePattern(h);if(X<0)throw new Q;b=he.patternToChar(X),this.decodeRowResult+=b,v=p;for(let te of h)p+=te;p=a.getNextSet(p)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let X of h)A+=X;let E=p-v-A;if(p!==m&&E*2<A)throw new Q;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,te=0;for(let re=0;re<X;re++)te+=he.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(re));if(this.decodeRowResult.charAt(X)!==he.ALPHABET_STRING.charAt(te%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new Q;let B;this.extendedMode?B=he.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;let z=(u[1]+u[0])/2,H=v+A/2;return new Ue(B,null,0,[new V(z,n),new V(H,n)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(n,a){let c=n.getSize(),h=n.getNextSet(0),u=0,p=h,m=!1,b=a.length;for(let v=h;v<c;v++)if(n.get(v)!==m)a[u]++;else{if(u===b-1){if(this.toNarrowWidePattern(a)===he.ASTERISK_ENCODING&&n.isRange(Math.max(0,p-Math.floor((v-p)/2)),p,!1))return[p,v];p+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,m=!m}throw new Q}static toNarrowWidePattern(n){let a=n.length,c=0,h;do{let u=2147483647;for(let b of n)b<u&&b>c&&(u=b);c=u,h=0;let p=0,m=0;for(let b=0;b<a;b++){let v=n[b];v>c&&(m|=1<<a-1-b,h++,p+=v)}if(h===3){for(let b=0;b<a&&h>0;b++){let v=n[b];if(v>c&&(h--,v*2>=p))return-1}return m}}while(h>3);return-1}static patternToChar(n){for(let a=0;a<he.CHARACTER_ENCODINGS.length;a++)if(he.CHARACTER_ENCODINGS[a]===n)return he.ALPHABET_STRING.charAt(a);if(n===he.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(n){let a=n.length,c="";for(let h=0;h<a;h++){let u=n.charAt(h);if(u==="+"||u==="$"||u==="%"||u==="/"){let p=n.charAt(h+1),m="\0";switch(u){case"+":if(p>="A"&&p<="Z")m=String.fromCharCode(p.charCodeAt(0)+32);else throw new I;break;case"$":if(p>="A"&&p<="Z")m=String.fromCharCode(p.charCodeAt(0)-64);else throw new I;break;case"%":if(p>="A"&&p<="E")m=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")m=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")m=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")m=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")m="\0";else if(p==="V")m="@";else if(p==="W")m="`";else if(p==="X"||p==="Y"||p==="Z")m="";else throw new I;break;case"/":if(p>="A"&&p<="O")m=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")m=":";else throw new I;break}c+=m,h++}else c+=u}return c}}he.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",he.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],he.ASTERISK_ENCODING=148;class ke extends We{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,a,c){let h=this.decodeStart(a),u=this.decodeEnd(a),p=new ve;ke.decodeMiddle(a,h[1],u[0],p);let m=p.toString(),b=null;c!=null&&(b=c.get(W.ALLOWED_LENGTHS)),b==null&&(b=ke.DEFAULT_ALLOWED_LENGTHS);let v=m.length,A=!1,E=0;for(let H of b){if(v===H){A=!0;break}H>E&&(E=H)}if(!A&&v>E&&(A=!0),!A)throw new I;const B=[new V(h[1],n),new V(u[0],n)];return new Ue(m,null,0,B,we.ITF,new Date().getTime())}static decodeMiddle(n,a,c,h){let u=new Int32Array(10),p=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),p.fill(0),m.fill(0);a<c;){We.recordPattern(n,a,u);for(let v=0;v<5;v++){let A=2*v;p[v]=u[A],m[v]=u[A+1]}let b=ke.decodeDigit(p);h.append(b.toString()),b=this.decodeDigit(m),h.append(b.toString()),u.forEach(function(v){a+=v})}}decodeStart(n){let a=ke.skipWhiteSpace(n),c=ke.findGuardPattern(n,a,ke.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(n,c[0]),c}validateQuietZone(n,a){let c=this.narrowLineWidth*10;c=c<a?c:a;for(let h=a-1;c>0&&h>=0&&!n.get(h);h--)c--;if(c!==0)throw new Q}static skipWhiteSpace(n){const a=n.getSize(),c=n.getNextSet(0);if(c===a)throw new Q;return c}decodeEnd(n){n.reverse();try{let a=ke.skipWhiteSpace(n),c;try{c=ke.findGuardPattern(n,a,ke.END_PATTERN_REVERSED[0])}catch(u){u instanceof Q&&(c=ke.findGuardPattern(n,a,ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,c[0]);let h=c[0];return c[0]=n.getSize()-c[1],c[1]=n.getSize()-h,c}finally{n.reverse()}}static findGuardPattern(n,a,c){let h=c.length,u=new Int32Array(h),p=n.getSize(),m=!1,b=0,v=a;u.fill(0);for(let A=a;A<p;A++)if(n.get(A)!==m)u[b]++;else{if(b===h-1){if(We.patternMatchVariance(u,c,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return[v,A];v+=u[0]+u[1],R.arraycopy(u,2,u,0,b-1),u[b-1]=0,u[b]=0,b--}else b++;u[b]=1,m=!m}throw new Q}static decodeDigit(n){let a=ke.MAX_AVG_VARIANCE,c=-1,h=ke.PATTERNS.length;for(let u=0;u<h;u++){let p=ke.PATTERNS[u],m=We.patternMatchVariance(n,p,ke.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,c=u):m===a&&(c=-1)}if(c>=0)return c%10;throw new Q}}ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ke.MAX_AVG_VARIANCE=.38,ke.MAX_INDIVIDUAL_VARIANCE=.5,ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ke.START_PATTERN=Int32Array.from([1,1,1,1]),ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pe extends We{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let a=!1,c,h=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),c=Pe.findGuardPattern(n,h,!1,this.START_END_PATTERN,u);let p=c[0];h=c[1];let m=p-(h-p);m>=0&&(a=n.isRange(m,p,!1))}return c}static checkChecksum(n){return Pe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let c=parseInt(n.charAt(a-1),10);return Pe.getStandardUPCEANChecksum(n.substring(0,a-1))===c}static getStandardUPCEANChecksum(n){let a=n.length,c=0;for(let h=a-1;h>=0;h-=2){let u=n.charAt(h).charCodeAt(0)-48;if(u<0||u>9)throw new I;c+=u}c*=3;for(let h=a-2;h>=0;h-=2){let u=n.charAt(h).charCodeAt(0)-48;if(u<0||u>9)throw new I;c+=u}return(1e3-c)%10}static decodeEnd(n,a){return Pe.findGuardPattern(n,a,!1,Pe.START_END_PATTERN,new Int32Array(Pe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,a,c,h){return this.findGuardPattern(n,a,c,h,new Int32Array(h.length))}static findGuardPattern(n,a,c,h,u){let p=n.getSize();a=c?n.getNextUnset(a):n.getNextSet(a);let m=0,b=a,v=h.length,A=c;for(let E=a;E<p;E++)if(n.get(E)!==A)u[m]++;else{if(m===v-1){if(We.patternMatchVariance(u,h,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return Int32Array.from([b,E]);b+=u[0]+u[1];let B=u.slice(2,u.length-1);for(let z=0;z<m-1;z++)u[z]=B[z];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,A=!A}throw new Q}static decodeDigit(n,a,c,h){this.recordPattern(n,c,a);let u=this.MAX_AVG_VARIANCE,p=-1,m=h.length;for(let b=0;b<m;b++){let v=h[b],A=We.patternMatchVariance(a,v,Pe.MAX_INDIVIDUAL_VARIANCE);A<u&&(u=A,p=b)}if(p>=0)return p;throw new Q}}Pe.MAX_AVG_VARIANCE=.48,Pe.MAX_INDIVIDUAL_VARIANCE=.7,Pe.START_END_PATTERN=Int32Array.from([1,1,1]),Pe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Be{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,c){let h=this.decodeRowStringBuffer,u=this.decodeMiddle(a,c,h),p=h.toString(),m=Be.parseExtensionString(p),b=[new V((c[0]+c[1])/2,n),new V(u,n)],v=new Ue(p,null,0,b,we.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,a,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let u=n.getSize(),p=a[1],m=0;for(let v=0;v<5&&p<u;v++){let A=Pe.decodeDigit(n,h,p,Pe.L_AND_G_PATTERNS);c+=String.fromCharCode(48+A%10);for(let E of h)p+=E;A>=10&&(m|=1<<4-v),v!==4&&(p=n.getNextSet(p),p=n.getNextUnset(p))}if(c.length!==5)throw new Q;let b=this.determineCheckDigit(m);if(Be.extensionChecksum(c.toString())!==b)throw new Q;return p}static extensionChecksum(n){let a=n.length,c=0;for(let h=a-2;h>=0;h-=2)c+=n.charAt(h).charCodeAt(0)-48;c*=3;for(let h=a-1;h>=0;h-=2)c+=n.charAt(h).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(n){for(let a=0;a<10;a++)if(n===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Q}static parseExtensionString(n){if(n.length!==5)return null;let a=Be.parseExtension5String(n);return a==null?null:new Map([[Xe.SUGGESTED_PRICE,a]])}static parseExtension5String(n){let a;switch(n.charAt(0)){case"0":a="Â£";break;case"5":a="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let c=parseInt(n.substring(1)),h=(c/100).toString(),u=c%100,p=u<10?"0"+u:u.toString();return a+h+"."+p}}class He{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,c){let h=this.decodeRowStringBuffer,u=this.decodeMiddle(a,c,h),p=h.toString(),m=He.parseExtensionString(p),b=[new V((c[0]+c[1])/2,n),new V(u,n)],v=new Ue(p,null,0,b,we.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,a,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let u=n.getSize(),p=a[1],m=0;for(let b=0;b<2&&p<u;b++){let v=Pe.decodeDigit(n,h,p,Pe.L_AND_G_PATTERNS);c+=String.fromCharCode(48+v%10);for(let A of h)p+=A;v>=10&&(m|=1<<1-b),b!==1&&(p=n.getNextSet(p),p=n.getNextUnset(p))}if(c.length!==2)throw new Q;if(parseInt(c.toString())%4!==m)throw new Q;return p}static parseExtensionString(n){return n.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(n)]])}}class Jt{static decodeRow(n,a,c){let h=Pe.findGuardPattern(a,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Be().decodeRow(n,a,h)}catch(u){return new He().decodeRow(n,a,h)}}}Jt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ze extends Pe{constructor(){super(),this.decodeRowStringBuffer="",Ze.L_AND_G_PATTERNS=Ze.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let a=Ze.L_PATTERNS[n-10],c=new Int32Array(a.length);for(let h=0;h<a.length;h++)c[h]=a[a.length-h-1];Ze.L_AND_G_PATTERNS[n]=c}}decodeRow(n,a,c){let h=Ze.findStartGuardPattern(a),u=c==null?null:c.get(W.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new V((h[0]+h[1])/2,n);u.foundPossibleResultPoint(de)}let p=this.decodeMiddle(a,h,this.decodeRowStringBuffer),m=p.rowOffset,b=p.resultString;if(u!=null){const de=new V(m,n);u.foundPossibleResultPoint(de)}let v=this.decodeEnd(a,m);if(u!=null){const de=new V((v[0]+v[1])/2,n);u.foundPossibleResultPoint(de)}let A=v[1],E=A+(A-v[0]);if(E>=a.getSize()||!a.isRange(A,E,!1))throw new Q;let B=b.toString();if(B.length<8)throw new I;if(!Ze.checkChecksum(B))throw new j;let z=(h[1]+h[0])/2,H=(v[1]+v[0])/2,X=this.getBarcodeFormat(),te=[new V(z,n),new V(H,n)],re=new Ue(B,null,0,te,X,new Date().getTime()),ue=0;try{let de=Jt.decodeRow(n,a,v[1]);re.putMetadata(Xe.UPC_EAN_EXTENSION,de.getText()),re.putAllMetadata(de.getResultMetadata()),re.addResultPoints(de.getResultPoints()),ue=de.getText().length}catch(de){}let pe=c==null?null:c.get(W.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let de=!1;for(let ot in pe)if(ue.toString()===ot){de=!0;break}if(!de)throw new Q}return re}decodeEnd(n,a){return Ze.findGuardPattern(n,a,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Ze.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let c=parseInt(n.charAt(a-1),10);return Ze.getStandardUPCEANChecksum(n.substring(0,a-1))===c}static getStandardUPCEANChecksum(n){let a=n.length,c=0;for(let h=a-1;h>=0;h-=2){let u=n.charAt(h).charCodeAt(0)-48;if(u<0||u>9)throw new I;c+=u}c*=3;for(let h=a-2;h>=0;h-=2){let u=n.charAt(h).charCodeAt(0)-48;if(u<0||u>9)throw new I;c+=u}return(1e3-c)%10}}class gi extends Ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let u=n.getSize(),p=a[1],m=0;for(let v=0;v<6&&p<u;v++){let A=Ze.decodeDigit(n,h,p,Ze.L_AND_G_PATTERNS);c+=String.fromCharCode(48+A%10);for(let E of h)p+=E;A>=10&&(m|=1<<5-v)}c=gi.determineFirstDigit(c,m),p=Ze.findGuardPattern(n,p,!0,Ze.MIDDLE_PATTERN,new Int32Array(Ze.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&p<u;v++){let A=Ze.decodeDigit(n,h,p,Ze.L_PATTERNS);c+=String.fromCharCode(48+A);for(let E of h)p+=E}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(n,a){for(let c=0;c<10;c++)if(a===this.FIRST_DIGIT_ENCODINGS[c])return n=String.fromCharCode(48+c)+n,n;throw new Q}}gi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Hr extends Ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,c){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let u=n.getSize(),p=a[1];for(let b=0;b<4&&p<u;b++){let v=Ze.decodeDigit(n,h,p,Ze.L_PATTERNS);c+=String.fromCharCode(48+v);for(let A of h)p+=A}p=Ze.findGuardPattern(n,p,!0,Ze.MIDDLE_PATTERN,new Int32Array(Ze.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&p<u;b++){let v=Ze.decodeDigit(n,h,p,Ze.L_PATTERNS);c+=String.fromCharCode(48+v);for(let A of h)p+=A}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return we.EAN_8}}class Gr extends Ze{constructor(){super(...arguments),this.ean13Reader=new gi}getBarcodeFormat(){return we.UPC_A}decode(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,a,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,c))}decodeMiddle(n,a,c){return this.ean13Reader.decodeMiddle(n,a,c)}maybeReturnResult(n){let a=n.getText();if(a.charAt(0)==="0"){let c=new Ue(a.substring(1),null,null,n.getResultPoints(),we.UPC_A);return n.getResultMetadata()!=null&&c.putAllMetadata(n.getResultMetadata()),c}else throw new Q}reset(){this.ean13Reader.reset()}}class Ai extends Ze{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,a,c){const h=this.decodeMiddleCounters.map(v=>v);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const u=n.getSize();let p=a[1],m=0;for(let v=0;v<6&&p<u;v++){const A=Ai.decodeDigit(n,h,p,Ai.L_AND_G_PATTERNS);c+=String.fromCharCode(48+A%10);for(let E of h)p+=E;A>=10&&(m|=1<<5-v)}let b=Ai.determineNumSysAndCheckDigit(c,m);return{rowOffset:p,resultString:b}}decodeEnd(n,a){return Ai.findGuardPatternWithoutCounters(n,a,!0,Ai.MIDDLE_END_PATTERN)}checkChecksum(n){return Ze.checkChecksum(Ai.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,a){for(let c=0;c<=1;c++)for(let h=0;h<10;h++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][h]){let u=String.fromCharCode(48+c),p=String.fromCharCode(48+h);return u+n+p}throw Q.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(n){const a=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),c=new ve;c.append(n.charAt(0));let h=a[5];switch(h){case 0:case 1:case 2:c.appendChars(a,0,2),c.append(h),c.append("0000"),c.appendChars(a,2,3);break;case 3:c.appendChars(a,0,3),c.append("00000"),c.appendChars(a,3,2);break;case 4:c.appendChars(a,0,4),c.append("00000"),c.append(a[4]);break;default:c.appendChars(a,0,5),c.append("0000"),c.append(h);break}return n.length>=8&&c.append(n.charAt(7)),c.toString()}}Ai.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ai.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class or extends We{constructor(n){super();let a=n==null?null:n.get(W.POSSIBLE_FORMATS),c=[];s(a)?(c.push(new gi),c.push(new Gr),c.push(new Hr),c.push(new Ai)):(a.indexOf(we.EAN_13)>-1&&c.push(new gi),a.indexOf(we.UPC_A)>-1&&c.push(new Gr),a.indexOf(we.EAN_8)>-1&&c.push(new Hr),a.indexOf(we.UPC_E)>-1&&c.push(new Ai)),this.readers=c}decodeRow(n,a,c){for(let h of this.readers)try{const u=h.decodeRow(n,a,c),p=u.getBarcodeFormat()===we.EAN_13&&u.getText().charAt(0)==="0",m=c==null?null:c.get(W.POSSIBLE_FORMATS),b=m==null||m.includes(we.UPC_A);if(p&&b){const v=u.getRawBytes(),A=new Ue(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),we.UPC_A);return A.putAllMetadata(u.getResultMetadata()),A}return u}catch(u){}throw new Q}reset(){for(let n of this.readers)n.reset()}}class P extends We{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,a){for(let c=0;c<a.length;c++)if(We.patternMatchVariance(n,a[c],P.MAX_INDIVIDUAL_VARIANCE)<P.MAX_AVG_VARIANCE)return c;throw new Q}static count(n){return Ie.sum(new Int32Array(n))}static increment(n,a){let c=0,h=a[0];for(let u=1;u<n.length;u++)a[u]>h&&(h=a[u],c=u);n[c]++}static decrement(n,a){let c=0,h=a[0];for(let u=1;u<n.length;u++)a[u]<h&&(h=a[u],c=u);n[c]--}static isFinderPattern(n){let a=n[0]+n[1],c=a+n[2]+n[3],h=a/c;if(h>=P.MIN_FINDER_PATTERN_RATIO&&h<=P.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let m of n)m>p&&(p=m),m<u&&(u=m);return p<10*u}return!1}}P.MAX_AVG_VARIANCE=.2,P.MAX_INDIVIDUAL_VARIANCE=.45,P.MIN_FINDER_PATTERN_RATIO=9.5/12,P.MAX_FINDER_PATTERN_RATIO=12.5/14;class me{constructor(n,a){this.value=n,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof me))return!1;const a=n;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wt{constructor(n,a,c,h,u){this.value=n,this.startEnd=a,this.value=n,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new V(c,u)),this.resultPoints.push(new V(h,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof wt))return!1;const a=n;return this.value===a.value}hashCode(){return this.value}}class ut{constructor(){}static getRSSvalue(n,a,c){let h=0;for(let b of n)h+=b;let u=0,p=0,m=n.length;for(let b=0;b<m-1;b++){let v;for(v=1,p|=1<<b;v<n[b];v++,p&=~(1<<b)){let A=ut.combins(h-v-1,m-b-2);if(c&&p===0&&h-v-(m-b-1)>=m-b-1&&(A-=ut.combins(h-v-(m-b),m-b-2)),m-b-1>1){let E=0;for(let B=h-v-(m-b-2);B>a;B--)E+=ut.combins(h-v-B-1,m-b-3);A-=E*(m-1-b)}else h-v>a&&A--;u+=A}h-=v}return u}static combins(n,a){let c,h;n-a>a?(h=a,c=n-a):(h=n-a,c=a);let u=1,p=1;for(let m=n;m>c;m--)u*=m,p<=h&&(u/=p,p++);for(;p<=h;)u/=p,p++;return u}}class Mt{static buildBitArray(n){let a=n.length*2-1;n[n.length-1].getRightChar()==null&&(a-=1);let c=12*a,h=new ee(c),u=0,m=n[0].getRightChar().getValue();for(let b=11;b>=0;--b)(m&1<<b)!=0&&h.set(u),u++;for(let b=1;b<n.length;++b){let v=n[b],A=v.getLeftChar().getValue();for(let E=11;E>=0;--E)(A&1<<E)!=0&&h.set(u),u++;if(v.getRightChar()!=null){let E=v.getRightChar().getValue();for(let B=11;B>=0;--B)(E&1<<B)!=0&&h.set(u),u++}}return h}}class xe{constructor(n,a){a?this.decodedInformation=null:(this.finished=n,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ke{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Kt extends Ke{constructor(n,a){super(n),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Kt.FNC1}}Kt.FNC1="$";class Fi extends Ke{constructor(n,a,c){super(n),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ti extends Ke{constructor(n,a,c){if(super(n),a<0||a>10||c<0||c>10)throw new I;this.firstDigit=a,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ti.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ti.FNC1}isAnyFNC1(){return this.firstDigit===Ti.FNC1||this.secondDigit===Ti.FNC1}}Ti.FNC1=10;class je{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Q;let a=n.substring(0,2);for(let u of je.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===je.VARIABLE_LENGTH?je.processVariableAI(2,u[2],n):je.processFixedAI(2,u[1],n);if(n.length<3)throw new Q;let c=n.substring(0,3);for(let u of je.THREE_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===je.VARIABLE_LENGTH?je.processVariableAI(3,u[2],n):je.processFixedAI(3,u[1],n);for(let u of je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,u[2],n):je.processFixedAI(4,u[1],n);if(n.length<4)throw new Q;let h=n.substring(0,4);for(let u of je.FOUR_DIGIT_DATA_LENGTH)if(u[0]===h)return u[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,u[2],n):je.processFixedAI(4,u[1],n);throw new Q}static processFixedAI(n,a,c){if(c.length<n)throw new Q;let h=c.substring(0,n);if(c.length<n+a)throw new Q;let u=c.substring(n,n+a),p=c.substring(n+a),m="("+h+")"+u,b=je.parseFieldsInGeneralPurpose(p);return b==null?m:m+b}static processVariableAI(n,a,c){let h=c.substring(0,n),u;c.length<n+a?u=c.length:u=n+a;let p=c.substring(n,u),m=c.substring(u),b="("+h+")"+p,v=je.parseFieldsInGeneralPurpose(m);return v==null?b:b+v}}je.VARIABLE_LENGTH=[],je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",je.VARIABLE_LENGTH,20],["22",je.VARIABLE_LENGTH,29],["30",je.VARIABLE_LENGTH,8],["37",je.VARIABLE_LENGTH,8],["90",je.VARIABLE_LENGTH,30],["91",je.VARIABLE_LENGTH,30],["92",je.VARIABLE_LENGTH,30],["93",je.VARIABLE_LENGTH,30],["94",je.VARIABLE_LENGTH,30],["95",je.VARIABLE_LENGTH,30],["96",je.VARIABLE_LENGTH,30],["97",je.VARIABLE_LENGTH,3],["98",je.VARIABLE_LENGTH,30],["99",je.VARIABLE_LENGTH,30]],je.THREE_DIGIT_DATA_LENGTH=[["240",je.VARIABLE_LENGTH,30],["241",je.VARIABLE_LENGTH,30],["242",je.VARIABLE_LENGTH,6],["250",je.VARIABLE_LENGTH,30],["251",je.VARIABLE_LENGTH,30],["253",je.VARIABLE_LENGTH,17],["254",je.VARIABLE_LENGTH,20],["400",je.VARIABLE_LENGTH,30],["401",je.VARIABLE_LENGTH,30],["402",17],["403",je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",je.VARIABLE_LENGTH,20],["421",je.VARIABLE_LENGTH,15],["422",3],["423",je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",je.VARIABLE_LENGTH,15],["391",je.VARIABLE_LENGTH,18],["392",je.VARIABLE_LENGTH,15],["393",je.VARIABLE_LENGTH,18],["703",je.VARIABLE_LENGTH,30]],je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",je.VARIABLE_LENGTH,20],["8003",je.VARIABLE_LENGTH,30],["8004",je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",je.VARIABLE_LENGTH,30],["8008",je.VARIABLE_LENGTH,12],["8018",18],["8020",je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",je.VARIABLE_LENGTH,70],["8200",je.VARIABLE_LENGTH,70]];class zn{constructor(n){this.buffer=new ve,this.information=n}decodeAllCodes(n,a){let c=a,h=null;do{let u=this.decodeGeneralPurposeField(c,h),p=je.parseFieldsInGeneralPurpose(u.getNewString());if(p!=null&&n.append(p),u.isRemaining()?h=""+u.getRemainingValue():h=null,c===u.getNewPosition())break;c=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let a=n;a<n+3;++a)if(this.information.get(a))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new Ti(this.information.getSize(),Ti.FNC1,Ti.FNC1):new Ti(this.information.getSize(),u-1,Ti.FNC1)}let a=this.extractNumericValueFromBitArray(n,7),c=(a-8)/11,h=(a-8)%11;return new Ti(n+7,c,h)}extractNumericValueFromBitArray(n,a){return zn.extractNumericValueFromBitArray(this.information,n,a)}static extractNumericValueFromBitArray(n,a,c){let h=0;for(let u=0;u<c;++u)n.get(a+u)&&(h|=1<<c-u-1);return h}decodeGeneralPurposeField(n,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(n);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Fi(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Fi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,a;do{let c=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),n=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),n=a.isFinished()):(a=this.parseNumericBlock(),n=a.isFinished()),!(c!==this.current.getPosition())&&!n)break}while(!n);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let a;return n.isSecondDigitFNC1()?a=new Fi(this.current.getPosition(),this.buffer.toString()):a=new Fi(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new xe(!0,a)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let a=new Fi(this.current.getPosition(),this.buffer.toString());return new xe(!0,a)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Fi(this.current.getPosition(),this.buffer.toString());return new xe(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Fi(this.current.getPosition(),this.buffer.toString());return new xe(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xe(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(n,7);if(c>=64&&c<116)return!0;if(n+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(n,8);return h>=232&&h<253}decodeIsoIec646(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Kt(n+5,Kt.FNC1);if(a>=5&&a<15)return new Kt(n+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(n,7);if(c>=64&&c<90)return new Kt(n+7,""+(c+1));if(c>=90&&c<116)return new Kt(n+7,""+(c+7));let h=this.extractNumericValueFromBitArray(n,8),u;switch(h){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new I}return new Kt(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(n,6);return c>=16&&c<63}decodeAlphanumeric(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Kt(n+5,Kt.FNC1);if(a>=5&&a<15)return new Kt(n+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(n,6);if(c>=32&&c<58)return new Kt(n+6,""+(c+33));let h;switch(c){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Et("Decoding invalid alphanumeric value: "+c)}return new Kt(n+6,h)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<5&&a+n<this.information.getSize();++a)if(a===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+a))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let a=n;a<n+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<4&&a+n<this.information.getSize();++a)if(this.information.get(n+a))return!1;return!0}}class ts{constructor(n){this.information=n,this.generalDecoder=new zn(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yi extends ts{constructor(n){super(n)}encodeCompressedGtin(n,a){n.append("(01)");let c=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,c)}encodeCompressedGtinWithoutAI(n,a,c){for(let h=0;h<4;++h){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*h,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}yi.appendCheckDigit(n,c)}static appendCheckDigit(n,a){let c=0;for(let h=0;h<13;h++){let u=n.charAt(h+a).charCodeAt(0)-48;c+=(h&1)===0?3*u:u}c=10-c%10,c===10&&(c=0),n.append(c)}}yi.GTIN_SIZE=40;class Pn extends yi{constructor(n){super(n)}parseInformation(){let n=new ve;n.append("(01)");let a=n.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE,4);return n.append(c),this.encodeCompressedGtinWithoutAI(n,Pn.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,Pn.HEADER_SIZE+44)}}Pn.HEADER_SIZE=4;class qr extends ts{constructor(n){super(n)}parseInformation(){let n=new ve;return this.getGeneralDecoder().decodeAllCodes(n,qr.HEADER_SIZE)}}qr.HEADER_SIZE=5;class Xr extends yi{constructor(n){super(n)}encodeCompressedWeight(n,a,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a,c);this.addWeightCode(n,h);let u=this.checkWeight(h),p=1e5;for(let m=0;m<5;++m)u/p===0&&n.append("0"),p/=10;n.append(u)}}class Wi extends Xr{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Wi.HEADER_SIZE+Xr.GTIN_SIZE+Wi.WEIGHT_SIZE)throw new Q;let n=new ve;return this.encodeCompressedGtin(n,Wi.HEADER_SIZE),this.encodeCompressedWeight(n,Wi.HEADER_SIZE+Xr.GTIN_SIZE,Wi.WEIGHT_SIZE),n.toString()}}Wi.HEADER_SIZE=5,Wi.WEIGHT_SIZE=15;class _h extends Wi{constructor(n){super(n)}addWeightCode(n,a){n.append("(3103)")}checkWeight(n){return n}}class Eh extends Wi{constructor(n){super(n)}addWeightCode(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Ui extends yi{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ui.HEADER_SIZE+yi.GTIN_SIZE)throw new Q;let n=new ve;this.encodeCompressedGtin(n,Ui.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ui.HEADER_SIZE+yi.GTIN_SIZE,Ui.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ui.HEADER_SIZE+yi.GTIN_SIZE+Ui.LAST_DIGIT_SIZE,null);return n.append(c.getNewString()),n.toString()}}Ui.HEADER_SIZE=8,Ui.LAST_DIGIT_SIZE=2;class xi extends yi{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<xi.HEADER_SIZE+yi.GTIN_SIZE)throw new Q;let n=new ve;this.encodeCompressedGtin(n,xi.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(xi.HEADER_SIZE+yi.GTIN_SIZE,xi.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(xi.HEADER_SIZE+yi.GTIN_SIZE+xi.LAST_DIGIT_SIZE,xi.FIRST_THREE_DIGITS_SIZE);c/100==0&&n.append("0"),c/10==0&&n.append("0"),n.append(c);let h=this.getGeneralDecoder().decodeGeneralPurposeField(xi.HEADER_SIZE+yi.GTIN_SIZE+xi.LAST_DIGIT_SIZE+xi.FIRST_THREE_DIGITS_SIZE,null);return n.append(h.getNewString()),n.toString()}}xi.HEADER_SIZE=8,xi.LAST_DIGIT_SIZE=2,xi.FIRST_THREE_DIGITS_SIZE=10;class Ot extends Xr{constructor(n,a,c){super(n),this.dateCode=c,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE+Ot.DATE_SIZE)throw new Q;let n=new ve;return this.encodeCompressedGtin(n,Ot.HEADER_SIZE),this.encodeCompressedWeight(n,Ot.HEADER_SIZE+Ot.GTIN_SIZE,Ot.WEIGHT_SIZE),this.encodeCompressedDate(n,Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Ot.DATE_SIZE);if(c==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let h=c%32;c/=32;let u=c%12+1;c/=12;let p=c;p/10==0&&n.append("0"),n.append(p),u/10==0&&n.append("0"),n.append(u),h/10==0&&n.append("0"),n.append(h)}addWeightCode(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")}checkWeight(n){return n%1e5}}Ot.HEADER_SIZE=8,Ot.WEIGHT_SIZE=20,Ot.DATE_SIZE=16;function Oa(_){try{if(_.get(1))return new Pn(_);if(!_.get(2))return new qr(_);switch(zn.extractNumericValueFromBitArray(_,1,4)){case 4:return new _h(_);case 5:return new Eh(_)}switch(zn.extractNumericValueFromBitArray(_,1,5)){case 12:return new Ui(_);case 13:return new xi(_)}switch(zn.extractNumericValueFromBitArray(_,1,7)){case 56:return new Ot(_,"310","11");case 57:return new Ot(_,"320","11");case 58:return new Ot(_,"310","13");case 59:return new Ot(_,"320","13");case 60:return new Ot(_,"310","15");case 61:return new Ot(_,"320","15");case 62:return new Ot(_,"310","17");case 63:return new Ot(_,"320","17")}}catch(n){throw console.log(n),new Et("unknown decoder: "+_)}}class an{constructor(n,a,c,h){this.leftchar=n,this.rightchar=a,this.finderpattern=c,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,a){return n instanceof an?an.equalsOrNull(n.leftchar,a.leftchar)&&an.equalsOrNull(n.rightchar,a.rightchar)&&an.equalsOrNull(n.finderpattern,a.finderpattern):!1}static equalsOrNull(n,a){return n===null?a===null:an.equals(n,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class is{constructor(n,a,c){this.pairs=n,this.rowNumber=a,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,a){return n instanceof is?this.checkEqualitity(n,a)&&n.wasReversed===a.wasReversed:!1}checkEqualitity(n,a){if(!n||!a)return;let c;return n.forEach((h,u)=>{a.forEach(p=>{h.getLeftChar().getValue()===p.getLeftChar().getValue()&&h.getRightChar().getValue()===p.getRightChar().getValue()&&h.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(c=!0)})}),c}}class ae extends P{constructor(n){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,a,c){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(n,a))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(n,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,a){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(u){if(u instanceof Q){if(!this.pairs.length)throw new Q;c=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(n,!1),h){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Q}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return n&&(this.rows=this.rows.reverse()),a}checkRows(n,a){for(let c=a;c<this.rows.length;c++){let h=this.rows[c];this.pairs.length=0;for(let p of n)this.pairs.push(p.getPairs());if(this.pairs.push(h.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(h);try{return this.checkRows(u,c+1)}catch(p){this.verbose&&console.log(p)}}throw new Q}static isValidSequence(n){for(let a of ae.FINDER_PATTERN_SEQUENCES){if(n.length>a.length)continue;let c=!0;for(let h=0;h<n.length;h++)if(n[h].getFinderPattern().getValue()!=a[h]){c=!1;break}if(c)return!0}return!1}storeRow(n,a){let c=0,h=!1,u=!1;for(;c<this.rows.length;){let p=this.rows[c];if(p.getRowNumber()>n){u=p.isEquivalent(this.pairs);break}h=p.isEquivalent(this.pairs),c++}u||h||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new is(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,a){for(let c of a)if(c.getPairs().length!==n.length){for(let h of c.getPairs())for(let u of n)if(an.equals(h,u))break}}static isPartialRow(n,a){for(let c of a){let h=!0;for(let u of n){let p=!1;for(let m of c.getPairs())if(u.equals(m)){p=!0;break}if(!p){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(n){let a=Mt.buildBitArray(n),h=Oa(a).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),p=n[n.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],p[0],p[1]];return new Ue(h,null,null,m,we.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),a=n.getLeftChar(),c=n.getRightChar();if(c==null)return!1;let h=c.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let b=this.pairs.get(m);h+=b.getLeftChar().getChecksumPortion(),u++;let v=b.getRightChar();v!=null&&(h+=v.getChecksumPortion(),u++)}return h%=211,211*(u-4)+h==a.getValue()}static getNextSecondBar(n,a){let c;return n.get(a)?(c=n.getNextUnset(a),c=n.getNextSet(c)):(c=n.getNextSet(a),c=n.getNextUnset(c)),c}retrieveNextPair(n,a,c){let h=a.length%2==0;this.startFromEven&&(h=!h);let u,p=!0,m=-1;do this.findNextPair(n,a,m),u=this.parseFoundFinderPattern(n,c,h),u==null?m=ae.getNextSecondBar(n,this.startEnd[0]):p=!1;while(p);let b=this.decodeDataCharacter(n,u,h,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Q;let v;try{v=this.decodeDataCharacter(n,u,h,!1)}catch(A){v=null,this.verbose&&console.log(A)}return new an(b,v,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,a,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let u=n.getSize(),p;c>=0?p=c:this.isEmptyPair(a)?p=0:p=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let b=!1;for(;p<u&&(b=!n.get(p),!!b);)p++;let v=0,A=p;for(let E=p;E<u;E++)if(n.get(E)!=b)h[v]++;else{if(v==3){if(m&&ae.reverseCounters(h),ae.isFinderPattern(h)){this.startEnd[0]=A,this.startEnd[1]=E;return}m&&ae.reverseCounters(h),A+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,v--}else v++;h[v]=1,b=!b}throw new Q}static reverseCounters(n){let a=n.length;for(let c=0;c<a/2;++c){let h=n[c];n[c]=n[a-c-1],n[a-c-1]=h}}parseFoundFinderPattern(n,a,c){let h,u,p;if(c){let v=this.startEnd[0]-1;for(;v>=0&&!n.get(v);)v--;v++,h=this.startEnd[0]-v,u=v,p=this.startEnd[1]}else u=this.startEnd[0],p=n.getNextUnset(this.startEnd[1]+1),h=p-this.startEnd[1];let m=this.getDecodeFinderCounters();R.arraycopy(m,0,m,1,m.length-1),m[0]=h;let b;try{b=this.parseFinderValue(m,ae.FINDER_PATTERNS)}catch(v){return null}return new wt(b,[u,p],u,p,a)}decodeDataCharacter(n,a,c,h){let u=this.getDataCharacterCounters();for(let St=0;St<u.length;St++)u[St]=0;if(h)ae.recordPatternInReverse(n,a.getStartEnd()[0],u);else{ae.recordPattern(n,a.getStartEnd()[1],u);for(let St=0,ci=u.length-1;St<ci;St++,ci--){let ji=u[St];u[St]=u[ci],u[ci]=ji}}let p=17,m=Ie.sum(new Int32Array(u))/p,b=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-b)/b>.3)throw new Q;let v=this.getOddCounts(),A=this.getEvenCounts(),E=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let St=0;St<u.length;St++){let ci=1*u[St]/m,ji=ci+.5;if(ji<1){if(ci<.3)throw new Q;ji=1}else if(ji>8){if(ci>8.7)throw new Q;ji=8}let Vn=St/2;(St&1)==0?(v[Vn]=ji,E[Vn]=ci-ji):(A[Vn]=ji,B[Vn]=ci-ji)}this.adjustOddEvenCounts(p);let z=4*a.getValue()+(c?0:2)+(h?0:1)-1,H=0,X=0;for(let St=v.length-1;St>=0;St--){if(ae.isNotA1left(a,c,h)){let ci=ae.WEIGHTS[z][2*St];X+=v[St]*ci}H+=v[St]}let te=0;for(let St=A.length-1;St>=0;St--)if(ae.isNotA1left(a,c,h)){let ci=ae.WEIGHTS[z][2*St+1];te+=A[St]*ci}let re=X+te;if((H&1)!=0||H>13||H<4)throw new Q;let ue=(13-H)/2,pe=ae.SYMBOL_WIDEST[ue],de=9-pe,ot=ut.getRSSvalue(v,pe,!0),Ge=ut.getRSSvalue(A,de,!1),wi=ae.EVEN_TOTAL_SUBSET[ue],Mi=ae.GSUM[ue],vi=ot*wi+Ge+Mi;return new me(vi,re)}static isNotA1left(n,a,c){return!(n.getValue()==0&&a&&c)}adjustOddEvenCounts(n){let a=Ie.sum(new Int32Array(this.getOddCounts())),c=Ie.sum(new Int32Array(this.getEvenCounts())),h=!1,u=!1;a>13?u=!0:a<4&&(h=!0);let p=!1,m=!1;c>13?m=!0:c<4&&(p=!0);let b=a+c-n,v=(a&1)==1,A=(c&1)==0;if(b==1)if(v){if(A)throw new Q;u=!0}else{if(!A)throw new Q;m=!0}else if(b==-1)if(v){if(A)throw new Q;h=!0}else{if(!A)throw new Q;p=!0}else if(b==0){if(v){if(!A)throw new Q;a<c?(h=!0,m=!0):(u=!0,p=!0)}else if(A)throw new Q}else throw new Q;if(h){if(u)throw new Q;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(m)throw new Q;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class kh extends me{constructor(n,a,c){super(n,a),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends P{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,a,c){const h=this.decodePair(a,!1,n,c);Lt.addOrTally(this.possibleLeftPairs,h),a.reverse();let u=this.decodePair(a,!0,n,c);Lt.addOrTally(this.possibleRightPairs,u),a.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Lt.checkChecksum(p,m))return Lt.constructResult(p,m)}throw new Q}static addOrTally(n,a){if(a==null)return;let c=!1;for(let h of n)if(h.getValue()===a.getValue()){h.incrementCount(),c=!0;break}c||n.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,a){let c=4537077*n.getValue()+a.getValue(),h=new String(c).toString(),u=new ve;for(let v=13-h.length;v>0;v--)u.append("0");u.append(h);let p=0;for(let v=0;v<13;v++){let A=u.charAt(v).charCodeAt(0)-48;p+=(v&1)===0?3*A:A}p=10-p%10,p===10&&(p=0),u.append(p.toString());let m=n.getFinderPattern().getResultPoints(),b=a.getFinderPattern().getResultPoints();return new Ue(u.toString(),null,0,[m[0],m[1],b[0],b[1]],we.RSS_14,new Date().getTime())}static checkChecksum(n,a){let c=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,h=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,c===h}decodePair(n,a,c,h){try{let u=this.findFinderPattern(n,a),p=this.parseFoundFinderPattern(n,c,a,u),m=h==null?null:h.get(W.NEED_RESULT_POINT_CALLBACK);if(m!=null){let A=(u[0]+u[1])/2;a&&(A=n.getSize()-1-A),m.foundPossibleResultPoint(new V(A,c))}let b=this.decodeDataCharacter(n,p,!0),v=this.decodeDataCharacter(n,p,!1);return new kh(1597*b.getValue()+v.getValue(),b.getChecksumPortion()+4*v.getChecksumPortion(),p)}catch(u){return null}}decodeDataCharacter(n,a,c){let h=this.getDataCharacterCounters();for(let te=0;te<h.length;te++)h[te]=0;if(c)We.recordPatternInReverse(n,a.getStartEnd()[0],h);else{We.recordPattern(n,a.getStartEnd()[1]+1,h);for(let te=0,re=h.length-1;te<re;te++,re--){let ue=h[te];h[te]=h[re],h[re]=ue}}let u=c?16:15,p=Ie.sum(new Int32Array(h))/u,m=this.getOddCounts(),b=this.getEvenCounts(),v=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let te=0;te<h.length;te++){let re=h[te]/p,ue=Math.floor(re+.5);ue<1?ue=1:ue>8&&(ue=8);let pe=Math.floor(te/2);(te&1)===0?(m[pe]=ue,v[pe]=re-ue):(b[pe]=ue,A[pe]=re-ue)}this.adjustOddEvenCounts(c,u);let E=0,B=0;for(let te=m.length-1;te>=0;te--)B*=9,B+=m[te],E+=m[te];let z=0,H=0;for(let te=b.length-1;te>=0;te--)z*=9,z+=b[te],H+=b[te];let X=B+3*z;if(c){if((E&1)!==0||E>12||E<4)throw new Q;let te=(12-E)/2,re=Lt.OUTSIDE_ODD_WIDEST[te],ue=9-re,pe=ut.getRSSvalue(m,re,!1),de=ut.getRSSvalue(b,ue,!0),ot=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[te],Ge=Lt.OUTSIDE_GSUM[te];return new me(pe*ot+de+Ge,X)}else{if((H&1)!==0||H>10||H<4)throw new Q;let te=(10-H)/2,re=Lt.INSIDE_ODD_WIDEST[te],ue=9-re,pe=ut.getRSSvalue(m,re,!0),de=ut.getRSSvalue(b,ue,!1),ot=Lt.INSIDE_ODD_TOTAL_SUBSET[te],Ge=Lt.INSIDE_GSUM[te];return new me(de*ot+pe+Ge,X)}}findFinderPattern(n,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=n.getSize(),u=!1,p=0;for(;p<h&&(u=!n.get(p),a!==u);)p++;let m=0,b=p;for(let v=p;v<h;v++)if(n.get(v)!==u)c[m]++;else{if(m===3){if(P.isFinderPattern(c))return[b,v];b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,m--}else m++;c[m]=1,u=!u}throw new Q}parseFoundFinderPattern(n,a,c,h){let u=n.get(h[0]),p=h[0]-1;for(;p>=0&&u!==n.get(p);)p--;p++;const m=h[0]-p,b=this.getDecodeFinderCounters(),v=new Int32Array(b.length);R.arraycopy(b,0,v,1,b.length-1),v[0]=m;const A=this.parseFinderValue(v,Lt.FINDER_PATTERNS);let E=p,B=h[1];return c&&(E=n.getSize()-1-E,B=n.getSize()-1-B),new wt(A,[p,h[1]],E,B,a)}adjustOddEvenCounts(n,a){let c=Ie.sum(new Int32Array(this.getOddCounts())),h=Ie.sum(new Int32Array(this.getEvenCounts())),u=!1,p=!1,m=!1,b=!1;n?(c>12?p=!0:c<4&&(u=!0),h>12?b=!0:h<4&&(m=!0)):(c>11?p=!0:c<5&&(u=!0),h>10?b=!0:h<4&&(m=!0));let v=c+h-a,A=(c&1)===(n?1:0),E=(h&1)===1;if(v===1)if(A){if(E)throw new Q;p=!0}else{if(!E)throw new Q;b=!0}else if(v===-1)if(A){if(E)throw new Q;u=!0}else{if(!E)throw new Q;m=!0}else if(v===0){if(A){if(!E)throw new Q;c<h?(u=!0,b=!0):(p=!0,m=!0)}else if(E)throw new Q}else throw new Q;if(u){if(p)throw new Q;P.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&P.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(b)throw new Q;P.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&P.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Dn extends We{constructor(n,a){super(),this.readers=[],this.verbose=a===!0;const c=n?n.get(W.POSSIBLE_FORMATS):null,h=n&&n.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(we.EAN_13)||c.includes(we.UPC_A)||c.includes(we.EAN_8)||c.includes(we.UPC_E))&&this.readers.push(new or(n)),c.includes(we.CODE_39)&&this.readers.push(new he(h)),c.includes(we.CODE_128)&&this.readers.push(new T),c.includes(we.ITF)&&this.readers.push(new ke),c.includes(we.RSS_14)&&this.readers.push(new Lt),c.includes(we.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new or(n)),this.readers.push(new he),this.readers.push(new or(n)),this.readers.push(new T),this.readers.push(new ke),this.readers.push(new Lt),this.readers.push(new ae(this.verbose)))}decodeRow(n,a,c){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(n,a,c)}catch(u){}throw new Q}reset(){this.readers.forEach(n=>n.reset())}}class Th extends Oe{constructor(n=500,a){super(new Dn(a),n,a)}}class gt{constructor(n,a,c){this.ecCodewords=n,this.ecBlocks=[a],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class pt{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class at{constructor(n,a,c,h,u,p){this.versionNumber=n,this.symbolSizeRows=a,this.symbolSizeColumns=c,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=u,this.ecBlocks=p;let m=0;const b=p.getECCodewords(),v=p.getECBlocks();for(let A of v)m+=A.getCount()*(A.getDataCodewords()+b);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,a){if((n&1)!==0||(a&1)!==0)throw new I;for(let c of at.VERSIONS)if(c.symbolSizeRows===n&&c.symbolSizeColumns===a)return c;throw new I}toString(){return""+this.versionNumber}static buildVersions(){return[new at(1,10,10,8,8,new gt(5,new pt(1,3))),new at(2,12,12,10,10,new gt(7,new pt(1,5))),new at(3,14,14,12,12,new gt(10,new pt(1,8))),new at(4,16,16,14,14,new gt(12,new pt(1,12))),new at(5,18,18,16,16,new gt(14,new pt(1,18))),new at(6,20,20,18,18,new gt(18,new pt(1,22))),new at(7,22,22,20,20,new gt(20,new pt(1,30))),new at(8,24,24,22,22,new gt(24,new pt(1,36))),new at(9,26,26,24,24,new gt(28,new pt(1,44))),new at(10,32,32,14,14,new gt(36,new pt(1,62))),new at(11,36,36,16,16,new gt(42,new pt(1,86))),new at(12,40,40,18,18,new gt(48,new pt(1,114))),new at(13,44,44,20,20,new gt(56,new pt(1,144))),new at(14,48,48,22,22,new gt(68,new pt(1,174))),new at(15,52,52,24,24,new gt(42,new pt(2,102))),new at(16,64,64,14,14,new gt(56,new pt(2,140))),new at(17,72,72,16,16,new gt(36,new pt(4,92))),new at(18,80,80,18,18,new gt(48,new pt(4,114))),new at(19,88,88,20,20,new gt(56,new pt(4,144))),new at(20,96,96,22,22,new gt(68,new pt(4,174))),new at(21,104,104,24,24,new gt(56,new pt(6,136))),new at(22,120,120,18,18,new gt(68,new pt(6,175))),new at(23,132,132,20,20,new gt(62,new pt(8,163))),new at(24,144,144,22,22,new gt(62,new pt(8,156),new pt(2,155))),new at(25,8,18,6,16,new gt(7,new pt(1,5))),new at(26,8,32,6,14,new gt(11,new pt(1,10))),new at(27,12,26,10,24,new gt(14,new pt(1,16))),new at(28,12,36,10,16,new gt(18,new pt(1,22))),new at(29,16,36,14,16,new gt(24,new pt(1,32))),new at(30,16,48,14,22,new gt(28,new pt(1,49)))]}}at.VERSIONS=at.buildVersions();class ns{constructor(n){const a=n.getHeight();if(a<8||a>144||(a&1)!==0)throw new I;this.version=ns.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const a=n.getHeight(),c=n.getWidth();return at.getVersionForDimensions(a,c)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let a=0,c=4,h=0;const u=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let m=!1,b=!1,v=!1,A=!1;do if(c===u&&h===0&&!m)n[a++]=this.readCorner1(u,p)&255,c-=2,h+=2,m=!0;else if(c===u-2&&h===0&&(p&3)!==0&&!b)n[a++]=this.readCorner2(u,p)&255,c-=2,h+=2,b=!0;else if(c===u+4&&h===2&&(p&7)===0&&!v)n[a++]=this.readCorner3(u,p)&255,c-=2,h+=2,v=!0;else if(c===u-2&&h===0&&(p&7)===4&&!A)n[a++]=this.readCorner4(u,p)&255,c-=2,h+=2,A=!0;else{do c<u&&h>=0&&!this.readMappingMatrix.get(h,c)&&(n[a++]=this.readUtah(c,h,u,p)&255),c-=2,h+=2;while(c>=0&&h<p);c+=1,h+=3;do c>=0&&h<p&&!this.readMappingMatrix.get(h,c)&&(n[a++]=this.readUtah(c,h,u,p)&255),c+=2,h-=2;while(c<u&&h>=0);c+=3,h+=1}while(c<u||h<p);if(a!==this.version.getTotalCodewords())throw new I;return n}readModule(n,a,c,h){return n<0&&(n+=c,a+=4-(c+4&7)),a<0&&(a+=h,n+=4-(h+4&7)),this.readMappingMatrix.set(a,n),this.mappingBitMatrix.get(a,n)}readUtah(n,a,c,h){let u=0;return this.readModule(n-2,a-2,c,h)&&(u|=1),u<<=1,this.readModule(n-2,a-1,c,h)&&(u|=1),u<<=1,this.readModule(n-1,a-2,c,h)&&(u|=1),u<<=1,this.readModule(n-1,a-1,c,h)&&(u|=1),u<<=1,this.readModule(n-1,a,c,h)&&(u|=1),u<<=1,this.readModule(n,a-2,c,h)&&(u|=1),u<<=1,this.readModule(n,a-1,c,h)&&(u|=1),u<<=1,this.readModule(n,a,c,h)&&(u|=1),u}readCorner1(n,a){let c=0;return this.readModule(n-1,0,n,a)&&(c|=1),c<<=1,this.readModule(n-1,1,n,a)&&(c|=1),c<<=1,this.readModule(n-1,2,n,a)&&(c|=1),c<<=1,this.readModule(0,a-2,n,a)&&(c|=1),c<<=1,this.readModule(0,a-1,n,a)&&(c|=1),c<<=1,this.readModule(1,a-1,n,a)&&(c|=1),c<<=1,this.readModule(2,a-1,n,a)&&(c|=1),c<<=1,this.readModule(3,a-1,n,a)&&(c|=1),c}readCorner2(n,a){let c=0;return this.readModule(n-3,0,n,a)&&(c|=1),c<<=1,this.readModule(n-2,0,n,a)&&(c|=1),c<<=1,this.readModule(n-1,0,n,a)&&(c|=1),c<<=1,this.readModule(0,a-4,n,a)&&(c|=1),c<<=1,this.readModule(0,a-3,n,a)&&(c|=1),c<<=1,this.readModule(0,a-2,n,a)&&(c|=1),c<<=1,this.readModule(0,a-1,n,a)&&(c|=1),c<<=1,this.readModule(1,a-1,n,a)&&(c|=1),c}readCorner3(n,a){let c=0;return this.readModule(n-1,0,n,a)&&(c|=1),c<<=1,this.readModule(n-1,a-1,n,a)&&(c|=1),c<<=1,this.readModule(0,a-3,n,a)&&(c|=1),c<<=1,this.readModule(0,a-2,n,a)&&(c|=1),c<<=1,this.readModule(0,a-1,n,a)&&(c|=1),c<<=1,this.readModule(1,a-3,n,a)&&(c|=1),c<<=1,this.readModule(1,a-2,n,a)&&(c|=1),c<<=1,this.readModule(1,a-1,n,a)&&(c|=1),c}readCorner4(n,a){let c=0;return this.readModule(n-3,0,n,a)&&(c|=1),c<<=1,this.readModule(n-2,0,n,a)&&(c|=1),c<<=1,this.readModule(n-1,0,n,a)&&(c|=1),c<<=1,this.readModule(0,a-2,n,a)&&(c|=1),c<<=1,this.readModule(0,a-1,n,a)&&(c|=1),c<<=1,this.readModule(1,a-1,n,a)&&(c|=1),c<<=1,this.readModule(2,a-1,n,a)&&(c|=1),c<<=1,this.readModule(3,a-1,n,a)&&(c|=1),c}extractDataRegion(n){const a=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(n.getHeight()!==a)throw new C("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),p=a/h|0,m=c/u|0,b=p*h,v=m*u,A=new Se(v,b);for(let E=0;E<p;++E){const B=E*h;for(let z=0;z<m;++z){const H=z*u;for(let X=0;X<h;++X){const te=E*(h+2)+1+X,re=B+X;for(let ue=0;ue<u;++ue){const pe=z*(u+2)+1+ue;if(n.get(pe,te)){const de=H+ue;A.set(de,re)}}}}}return A}}class rs{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a){const c=a.getECBlocks();let h=0;const u=c.getECBlocks();for(let X of u)h+=X.getCount();const p=new Array(h);let m=0;for(let X of u)for(let te=0;te<X.getCount();te++){const re=X.getDataCodewords(),ue=c.getECCodewords()+re;p[m++]=new rs(re,new Uint8Array(ue))}const v=p[0].codewords.length-c.getECCodewords(),A=v-1;let E=0;for(let X=0;X<A;X++)for(let te=0;te<m;te++)p[te].codewords[X]=n[E++];const B=a.getVersionNumber()===24,z=B?8:m;for(let X=0;X<z;X++)p[X].codewords[v-1]=n[E++];const H=p[0].codewords.length;for(let X=v;X<H;X++)for(let te=0;te<m;te++){const re=B?(te+8)%m:te,ue=B&&re>7?X-1:X;p[re].codewords[ue]=n[E++]}if(E!==n.length)throw new C;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class os{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new C(""+n);let a=0,c=this.bitOffset,h=this.byteOffset;const u=this.bytes;if(c>0){const p=8-c,m=n<p?n:p,b=p-m,v=255>>8-m<<b;a=(u[h]&v)>>b,n-=m,c+=m,c===8&&(c=0,h++)}if(n>0){for(;n>=8;)a=a<<8|u[h]&255,h++,n-=8;if(n>0){const p=8-n,m=255>>p<<p;a=a<<n|(u[h]&m)>>p,c+=n}}return this.bitOffset=c,this.byteOffset=h,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ei;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(ei||(ei={}));class ln{static decode(n){const a=new os(n),c=new ve,h=new ve,u=new Array;let p=ei.ASCII_ENCODE;do if(p===ei.ASCII_ENCODE)p=this.decodeAsciiSegment(a,c,h);else{switch(p){case ei.C40_ENCODE:this.decodeC40Segment(a,c);break;case ei.TEXT_ENCODE:this.decodeTextSegment(a,c);break;case ei.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,c);break;case ei.EDIFACT_ENCODE:this.decodeEdifactSegment(a,c);break;case ei.BASE256_ENCODE:this.decodeBase256Segment(a,c,u);break;default:throw new I}p=ei.ASCII_ENCODE}while(p!==ei.PAD_ENCODE&&a.available()>0);return h.length()>0&&c.append(h.toString()),new _t(n,c.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,a,c){let h=!1;do{let u=n.readBits(8);if(u===0)throw new I;if(u<=128)return h&&(u+=128),a.append(String.fromCharCode(u-1)),ei.ASCII_ENCODE;if(u===129)return ei.PAD_ENCODE;if(u<=229){const p=u-130;p<10&&a.append("0"),a.append(""+p)}else switch(u){case 230:return ei.C40_ENCODE;case 231:return ei.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:a.append("[)>05"),c.insert(0,"");break;case 237:a.append("[)>06"),c.insert(0,"");break;case 238:return ei.ANSIX12_ENCODE;case 239:return ei.TEXT_ENCODE;case 240:return ei.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new I;break}}while(n.available()>0);return ei.ASCII_ENCODE}static decodeC40Segment(n,a){let c=!1;const h=[];let u=0;do{if(n.available()===8)return;const p=n.readBits(8);if(p===254)return;this.parseTwoBytes(p,n.readBits(8),h);for(let m=0;m<3;m++){const b=h[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[b];c?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),c=!1):a.append(v)}else throw new I;break;case 1:c?(a.append(String.fromCharCode(b+128)),c=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[b];c?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),c=!1):a.append(v)}else switch(b){case 27:a.append("");break;case 30:c=!0;break;default:throw new I}u=0;break;case 3:c?(a.append(String.fromCharCode(b+224)),c=!1):a.append(String.fromCharCode(b+96)),u=0;break;default:throw new I}}}while(n.available()>0)}static decodeTextSegment(n,a){let c=!1,h=[],u=0;do{if(n.available()===8)return;const p=n.readBits(8);if(p===254)return;this.parseTwoBytes(p,n.readBits(8),h);for(let m=0;m<3;m++){const b=h[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[b];c?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),c=!1):a.append(v)}else throw new I;break;case 1:c?(a.append(String.fromCharCode(b+128)),c=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[b];c?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),c=!1):a.append(v)}else switch(b){case 27:a.append("");break;case 30:c=!0;break;default:throw new I}u=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[b];c?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),c=!1):a.append(v),u=0}else throw new I;break;default:throw new I}}}while(n.available()>0)}static decodeAnsiX12Segment(n,a){const c=[];do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),c);for(let u=0;u<3;u++){const p=c[u];switch(p){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(p<14)a.append(String.fromCharCode(p+44));else if(p<40)a.append(String.fromCharCode(p+51));else throw new I;break}}}while(n.available()>0)}static parseTwoBytes(n,a,c){let h=(n<<8)+a-1,u=Math.floor(h/1600);c[0]=u,h-=u*1600,u=Math.floor(h/40),c[1]=u,c[2]=h-u*40}static decodeEdifactSegment(n,a){do{if(n.available()<=16)return;for(let c=0;c<4;c++){let h=n.readBits(6);if(h===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}(h&32)===0&&(h|=64),a.append(String.fromCharCode(h))}}while(n.available()>0)}static decodeBase256Segment(n,a,c){let h=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),h++);let p;if(u===0?p=n.available()/8|0:u<250?p=u:p=250*(u-249)+this.unrandomize255State(n.readBits(8),h++),p<0)throw new I;const m=new Uint8Array(p);for(let b=0;b<p;b++){if(n.available()<8)throw new I;m[b]=this.unrandomize255State(n.readBits(8),h++)}c.push(m);try{a.append(fe.decode(m,oe.ISO88591))}catch(b){throw new Et("Platform does not support required encoding: "+b.message)}}static unrandomize255State(n,a){const c=149*a%255+1,h=n-c;return h>=0?h:h+256}}ln.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ln.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ln.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ln.TEXT_SHIFT2_SET_CHARS=ln.C40_SHIFT2_SET_CHARS,ln.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Rh{constructor(){this.rsDecoder=new Qt(ze.DATA_MATRIX_FIELD_256)}decode(n){const a=new ns(n),c=a.getVersion(),h=a.readCodewords(),u=rs.getDataBlocks(h,c);let p=0;for(let v of u)p+=v.getNumDataCodewords();const m=new Uint8Array(p),b=u.length;for(let v=0;v<b;v++){const A=u[v],E=A.getCodewords(),B=A.getNumDataCodewords();this.correctErrors(E,B);for(let z=0;z<B;z++)m[z*b+v]=E[z]}return ln.decode(m)}correctErrors(n,a){const c=new Int32Array(n);try{this.rsDecoder.decode(c,n.length-a)}catch(h){throw new j}for(let h=0;h<a;h++)n[h]=c[h]}}class Gt{constructor(n){this.image=n,this.rectangleDetector=new q(this.image)}detect(){const n=this.rectangleDetector.detect();let a=this.detectSolid1(n);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new Q;a=this.shiftToModuleCenter(a);const c=a[0],h=a[1],u=a[2],p=a[3];let m=this.transitionsBetween(c,p)+1,b=this.transitionsBetween(u,p)+1;(m&1)===1&&(m+=1),(b&1)===1&&(b+=1),4*m<7*b&&4*b<7*m&&(m=b=Math.max(m,b));let v=Gt.sampleGrid(this.image,c,h,u,p,m,b);return new Te(v,[c,h,u,p])}static shiftPoint(n,a,c){let h=(a.getX()-n.getX())/(c+1),u=(a.getY()-n.getY())/(c+1);return new V(n.getX()+h,n.getY()+u)}static moveAway(n,a,c){let h=n.getX(),u=n.getY();return h<a?h-=1:h+=1,u<c?u-=1:u+=1,new V(h,u)}detectSolid1(n){let a=n[0],c=n[1],h=n[3],u=n[2],p=this.transitionsBetween(a,c),m=this.transitionsBetween(c,h),b=this.transitionsBetween(h,u),v=this.transitionsBetween(u,a),A=p,E=[u,a,c,h];return A>m&&(A=m,E[0]=a,E[1]=c,E[2]=h,E[3]=u),A>b&&(A=b,E[0]=c,E[1]=h,E[2]=u,E[3]=a),A>v&&(E[0]=h,E[1]=u,E[2]=a,E[3]=c),E}detectSolid2(n){let a=n[0],c=n[1],h=n[2],u=n[3],p=this.transitionsBetween(a,u),m=Gt.shiftPoint(c,h,(p+1)*4),b=Gt.shiftPoint(h,c,(p+1)*4),v=this.transitionsBetween(m,a),A=this.transitionsBetween(b,u);return v<A?(n[0]=a,n[1]=c,n[2]=h,n[3]=u):(n[0]=c,n[1]=h,n[2]=u,n[3]=a),n}correctTopRight(n){let a=n[0],c=n[1],h=n[2],u=n[3],p=this.transitionsBetween(a,u),m=this.transitionsBetween(c,u),b=Gt.shiftPoint(a,c,(m+1)*4),v=Gt.shiftPoint(h,c,(p+1)*4);p=this.transitionsBetween(b,u),m=this.transitionsBetween(v,u);let A=new V(u.getX()+(h.getX()-c.getX())/(p+1),u.getY()+(h.getY()-c.getY())/(p+1)),E=new V(u.getX()+(a.getX()-c.getX())/(m+1),u.getY()+(a.getY()-c.getY())/(m+1));if(!this.isValid(A))return this.isValid(E)?E:null;if(!this.isValid(E))return A;let B=this.transitionsBetween(b,A)+this.transitionsBetween(v,A),z=this.transitionsBetween(b,E)+this.transitionsBetween(v,E);return B>z?A:E}shiftToModuleCenter(n){let a=n[0],c=n[1],h=n[2],u=n[3],p=this.transitionsBetween(a,u)+1,m=this.transitionsBetween(h,u)+1,b=Gt.shiftPoint(a,c,m*4),v=Gt.shiftPoint(h,c,p*4);p=this.transitionsBetween(b,u)+1,m=this.transitionsBetween(v,u)+1,(p&1)===1&&(p+=1),(m&1)===1&&(m+=1);let A=(a.getX()+c.getX()+h.getX()+u.getX())/4,E=(a.getY()+c.getY()+h.getY()+u.getY())/4;a=Gt.moveAway(a,A,E),c=Gt.moveAway(c,A,E),h=Gt.moveAway(h,A,E),u=Gt.moveAway(u,A,E);let B,z;return b=Gt.shiftPoint(a,c,m*4),b=Gt.shiftPoint(b,u,p*4),B=Gt.shiftPoint(c,a,m*4),B=Gt.shiftPoint(B,h,p*4),v=Gt.shiftPoint(h,u,m*4),v=Gt.shiftPoint(v,c,p*4),z=Gt.shiftPoint(u,h,m*4),z=Gt.shiftPoint(z,a,p*4),[b,B,v,z]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,a,c,h,u,p,m){return Ft.getInstance().sampleGrid(n,p,m,.5,.5,p-.5,.5,p-.5,m-.5,.5,m-.5,a.getX(),a.getY(),u.getX(),u.getY(),h.getX(),h.getY(),c.getX(),c.getY())}transitionsBetween(n,a){let c=Math.trunc(n.getX()),h=Math.trunc(n.getY()),u=Math.trunc(a.getX()),p=Math.trunc(a.getY()),m=Math.abs(p-h)>Math.abs(u-c);if(m){let X=c;c=h,h=X,X=u,u=p,p=X}let b=Math.abs(u-c),v=Math.abs(p-h),A=-b/2,E=h<p?1:-1,B=c<u?1:-1,z=0,H=this.image.get(m?h:c,m?c:h);for(let X=c,te=h;X!==u;X+=B){let re=this.image.get(m?te:X,m?X:te);if(re!==H&&(z++,H=re),A+=v,A>0){if(te===p)break;te+=E,A-=b}}return z}}class cn{constructor(){this.decoder=new Rh}decode(n,a=null){let c,h;if(a!=null&&a.has(W.PURE_BARCODE)){const v=cn.extractPureBits(n.getBlackMatrix());c=this.decoder.decode(v),h=cn.NO_POINTS}else{const v=new Gt(n.getBlackMatrix()).detect();c=this.decoder.decode(v.getBits()),h=v.getPoints()}const u=c.getRawBytes(),p=new Ue(c.getText(),u,8*u.length,h,we.DATA_MATRIX,R.currentTimeMillis()),m=c.getByteSegments();m!=null&&p.putMetadata(Xe.BYTE_SEGMENTS,m);const b=c.getECLevel();return b!=null&&p.putMetadata(Xe.ERROR_CORRECTION_LEVEL,b),p}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),c=n.getBottomRightOnBit();if(a==null||c==null)throw new Q;const h=this.moduleSize(a,n);let u=a[1];const p=c[1];let m=a[0];const v=(c[0]-m+1)/h,A=(p-u+1)/h;if(v<=0||A<=0)throw new Q;const E=h/2;u+=E,m+=E;const B=new Se(v,A);for(let z=0;z<A;z++){const H=u+z*h;for(let X=0;X<v;X++)n.get(m+X*h,H)&&B.set(X,z)}return B}static moduleSize(n,a){const c=a.getWidth();let h=n[0];const u=n[1];for(;h<c&&a.get(h,u);)h++;if(h===c)throw new Q;const p=h-n[0];if(p===0)throw new Q;return p}}cn.NO_POINTS=[];class Ih extends Oe{constructor(n=500){super(new cn,n)}}var Fn;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Fn||(Fn={}));class At{constructor(n,a,c){this.value=n,this.stringValue=a,this.bits=c,At.FOR_BITS.set(c,this),At.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new w(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof At))return!1;const a=n;return this.value===a.value}static forBits(n){if(n<0||n>=At.FOR_BITS.size)throw new C;return At.FOR_BITS.get(n)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(Fn.L,"L",1),At.M=new At(Fn.M,"M",0),At.Q=new At(Fn.Q,"Q",3),At.H=new At(Fn.H,"H",2);class di{constructor(n){this.errorCorrectionLevel=At.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,a){return M.bitCount(n^a)}static decodeFormatInformation(n,a){const c=di.doDecodeFormatInformation(n,a);return c!==null?c:di.doDecodeFormatInformation(n^di.FORMAT_INFO_MASK_QR,a^di.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,a){let c=Number.MAX_SAFE_INTEGER,h=0;for(const u of di.FORMAT_INFO_DECODE_LOOKUP){const p=u[0];if(p===n||p===a)return new di(u[1]);let m=di.numBitsDiffering(n,p);m<c&&(h=u[1],c=m),n!==a&&(m=di.numBitsDiffering(a,p),m<c&&(h=u[1],c=m))}return c<=3?new di(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof di))return!1;const a=n;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}di.FORMAT_INFO_MASK_QR=21522,di.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ie{constructor(n,...a){this.ecCodewordsPerBlock=n,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const a=this.ecBlocks;for(const c of a)n+=c.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(n,a,...c){this.versionNumber=n,this.alignmentPatternCenters=a,this.ecBlocks=c;let h=0;const u=c[0].getECCodewordsPerBlock(),p=c[0].getECBlocks();for(const m of p)h+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new I;try{return this.getVersionForNumber((n-17)/4)}catch(a){throw new I}}static getVersionForNumber(n){if(n<1||n>40)throw new C;return Re.VERSIONS[n-1]}static decodeVersionInformation(n){let a=Number.MAX_SAFE_INTEGER,c=0;for(let h=0;h<Re.VERSION_DECODE_INFO.length;h++){const u=Re.VERSION_DECODE_INFO[h];if(u===n)return Re.getVersionForNumber(h+7);const p=di.numBitsDiffering(n,u);p<a&&(c=h+7,a=p)}return a<=3?Re.getVersionForNumber(c):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),a=new Se(n);a.setRegion(0,0,9,9),a.setRegion(n-8,0,8,9),a.setRegion(0,n-8,9,8);const c=this.alignmentPatternCenters.length;for(let h=0;h<c;h++){const u=this.alignmentPatternCenters[h]-2;for(let p=0;p<c;p++)h===0&&(p===0||p===c-1)||h===c-1&&p===0||a.setRegion(this.alignmentPatternCenters[p]-2,u,5,5)}return a.setRegion(6,9,1,n-17),a.setRegion(9,6,n-17,1),this.versionNumber>6&&(a.setRegion(n-11,0,3,6),a.setRegion(0,n-11,6,3)),a}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new ie(7,new N(1,19)),new ie(10,new N(1,16)),new ie(13,new N(1,13)),new ie(17,new N(1,9))),new Re(2,Int32Array.from([6,18]),new ie(10,new N(1,34)),new ie(16,new N(1,28)),new ie(22,new N(1,22)),new ie(28,new N(1,16))),new Re(3,Int32Array.from([6,22]),new ie(15,new N(1,55)),new ie(26,new N(1,44)),new ie(18,new N(2,17)),new ie(22,new N(2,13))),new Re(4,Int32Array.from([6,26]),new ie(20,new N(1,80)),new ie(18,new N(2,32)),new ie(26,new N(2,24)),new ie(16,new N(4,9))),new Re(5,Int32Array.from([6,30]),new ie(26,new N(1,108)),new ie(24,new N(2,43)),new ie(18,new N(2,15),new N(2,16)),new ie(22,new N(2,11),new N(2,12))),new Re(6,Int32Array.from([6,34]),new ie(18,new N(2,68)),new ie(16,new N(4,27)),new ie(24,new N(4,19)),new ie(28,new N(4,15))),new Re(7,Int32Array.from([6,22,38]),new ie(20,new N(2,78)),new ie(18,new N(4,31)),new ie(18,new N(2,14),new N(4,15)),new ie(26,new N(4,13),new N(1,14))),new Re(8,Int32Array.from([6,24,42]),new ie(24,new N(2,97)),new ie(22,new N(2,38),new N(2,39)),new ie(22,new N(4,18),new N(2,19)),new ie(26,new N(4,14),new N(2,15))),new Re(9,Int32Array.from([6,26,46]),new ie(30,new N(2,116)),new ie(22,new N(3,36),new N(2,37)),new ie(20,new N(4,16),new N(4,17)),new ie(24,new N(4,12),new N(4,13))),new Re(10,Int32Array.from([6,28,50]),new ie(18,new N(2,68),new N(2,69)),new ie(26,new N(4,43),new N(1,44)),new ie(24,new N(6,19),new N(2,20)),new ie(28,new N(6,15),new N(2,16))),new Re(11,Int32Array.from([6,30,54]),new ie(20,new N(4,81)),new ie(30,new N(1,50),new N(4,51)),new ie(28,new N(4,22),new N(4,23)),new ie(24,new N(3,12),new N(8,13))),new Re(12,Int32Array.from([6,32,58]),new ie(24,new N(2,92),new N(2,93)),new ie(22,new N(6,36),new N(2,37)),new ie(26,new N(4,20),new N(6,21)),new ie(28,new N(7,14),new N(4,15))),new Re(13,Int32Array.from([6,34,62]),new ie(26,new N(4,107)),new ie(22,new N(8,37),new N(1,38)),new ie(24,new N(8,20),new N(4,21)),new ie(22,new N(12,11),new N(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new ie(30,new N(3,115),new N(1,116)),new ie(24,new N(4,40),new N(5,41)),new ie(20,new N(11,16),new N(5,17)),new ie(24,new N(11,12),new N(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new ie(22,new N(5,87),new N(1,88)),new ie(24,new N(5,41),new N(5,42)),new ie(30,new N(5,24),new N(7,25)),new ie(24,new N(11,12),new N(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new ie(24,new N(5,98),new N(1,99)),new ie(28,new N(7,45),new N(3,46)),new ie(24,new N(15,19),new N(2,20)),new ie(30,new N(3,15),new N(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new ie(28,new N(1,107),new N(5,108)),new ie(28,new N(10,46),new N(1,47)),new ie(28,new N(1,22),new N(15,23)),new ie(28,new N(2,14),new N(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new ie(30,new N(5,120),new N(1,121)),new ie(26,new N(9,43),new N(4,44)),new ie(28,new N(17,22),new N(1,23)),new ie(28,new N(2,14),new N(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new ie(28,new N(3,113),new N(4,114)),new ie(26,new N(3,44),new N(11,45)),new ie(26,new N(17,21),new N(4,22)),new ie(26,new N(9,13),new N(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new ie(28,new N(3,107),new N(5,108)),new ie(26,new N(3,41),new N(13,42)),new ie(30,new N(15,24),new N(5,25)),new ie(28,new N(15,15),new N(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new ie(28,new N(4,116),new N(4,117)),new ie(26,new N(17,42)),new ie(28,new N(17,22),new N(6,23)),new ie(30,new N(19,16),new N(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new ie(28,new N(2,111),new N(7,112)),new ie(28,new N(17,46)),new ie(30,new N(7,24),new N(16,25)),new ie(24,new N(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new ie(30,new N(4,121),new N(5,122)),new ie(28,new N(4,47),new N(14,48)),new ie(30,new N(11,24),new N(14,25)),new ie(30,new N(16,15),new N(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new ie(30,new N(6,117),new N(4,118)),new ie(28,new N(6,45),new N(14,46)),new ie(30,new N(11,24),new N(16,25)),new ie(30,new N(30,16),new N(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new ie(26,new N(8,106),new N(4,107)),new ie(28,new N(8,47),new N(13,48)),new ie(30,new N(7,24),new N(22,25)),new ie(30,new N(22,15),new N(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new ie(28,new N(10,114),new N(2,115)),new ie(28,new N(19,46),new N(4,47)),new ie(28,new N(28,22),new N(6,23)),new ie(30,new N(33,16),new N(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new ie(30,new N(8,122),new N(4,123)),new ie(28,new N(22,45),new N(3,46)),new ie(30,new N(8,23),new N(26,24)),new ie(30,new N(12,15),new N(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new ie(30,new N(3,117),new N(10,118)),new ie(28,new N(3,45),new N(23,46)),new ie(30,new N(4,24),new N(31,25)),new ie(30,new N(11,15),new N(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new ie(30,new N(7,116),new N(7,117)),new ie(28,new N(21,45),new N(7,46)),new ie(30,new N(1,23),new N(37,24)),new ie(30,new N(19,15),new N(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new ie(30,new N(5,115),new N(10,116)),new ie(28,new N(19,47),new N(10,48)),new ie(30,new N(15,24),new N(25,25)),new ie(30,new N(23,15),new N(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new ie(30,new N(13,115),new N(3,116)),new ie(28,new N(2,46),new N(29,47)),new ie(30,new N(42,24),new N(1,25)),new ie(30,new N(23,15),new N(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new ie(30,new N(17,115)),new ie(28,new N(10,46),new N(23,47)),new ie(30,new N(10,24),new N(35,25)),new ie(30,new N(19,15),new N(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new ie(30,new N(17,115),new N(1,116)),new ie(28,new N(14,46),new N(21,47)),new ie(30,new N(29,24),new N(19,25)),new ie(30,new N(11,15),new N(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new ie(30,new N(13,115),new N(6,116)),new ie(28,new N(14,46),new N(23,47)),new ie(30,new N(44,24),new N(7,25)),new ie(30,new N(59,16),new N(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new ie(30,new N(12,121),new N(7,122)),new ie(28,new N(12,47),new N(26,48)),new ie(30,new N(39,24),new N(14,25)),new ie(30,new N(22,15),new N(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new ie(30,new N(6,121),new N(14,122)),new ie(28,new N(6,47),new N(34,48)),new ie(30,new N(46,24),new N(10,25)),new ie(30,new N(2,15),new N(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new ie(30,new N(17,122),new N(4,123)),new ie(28,new N(29,46),new N(14,47)),new ie(30,new N(49,24),new N(10,25)),new ie(30,new N(24,15),new N(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new ie(30,new N(4,122),new N(18,123)),new ie(28,new N(13,46),new N(32,47)),new ie(30,new N(48,24),new N(14,25)),new ie(30,new N(42,15),new N(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new ie(30,new N(20,117),new N(4,118)),new ie(28,new N(40,47),new N(7,48)),new ie(30,new N(43,24),new N(22,25)),new ie(30,new N(10,15),new N(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new ie(30,new N(19,118),new N(6,119)),new ie(28,new N(18,47),new N(31,48)),new ie(30,new N(34,24),new N(34,25)),new ie(30,new N(20,15),new N(61,16)))];var ri;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(ri||(ri={}));class Ri{constructor(n,a){this.value=n,this.isMasked=a}unmaskBitMatrix(n,a){for(let c=0;c<a;c++)for(let h=0;h<a;h++)this.isMasked(c,h)&&n.flip(h,c)}}Ri.values=new Map([[ri.DATA_MASK_000,new Ri(ri.DATA_MASK_000,(_,n)=>(_+n&1)===0)],[ri.DATA_MASK_001,new Ri(ri.DATA_MASK_001,(_,n)=>(_&1)===0)],[ri.DATA_MASK_010,new Ri(ri.DATA_MASK_010,(_,n)=>n%3===0)],[ri.DATA_MASK_011,new Ri(ri.DATA_MASK_011,(_,n)=>(_+n)%3===0)],[ri.DATA_MASK_100,new Ri(ri.DATA_MASK_100,(_,n)=>(Math.floor(_/2)+Math.floor(n/3)&1)===0)],[ri.DATA_MASK_101,new Ri(ri.DATA_MASK_101,(_,n)=>_*n%6===0)],[ri.DATA_MASK_110,new Ri(ri.DATA_MASK_110,(_,n)=>_*n%6<3)],[ri.DATA_MASK_111,new Ri(ri.DATA_MASK_111,(_,n)=>(_+n+_*n%3&1)===0)]]);class Bh{constructor(n){const a=n.getHeight();if(a<21||(a&3)!==1)throw new I;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const a=this.bitMatrix.getHeight();let c=0;const h=a-7;for(let u=a-1;u>=h;u--)c=this.copyBit(8,u,c);for(let u=a-8;u<a;u++)c=this.copyBit(u,8,c);if(this.parsedFormatInfo=di.decodeFormatInformation(n,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new I}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),a=Math.floor((n-17)/4);if(a<=6)return Re.getVersionForNumber(a);let c=0;const h=n-11;for(let p=5;p>=0;p--)for(let m=n-9;m>=h;m--)c=this.copyBit(m,p,c);let u=Re.decodeVersionInformation(c);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;c=0;for(let p=5;p>=0;p--)for(let m=n-9;m>=h;m--)c=this.copyBit(p,m,c);if(u=Re.decodeVersionInformation(c),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new I}copyBit(n,a,c){return(this.isMirror?this.bitMatrix.get(a,n):this.bitMatrix.get(n,a))?c<<1|1:c<<1}readCodewords(){const n=this.readFormatInformation(),a=this.readVersion(),c=Ri.values.get(n.getDataMask()),h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h);const u=a.buildFunctionPattern();let p=!0;const m=new Uint8Array(a.getTotalCodewords());let b=0,v=0,A=0;for(let E=h-1;E>0;E-=2){E===6&&E--;for(let B=0;B<h;B++){const z=p?h-1-B:B;for(let H=0;H<2;H++)u.get(E-H,z)||(A++,v<<=1,this.bitMatrix.get(E-H,z)&&(v|=1),A===8&&(m[b++]=v,A=0,v=0))}p=!p}if(b!==a.getTotalCodewords())throw new I;return m}remask(){if(this.parsedFormatInfo===null)return;const n=Ri.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let a=0,c=n.getWidth();a<c;a++)for(let h=a+1,u=n.getHeight();h<u;h++)n.get(a,h)!==n.get(h,a)&&(n.flip(h,a),n.flip(a,h))}}class ss{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a,c){if(n.length!==a.getTotalCodewords())throw new C;const h=a.getECBlocksForLevel(c);let u=0;const p=h.getECBlocks();for(const H of p)u+=H.getCount();const m=new Array(u);let b=0;for(const H of p)for(let X=0;X<H.getCount();X++){const te=H.getDataCodewords(),re=h.getECCodewordsPerBlock()+te;m[b++]=new ss(te,new Uint8Array(re))}const v=m[0].codewords.length;let A=m.length-1;for(;A>=0&&m[A].codewords.length!==v;)A--;A++;const E=v-h.getECCodewordsPerBlock();let B=0;for(let H=0;H<E;H++)for(let X=0;X<b;X++)m[X].codewords[H]=n[B++];for(let H=A;H<b;H++)m[H].codewords[E]=n[B++];const z=m[0].codewords.length;for(let H=E;H<z;H++)for(let X=0;X<b;X++){const te=X<A?H:H+1;m[X].codewords[te]=n[B++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ii;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Ii||(Ii={}));class Ne{constructor(n,a,c,h){this.value=n,this.stringValue=a,this.characterCountBitsForVersions=c,this.bits=h,Ne.FOR_BITS.set(h,this),Ne.FOR_VALUE.set(n,this)}static forBits(n){const a=Ne.FOR_BITS.get(n);if(a===void 0)throw new C;return a}getCharacterCountBits(n){const a=n.getVersionNumber();let c;return a<=9?c=0:a<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Ne))return!1;const a=n;return this.value===a.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(Ii.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(Ii.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(Ii.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(Ii.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(Ii.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(Ii.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(Ii.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(Ii.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(Ii.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(Ii.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Pt{static decode(n,a,c,h){const u=new os(n);let p=new ve;const m=new Array;let b=-1,v=-1;try{let A=null,E=!1,B;do{if(u.available()<4)B=Ne.TERMINATOR;else{const z=u.readBits(4);B=Ne.forBits(z)}switch(B){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:E=!0;break;case Ne.STRUCTURED_APPEND:if(u.available()<16)throw new I;b=u.readBits(8),v=u.readBits(8);break;case Ne.ECI:const z=Pt.parseECIValue(u);if(A=J.getCharacterSetECIByValue(z),A===null)throw new I;break;case Ne.HANZI:const H=u.readBits(4),X=u.readBits(B.getCharacterCountBits(a));H===Pt.GB2312_SUBSET&&Pt.decodeHanziSegment(u,p,X);break;default:const te=u.readBits(B.getCharacterCountBits(a));switch(B){case Ne.NUMERIC:Pt.decodeNumericSegment(u,p,te);break;case Ne.ALPHANUMERIC:Pt.decodeAlphanumericSegment(u,p,te,E);break;case Ne.BYTE:Pt.decodeByteSegment(u,p,te,A,m,h);break;case Ne.KANJI:Pt.decodeKanjiSegment(u,p,te);break;default:throw new I}break}}while(B!==Ne.TERMINATOR)}catch(A){throw new I}return new _t(n,p.toString(),m.length===0?null:m,c===null?null:c.toString(),b,v)}static decodeHanziSegment(n,a,c){if(c*13>n.available())throw new I;const h=new Uint8Array(2*c);let u=0;for(;c>0;){const p=n.readBits(13);let m=p/96<<8&4294967295|p%96;m<959?m+=41377:m+=42657,h[u]=m>>8&255,h[u+1]=m&255,u+=2,c--}try{a.append(fe.decode(h,oe.GB2312))}catch(p){throw new I(p)}}static decodeKanjiSegment(n,a,c){if(c*13>n.available())throw new I;const h=new Uint8Array(2*c);let u=0;for(;c>0;){const p=n.readBits(13);let m=p/192<<8&4294967295|p%192;m<7936?m+=33088:m+=49472,h[u]=m>>8,h[u+1]=m,u+=2,c--}try{a.append(fe.decode(h,oe.SHIFT_JIS))}catch(p){throw new I(p)}}static decodeByteSegment(n,a,c,h,u,p){if(8*c>n.available())throw new I;const m=new Uint8Array(c);for(let v=0;v<c;v++)m[v]=n.readBits(8);let b;h===null?b=oe.guessEncoding(m,p):b=h.getName();try{a.append(fe.decode(m,b))}catch(v){throw new I(v)}u.push(m)}static toAlphaNumericChar(n){if(n>=Pt.ALPHANUMERIC_CHARS.length)throw new I;return Pt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,a,c,h){const u=a.length();for(;c>1;){if(n.available()<11)throw new I;const p=n.readBits(11);a.append(Pt.toAlphaNumericChar(Math.floor(p/45))),a.append(Pt.toAlphaNumericChar(p%45)),c-=2}if(c===1){if(n.available()<6)throw new I;a.append(Pt.toAlphaNumericChar(n.readBits(6)))}if(h)for(let p=u;p<a.length();p++)a.charAt(p)==="%"&&(p<a.length()-1&&a.charAt(p+1)==="%"?a.deleteCharAt(p+1):a.setCharAt(p,""))}static decodeNumericSegment(n,a,c){for(;c>=3;){if(n.available()<10)throw new I;const h=n.readBits(10);if(h>=1e3)throw new I;a.append(Pt.toAlphaNumericChar(Math.floor(h/100))),a.append(Pt.toAlphaNumericChar(Math.floor(h/10)%10)),a.append(Pt.toAlphaNumericChar(h%10)),c-=3}if(c===2){if(n.available()<7)throw new I;const h=n.readBits(7);if(h>=100)throw new I;a.append(Pt.toAlphaNumericChar(Math.floor(h/10))),a.append(Pt.toAlphaNumericChar(h%10))}else if(c===1){if(n.available()<4)throw new I;const h=n.readBits(4);if(h>=10)throw new I;a.append(Pt.toAlphaNumericChar(h))}}static parseECIValue(n){const a=n.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const c=n.readBits(8);return(a&63)<<8&4294967295|c}if((a&224)===192){const c=n.readBits(16);return(a&31)<<16&4294967295|c}throw new I}}Pt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Pt.GB2312_SUBSET=1;class Na{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const a=n[0];n[0]=n[2],n[2]=a}}class Oh{constructor(){this.rsDecoder=new Qt(ze.QR_CODE_FIELD_256)}decodeBooleanArray(n,a){return this.decodeBitMatrix(Se.parseFromBooleanArray(n),a)}decodeBitMatrix(n,a){const c=new Bh(n);let h=null;try{return this.decodeBitMatrixParser(c,a)}catch(u){h=u}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const u=this.decodeBitMatrixParser(c,a);return u.setOther(new Na(!0)),u}catch(u){throw h!==null?h:u}}decodeBitMatrixParser(n,a){const c=n.readVersion(),h=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),p=ss.getDataBlocks(u,c,h);let m=0;for(const A of p)m+=A.getNumDataCodewords();const b=new Uint8Array(m);let v=0;for(const A of p){const E=A.getCodewords(),B=A.getNumDataCodewords();this.correctErrors(E,B);for(let z=0;z<B;z++)b[v++]=E[z]}return Pt.decode(b,c,h,a)}correctErrors(n,a){const c=new Int32Array(n);try{this.rsDecoder.decode(c,n.length-a)}catch(h){throw new j}for(let h=0;h<a;h++)n[h]=c[h]}}class as extends V{constructor(n,a,c){super(n,a),this.estimatedModuleSize=c}aboutEquals(n,a,c){if(Math.abs(a-this.getY())<=n&&Math.abs(c-this.getX())<=n){const h=Math.abs(n-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(n,a,c){const h=(this.getX()+a)/2,u=(this.getY()+n)/2,p=(this.estimatedModuleSize+c)/2;return new as(h,u,p)}}class Yr{constructor(n,a,c,h,u,p,m){this.image=n,this.startX=a,this.startY=c,this.width=h,this.height=u,this.moduleSize=p,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,a=this.height,c=this.width,h=n+c,u=this.startY+a/2,p=new Int32Array(3),m=this.image;for(let b=0;b<a;b++){const v=u+((b&1)===0?Math.floor((b+1)/2):-Math.floor((b+1)/2));p[0]=0,p[1]=0,p[2]=0;let A=n;for(;A<h&&!m.get(A,v);)A++;let E=0;for(;A<h;){if(m.get(A,v))if(E===1)p[1]++;else if(E===2){if(this.foundPatternCross(p)){const B=this.handlePossibleCenter(p,v,A);if(B!==null)return B}p[0]=p[2],p[1]=1,p[2]=0,E=1}else p[++E]++;else E===1&&E++,p[E]++;A++}if(this.foundPatternCross(p)){const B=this.handlePossibleCenter(p,v,h);if(B!==null)return B}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(n,a){return a-n[2]-n[1]/2}foundPatternCross(n){const a=this.moduleSize,c=a/2;for(let h=0;h<3;h++)if(Math.abs(a-n[h])>=c)return!1;return!0}crossCheckVertical(n,a,c,h){const u=this.image,p=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let b=n;for(;b>=0&&u.get(a,b)&&m[1]<=c;)m[1]++,b--;if(b<0||m[1]>c)return NaN;for(;b>=0&&!u.get(a,b)&&m[0]<=c;)m[0]++,b--;if(m[0]>c)return NaN;for(b=n+1;b<p&&u.get(a,b)&&m[1]<=c;)m[1]++,b++;if(b===p||m[1]>c)return NaN;for(;b<p&&!u.get(a,b)&&m[2]<=c;)m[2]++,b++;if(m[2]>c)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-h)>=2*h?NaN:this.foundPatternCross(m)?Yr.centerFromEnd(m,b):NaN}handlePossibleCenter(n,a,c){const h=n[0]+n[1]+n[2],u=Yr.centerFromEnd(n,c),p=this.crossCheckVertical(a,u,2*n[1],h);if(!isNaN(p)){const m=(n[0]+n[1]+n[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,p,u))return v.combineEstimate(p,u,m);const b=new as(u,p,m);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class ls extends V{constructor(n,a,c,h){super(n,a),this.estimatedModuleSize=c,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,a,c){if(Math.abs(a-this.getY())<=n&&Math.abs(c-this.getX())<=n){const h=Math.abs(n-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(n,a,c){const h=this.count+1,u=(this.count*this.getX()+a)/h,p=(this.count*this.getY()+n)/h,m=(this.count*this.estimatedModuleSize+c)/h;return new ls(u,p,m,h)}}class Nh{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class oi{constructor(n,a){this.image=n,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const a=n!=null&&n.get(W.TRY_HARDER)!==void 0,c=n!=null&&n.get(W.PURE_BARCODE)!==void 0,h=this.image,u=h.getHeight(),p=h.getWidth();let m=Math.floor(3*u/(4*oi.MAX_MODULES));(m<oi.MIN_SKIP||a)&&(m=oi.MIN_SKIP);let b=!1;const v=new Int32Array(5);for(let E=m-1;E<u&&!b;E+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let B=0;for(let z=0;z<p;z++)if(h.get(z,E))(B&1)===1&&B++,v[B]++;else if((B&1)===0)if(B===4)if(oi.foundPatternCross(v)){if(this.handlePossibleCenter(v,E,z,c)===!0)if(m=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>v[2]&&(E+=X-v[2]-m,z=p-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,B=3;continue}B=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,B=3;else v[++B]++;else v[B]++;oi.foundPatternCross(v)&&this.handlePossibleCenter(v,E,p,c)===!0&&(m=v[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return V.orderBestPatterns(A),new Nh(A)}static centerFromEnd(n,a){return a-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let a=0;for(let u=0;u<5;u++){const p=n[u];if(p===0)return!1;a+=p}if(a<7)return!1;const c=a/7,h=c/2;return Math.abs(c-n[0])<h&&Math.abs(c-n[1])<h&&Math.abs(3*c-n[2])<3*h&&Math.abs(c-n[3])<h&&Math.abs(c-n[4])<h}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,a,c,h){const u=this.getCrossCheckStateCount();let p=0;const m=this.image;for(;n>=p&&a>=p&&m.get(a-p,n-p);)u[2]++,p++;if(n<p||a<p)return!1;for(;n>=p&&a>=p&&!m.get(a-p,n-p)&&u[1]<=c;)u[1]++,p++;if(n<p||a<p||u[1]>c)return!1;for(;n>=p&&a>=p&&m.get(a-p,n-p)&&u[0]<=c;)u[0]++,p++;if(u[0]>c)return!1;const b=m.getHeight(),v=m.getWidth();for(p=1;n+p<b&&a+p<v&&m.get(a+p,n+p);)u[2]++,p++;if(n+p>=b||a+p>=v)return!1;for(;n+p<b&&a+p<v&&!m.get(a+p,n+p)&&u[3]<c;)u[3]++,p++;if(n+p>=b||a+p>=v||u[3]>=c)return!1;for(;n+p<b&&a+p<v&&m.get(a+p,n+p)&&u[4]<c;)u[4]++,p++;if(u[4]>=c)return!1;const A=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(A-h)<2*h&&oi.foundPatternCross(u)}crossCheckVertical(n,a,c,h){const u=this.image,p=u.getHeight(),m=this.getCrossCheckStateCount();let b=n;for(;b>=0&&u.get(a,b);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(a,b)&&m[1]<=c;)m[1]++,b--;if(b<0||m[1]>c)return NaN;for(;b>=0&&u.get(a,b)&&m[0]<=c;)m[0]++,b--;if(m[0]>c)return NaN;for(b=n+1;b<p&&u.get(a,b);)m[2]++,b++;if(b===p)return NaN;for(;b<p&&!u.get(a,b)&&m[3]<c;)m[3]++,b++;if(b===p||m[3]>=c)return NaN;for(;b<p&&u.get(a,b)&&m[4]<c;)m[4]++,b++;if(m[4]>=c)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-h)>=2*h?NaN:oi.foundPatternCross(m)?oi.centerFromEnd(m,b):NaN}crossCheckHorizontal(n,a,c,h){const u=this.image,p=u.getWidth(),m=this.getCrossCheckStateCount();let b=n;for(;b>=0&&u.get(b,a);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(b,a)&&m[1]<=c;)m[1]++,b--;if(b<0||m[1]>c)return NaN;for(;b>=0&&u.get(b,a)&&m[0]<=c;)m[0]++,b--;if(m[0]>c)return NaN;for(b=n+1;b<p&&u.get(b,a);)m[2]++,b++;if(b===p)return NaN;for(;b<p&&!u.get(b,a)&&m[3]<c;)m[3]++,b++;if(b===p||m[3]>=c)return NaN;for(;b<p&&u.get(b,a)&&m[4]<c;)m[4]++,b++;if(m[4]>=c)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-h)>=h?NaN:oi.foundPatternCross(m)?oi.centerFromEnd(m,b):NaN}handlePossibleCenter(n,a,c,h){const u=n[0]+n[1]+n[2]+n[3]+n[4];let p=oi.centerFromEnd(n,c),m=this.crossCheckVertical(a,Math.floor(p),n[2],u);if(!isNaN(m)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(m),n[2],u),!isNaN(p)&&(!h||this.crossCheckDiagonal(Math.floor(m),Math.floor(p),n[2],u)))){const b=u/7;let v=!1;const A=this.possibleCenters;for(let E=0,B=A.length;E<B;E++){const z=A[E];if(z.aboutEquals(b,m,p)){A[E]=z.combineEstimate(m,p,b),v=!0;break}}if(!v){const E=new ls(p,m,b);A.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const c of this.possibleCenters)if(c.getCount()>=oi.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,a=0;const c=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=oi.CENTER_QUORUM&&(n++,a+=p.getEstimatedModuleSize());if(n<3)return!1;const h=a/c;let u=0;for(const p of this.possibleCenters)u+=Math.abs(p.getEstimatedModuleSize()-h);return u<=.05*a}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Q;const a=this.possibleCenters;let c;if(n>3){let h=0,u=0;for(const b of this.possibleCenters){const v=b.getEstimatedModuleSize();h+=v,u+=v*v}c=h/n;let p=Math.sqrt(u/n-c*c);a.sort((b,v)=>{const A=Math.abs(v.getEstimatedModuleSize()-c),E=Math.abs(b.getEstimatedModuleSize()-c);return A<E?-1:A>E?1:0});const m=Math.max(.2*c,p);for(let b=0;b<a.length&&a.length>3;b++){const v=a[b];Math.abs(v.getEstimatedModuleSize()-c)>m&&(a.splice(b,1),b--)}}if(a.length>3){let h=0;for(const u of a)h+=u.getEstimatedModuleSize();c=h/a.length,a.sort((u,p)=>{if(p.getCount()===u.getCount()){const m=Math.abs(p.getEstimatedModuleSize()-c),b=Math.abs(u.getEstimatedModuleSize()-c);return m<b?1:m>b?-1:0}else return p.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}oi.CENTER_QUORUM=2,oi.MIN_SKIP=3,oi.MAX_MODULES=57;class sr{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(W.NEED_RESULT_POINT_CALLBACK);const c=new oi(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(c)}processFinderPatternInfo(n){const a=n.getTopLeft(),c=n.getTopRight(),h=n.getBottomLeft(),u=this.calculateModuleSize(a,c,h);if(u<1)throw new Q("No pattern found in proccess finder.");const p=sr.computeDimension(a,c,h,u),m=Re.getProvisionalVersionForDimension(p),b=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const z=c.getX()-a.getX()+h.getX(),H=c.getY()-a.getY()+h.getY(),X=1-3/b,te=Math.floor(a.getX()+X*(z-a.getX())),re=Math.floor(a.getY()+X*(H-a.getY()));for(let ue=4;ue<=16;ue<<=1)try{v=this.findAlignmentInRegion(u,te,re,ue);break}catch(pe){if(!(pe instanceof Q))throw pe}}const A=sr.createTransform(a,c,h,v,p),E=sr.sampleGrid(this.image,A,p);let B;return v===null?B=[h,a,c]:B=[h,a,c,v],new Te(E,B)}static createTransform(n,a,c,h,u){const p=u-3.5;let m,b,v,A;return h!==null?(m=h.getX(),b=h.getY(),v=p-3,A=v):(m=a.getX()-n.getX()+c.getX(),b=a.getY()-n.getY()+c.getY(),v=p,A=p),dt.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,v,A,3.5,p,n.getX(),n.getY(),a.getX(),a.getY(),m,b,c.getX(),c.getY())}static sampleGrid(n,a,c){return Ft.getInstance().sampleGridWithTransform(n,c,c,a)}static computeDimension(n,a,c,h){const u=Ie.round(V.distance(n,a)/h),p=Ie.round(V.distance(n,c)/h);let m=Math.floor((u+p)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new Q("Dimensions could be not found.")}return m}calculateModuleSize(n,a,c){return(this.calculateModuleSizeOneWay(n,a)+this.calculateModuleSizeOneWay(n,c))/2}calculateModuleSizeOneWay(n,a){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(a.getX()),Math.floor(a.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(c)?h/7:isNaN(h)?c/7:(c+h)/14}sizeOfBlackWhiteBlackRunBothWays(n,a,c,h){let u=this.sizeOfBlackWhiteBlackRun(n,a,c,h),p=1,m=n-(c-n);m<0?(p=n/(n-m),m=0):m>=this.image.getWidth()&&(p=(this.image.getWidth()-1-n)/(m-n),m=this.image.getWidth()-1);let b=Math.floor(a-(h-a)*p);return p=1,b<0?(p=a/(a-b),b=0):b>=this.image.getHeight()&&(p=(this.image.getHeight()-1-a)/(b-a),b=this.image.getHeight()-1),m=Math.floor(n+(m-n)*p),u+=this.sizeOfBlackWhiteBlackRun(n,a,m,b),u-1}sizeOfBlackWhiteBlackRun(n,a,c,h){const u=Math.abs(h-a)>Math.abs(c-n);if(u){let z=n;n=a,a=z,z=c,c=h,h=z}const p=Math.abs(c-n),m=Math.abs(h-a);let b=-p/2;const v=n<c?1:-1,A=a<h?1:-1;let E=0;const B=c+v;for(let z=n,H=a;z!==B;z+=v){const X=u?H:z,te=u?z:H;if(E===1===this.image.get(X,te)){if(E===2)return Ie.distance(z,H,n,a);E++}if(b+=m,b>0){if(H===h)break;H+=A,b-=p}}return E===2?Ie.distance(c+v,h,n,a):NaN}findAlignmentInRegion(n,a,c,h){const u=Math.floor(h*n),p=Math.max(0,a-u),m=Math.min(this.image.getWidth()-1,a+u);if(m-p<n*3)throw new Q("Alignment top exceeds estimated module size.");const b=Math.max(0,c-u),v=Math.min(this.image.getHeight()-1,c+u);if(v-b<n*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Yr(this.image,p,b,m-p,v-b,n,this.resultPointCallback).find()}}class dn{constructor(){this.decoder=new Oh}getDecoder(){return this.decoder}decode(n,a){let c,h;if(a!=null&&a.get(W.PURE_BARCODE)!==void 0){const b=dn.extractPureBits(n.getBlackMatrix());c=this.decoder.decodeBitMatrix(b,a),h=dn.NO_POINTS}else{const b=new sr(n.getBlackMatrix()).detect(a);c=this.decoder.decodeBitMatrix(b.getBits(),a),h=b.getPoints()}c.getOther()instanceof Na&&c.getOther().applyMirroredCorrection(h);const u=new Ue(c.getText(),c.getRawBytes(),void 0,h,we.QR_CODE,void 0),p=c.getByteSegments();p!==null&&u.putMetadata(Xe.BYTE_SEGMENTS,p);const m=c.getECLevel();return m!==null&&u.putMetadata(Xe.ERROR_CORRECTION_LEVEL,m),c.hasStructuredAppend()&&(u.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),u.putMetadata(Xe.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),c=n.getBottomRightOnBit();if(a===null||c===null)throw new Q;const h=this.moduleSize(a,n);let u=a[1],p=c[1],m=a[0],b=c[0];if(m>=b||u>=p)throw new Q;if(p-u!==b-m&&(b=m+(p-u),b>=n.getWidth()))throw new Q;const v=Math.round((b-m+1)/h),A=Math.round((p-u+1)/h);if(v<=0||A<=0)throw new Q;if(A!==v)throw new Q;const E=Math.floor(h/2);u+=E,m+=E;const B=m+Math.floor((v-1)*h)-b;if(B>0){if(B>E)throw new Q;m-=B}const z=u+Math.floor((A-1)*h)-p;if(z>0){if(z>E)throw new Q;u-=z}const H=new Se(v,A);for(let X=0;X<A;X++){const te=u+Math.floor(X*h);for(let re=0;re<v;re++)n.get(m+Math.floor(re*h),te)&&H.set(re,X)}return H}static moduleSize(n,a){const c=a.getHeight(),h=a.getWidth();let u=n[0],p=n[1],m=!0,b=0;for(;u<h&&p<c;){if(m!==a.get(u,p)){if(++b===5)break;m=!m}u++,p++}if(u===h||p===c)throw new Q;return(u-n[0])/7}}dn.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(n){return Ie.sum(n)}static toIntArray(n){if(n==null||!n.length)return Le.EMPTY_INT_ARRAY;const a=new Int32Array(n.length);let c=0;for(const h of n)a[c++]=h;return a}static getCodeword(n){const a=Y.binarySearch(Le.SYMBOL_TABLE,n&262143);return a<0?-1:(Le.CODEWORD_TABLE[a]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zh{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(n,a,c){let h=n.getBlackMatrix(),u=$e.detect(c,h);return u.length||(h=h.clone(),h.rotate180(),u=$e.detect(c,h)),new zh(h,u)}static detect(n,a){const c=new Array;let h=0,u=0,p=!1;for(;h<a.getHeight();){const m=$e.findVertices(a,h,u);if(m[0]==null&&m[3]==null){if(!p)break;p=!1,u=0;for(const b of c)b[1]!=null&&(h=Math.trunc(Math.max(h,b[1].getY()))),b[3]!=null&&(h=Math.max(h,Math.trunc(b[3].getY())));h+=$e.ROW_STEP;continue}if(p=!0,c.push(m),!n)break;m[2]!=null?(u=Math.trunc(m[2].getX()),h=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),h=Math.trunc(m[4].getY()))}return c}static findVertices(n,a,c){const h=n.getHeight(),u=n.getWidth(),p=new Array(8);return $e.copyToResult(p,$e.findRowsWithPattern(n,h,u,a,c,$e.START_PATTERN),$e.INDEXES_START_PATTERN),p[4]!=null&&(c=Math.trunc(p[4].getX()),a=Math.trunc(p[4].getY())),$e.copyToResult(p,$e.findRowsWithPattern(n,h,u,a,c,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),p}static copyToResult(n,a,c){for(let h=0;h<c.length;h++)n[c[h]]=a[h]}static findRowsWithPattern(n,a,c,h,u,p){const m=new Array(4);let b=!1;const v=new Int32Array(p.length);for(;h<a;h+=$e.ROW_STEP){let E=$e.findGuardPattern(n,u,h,c,!1,p,v);if(E!=null){for(;h>0;){const B=$e.findGuardPattern(n,u,--h,c,!1,p,v);if(B!=null)E=B;else{h++;break}}m[0]=new V(E[0],h),m[1]=new V(E[1],h),b=!0;break}}let A=h+1;if(b){let E=0,B=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;A<a;A++){const z=$e.findGuardPattern(n,B[0],A,c,!1,p,v);if(z!=null&&Math.abs(B[0]-z[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(B[1]-z[1])<$e.MAX_PATTERN_DRIFT)B=z,E=0;else{if(E>$e.SKIPPED_ROW_COUNT_MAX)break;E++}}A-=E+1,m[2]=new V(B[0],A),m[3]=new V(B[1],A)}return A-h<$e.BARCODE_MIN_HEIGHT&&Y.fill(m,null),m}static findGuardPattern(n,a,c,h,u,p,m){Y.fillWithin(m,0,m.length,0);let b=a,v=0;for(;n.get(b,c)&&b>0&&v++<$e.MAX_PIXEL_DRIFT;)b--;let A=b,E=0,B=p.length;for(let z=u;A<h;A++)if(n.get(A,c)!==z)m[E]++;else{if(E===B-1){if($e.patternMatchVariance(m,p,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([b,A]);b+=m[0]+m[1],R.arraycopy(m,2,m,0,E-1),m[E-1]=0,m[E]=0,E--}else E++;m[E]=1,z=!z}return E===B-1&&$e.patternMatchVariance(m,p,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([b,A-1]):null}static patternMatchVariance(n,a,c){let h=n.length,u=0,p=0;for(let v=0;v<h;v++)u+=n[v],p+=a[v];if(u<p)return 1/0;let m=u/p;c*=m;let b=0;for(let v=0;v<h;v++){let A=n[v],E=a[v]*m,B=A>E?A-E:E-A;if(B>c)return 1/0;b+=B}return b/u}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class ai{constructor(n,a){if(a.length===0)throw new C;this.field=n;let c=a.length;if(c>1&&a[0]===0){let h=1;for(;h<c&&a[h]===0;)h++;h===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-h),R.arraycopy(a,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let h=0;for(let u of this.coefficients)h=this.field.add(h,u);return h}let a=this.coefficients[0],c=this.coefficients.length;for(let h=1;h<c;h++)a=this.field.add(this.field.multiply(n,a),this.coefficients[h]);return a}add(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,c=n.coefficients;if(a.length>c.length){let p=a;a=c,c=p}let h=new Int32Array(c.length),u=c.length-a.length;R.arraycopy(c,0,h,0,u);for(let p=u;p<c.length;p++)h[p]=this.field.add(a[p-u],c[p]);return new ai(this.field,h)}subtract(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof ai?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new ai(this.field,new Int32Array([0]));let a=this.coefficients,c=a.length,h=n.coefficients,u=h.length,p=new Int32Array(c+u-1);for(let m=0;m<c;m++){let b=a[m];for(let v=0;v<u;v++)p[m+v]=this.field.add(p[m+v],this.field.multiply(b,h[v]))}return new ai(this.field,p)}negative(){let n=this.coefficients.length,a=new Int32Array(n);for(let c=0;c<n;c++)a[c]=this.field.subtract(0,this.coefficients[c]);return new ai(this.field,a)}multiplyScalar(n){if(n===0)return new ai(this.field,new Int32Array([0]));if(n===1)return this;let a=this.coefficients.length,c=new Int32Array(a);for(let h=0;h<a;h++)c[h]=this.field.multiply(this.coefficients[h],n);return new ai(this.field,c)}multiplyByMonomial(n,a){if(n<0)throw new C;if(a===0)return new ai(this.field,new Int32Array([0]));let c=this.coefficients.length,h=new Int32Array(c+n);for(let u=0;u<c;u++)h[u]=this.field.multiply(this.coefficients[u],a);return new ai(this.field,h)}toString(){let n=new ve;for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);c!==0&&(c<0?(n.append(" - "),c=-c):n.length()>0&&n.append(" + "),(a===0||c!==1)&&n.append(c),a!==0&&(a===1?n.append("x"):(n.append("x^"),n.append(a))))}return n.toString()}}class Ph{add(n,a){return(n+a)%this.modulus}subtract(n,a){return(this.modulus+n-a)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}inverse(n){if(n===0)throw new Zt;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class cs extends Ph{constructor(n,a){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let c=1;for(let h=0;h<n;h++)this.expTable[h]=c,c=c*a%n;for(let h=0;h<n-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new ai(this,new Int32Array([0])),this.one=new ai(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new C;if(a===0)return this.zero;let c=new Int32Array(n+1);return c[0]=a,new ai(this,c)}}cs.PDF417_GF=new cs(Le.NUMBER_OF_CODEWORDS,3);class za{constructor(){this.field=cs.PDF417_GF}decode(n,a,c){let h=new ai(this.field,n),u=new Int32Array(a),p=!1;for(let H=a;H>0;H--){let X=h.evaluateAt(this.field.exp(H));u[a-H]=X,X!==0&&(p=!0)}if(!p)return 0;let m=this.field.getOne();if(c!=null)for(const H of c){let X=this.field.exp(n.length-1-H),te=new ai(this.field,new Int32Array([this.field.subtract(0,X),1]));m=m.multiply(te)}let b=new ai(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),b,a),A=v[0],E=v[1],B=this.findErrorLocations(A),z=this.findErrorMagnitudes(E,A,B);for(let H=0;H<B.length;H++){let X=n.length-1-this.field.log(B[H]);if(X<0)throw j.getChecksumInstance();n[X]=this.field.subtract(n[X],z[H])}return B.length}runEuclideanAlgorithm(n,a,c){if(n.getDegree()<a.getDegree()){let B=n;n=a,a=B}let h=n,u=a,p=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(c/2);){let B=h,z=p;if(h=u,p=m,h.isZero())throw j.getChecksumInstance();u=B;let H=this.field.getZero(),X=h.getCoefficient(h.getDegree()),te=this.field.inverse(X);for(;u.getDegree()>=h.getDegree()&&!u.isZero();){let re=u.getDegree()-h.getDegree(),ue=this.field.multiply(u.getCoefficient(u.getDegree()),te);H=H.add(this.field.buildMonomial(re,ue)),u=u.subtract(h.multiplyByMonomial(re,ue))}m=H.multiply(p).subtract(z).negative()}let b=m.getCoefficient(0);if(b===0)throw j.getChecksumInstance();let v=this.field.inverse(b),A=m.multiply(v),E=u.multiply(v);return[A,E]}findErrorLocations(n){let a=n.getDegree(),c=new Int32Array(a),h=0;for(let u=1;u<this.field.getSize()&&h<a;u++)n.evaluateAt(u)===0&&(c[h]=this.field.inverse(u),h++);if(h!==a)throw j.getChecksumInstance();return c}findErrorMagnitudes(n,a,c){let h=a.getDegree(),u=new Int32Array(h);for(let v=1;v<=h;v++)u[h-v]=this.field.multiply(v,a.getCoefficient(v));let p=new ai(this.field,u),m=c.length,b=new Int32Array(m);for(let v=0;v<m;v++){let A=this.field.inverse(c[v]),E=this.field.subtract(0,n.evaluateAt(A)),B=this.field.inverse(p.evaluateAt(A));b[v]=this.field.multiply(E,B)}return b}}class Cn{constructor(n,a,c,h,u){n instanceof Cn?this.constructor_2(n):this.constructor_1(n,a,c,h,u)}constructor_1(n,a,c,h,u){const p=a==null||c==null,m=h==null||u==null;if(p&&m)throw new Q;p?(a=new V(0,h.getY()),c=new V(0,u.getY())):m&&(h=new V(n.getWidth()-1,a.getY()),u=new V(n.getWidth()-1,c.getY())),this.image=n,this.topLeft=a,this.bottomLeft=c,this.topRight=h,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),c.getX())),this.maxX=Math.trunc(Math.max(h.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),h.getY())),this.maxY=Math.trunc(Math.max(c.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,a){return n==null?a:a==null?n:new Cn(n.image,n.topLeft,n.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(n,a,c){let h=this.topLeft,u=this.bottomLeft,p=this.topRight,m=this.bottomRight;if(n>0){let b=c?this.topLeft:this.topRight,v=Math.trunc(b.getY()-n);v<0&&(v=0);let A=new V(b.getX(),v);c?h=A:p=A}if(a>0){let b=c?this.bottomLeft:this.bottomRight,v=Math.trunc(b.getY()+a);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let A=new V(b.getX(),v);c?u=A:m=A}return new Cn(this.image,h,u,p,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Dh{constructor(n,a,c,h){this.columnCount=n,this.errorCorrectionLevel=h,this.rowCountUpperPart=a,this.rowCountLowerPart=c,this.rowCount=a+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ar{constructor(){this.buffer=""}static form(n,a){let c=-1;function h(p,m,b,v,A,E){if(p==="%%")return"%";if(a[++c]===void 0)return;p=v?parseInt(v.substr(1)):void 0;let B=A?parseInt(A.substr(1)):void 0,z;switch(E){case"s":z=a[c];break;case"c":z=a[c][0];break;case"f":z=parseFloat(a[c]).toFixed(p);break;case"p":z=parseFloat(a[c]).toPrecision(p);break;case"e":z=parseFloat(a[c]).toExponential(p);break;case"x":z=parseInt(a[c]).toString(B||16);break;case"d":z=parseFloat(parseInt(a[c],B||10).toPrecision(p)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(B);let H=parseInt(b),X=b&&b[0]+""=="0"?"0":" ";for(;z.length<H;)z=m!==void 0?z+X:X+z;return z}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,h)}format(n,...a){this.buffer+=ar.form(n,a)}toString(){return this.buffer}}class lr{constructor(n){this.boundingBox=new Cn(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let a=this.getCodeword(n);if(a!=null)return a;for(let c=1;c<lr.MAX_NEARBY_DISTANCE;c++){let h=this.imageRowToCodewordIndex(n)-c;if(h>=0&&(a=this.codewords[h],a!=null)||(h=this.imageRowToCodewordIndex(n)+c,h<this.codewords.length&&(a=this.codewords[h],a!=null)))return a}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,a){this.codewords[this.imageRowToCodewordIndex(n)]=a}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new ar;let a=0;for(const c of this.codewords){if(c==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}return n.toString()}}lr.MAX_NEARBY_DISTANCE=5;class cr{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let a=this.values.get(n);a==null&&(a=0),a++,this.values.set(n,a)}getValue(){let n=-1,a=new Array;for(const[c,h]of this.values.entries()){const u={getKey:()=>c,getValue:()=>h};u.getValue()>n?(n=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===n&&a.push(u.getKey())}return Le.toIntArray(a)}getConfidence(n){return this.values.get(n)}}class Pa extends lr{constructor(n,a){super(n),this._isLeft=a}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),u=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),b=-1,v=1,A=0;for(let E=p;E<m;E++){if(a[E]==null)continue;let B=a[E],z=B.getRowNumber()-b;if(z===0)A++;else if(z===1)v=Math.max(v,A),A=1,b=B.getRowNumber();else if(z<0||B.getRowNumber()>=n.getRowCount()||z>E)a[E]=null;else{let H;v>2?H=(v-2)*z:H=z;let X=H>=E;for(let te=1;te<=H&&!X;te++)X=a[E-te]!=null;X?a[E]=null:(b=B.getRowNumber(),A=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let a=new Int32Array(n.getRowCount());for(let c of this.getCodewords())if(c!=null){let h=c.getRowNumber();if(h>=a.length)continue;a[h]++}return a}adjustIncompleteIndicatorColumnRowNumbers(n){let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),m=this.getCodewords(),b=-1;for(let v=u;v<p;v++){if(m[v]==null)continue;let A=m[v];A.setRowNumberAsRowIndicatorColumn();let E=A.getRowNumber()-b;E===0||(E===1?b=A.getRowNumber():A.getRowNumber()>=n.getRowCount()?m[v]=null:b=A.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),a=new cr,c=new cr,h=new cr,u=new cr;for(let m of n){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let b=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:c.setValue(b*3+1);break;case 1:u.setValue(b/3),h.setValue(b%3);break;case 2:a.setValue(b+1);break}}if(a.getValue().length===0||c.getValue().length===0||h.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||c.getValue()[0]+h.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||c.getValue()[0]+h.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let p=new Dh(a.getValue()[0],c.getValue()[0],h.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,p),p}removeIncorrectCodewords(n,a){for(let c=0;c<n.length;c++){let h=n[c];if(n[c]==null)continue;let u=h.getValue()%30,p=h.getRowNumber();if(p>a.getRowCount()){n[c]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(n[c]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(n[c]=null);break;case 2:u+1!==a.getColumnCount()&&(n[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dr{constructor(n,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Le.MAX_CODEWORDS_IN_BARCODE,a;do a=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let c=this.detectionResultColumns[a].getCodewords();for(let h=0;h<c.length;h++)c[h]!=null&&(c[h].hasValidRowNumber()||this.adjustRowNumbers(a,h,c))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<n.length;c++)if(n[c]!=null&&a[c]!=null&&n[c].getRowNumber()===a[c].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let u=this.detectionResultColumns[h].getCodewords()[c];u!=null&&(u.setRowNumber(n[c].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let h=a[c].getRowNumber(),u=0;for(let p=this.barcodeColumnCount+1;p>0&&u<this.ADJUST_ROW_NUMBER_SKIP;p--){let m=this.detectionResultColumns[p].getCodewords()[c];m!=null&&(u=dr.adjustRowNumberIfValid(h,u,m),m.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,a=this.detectionResultColumns[0].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let h=a[c].getRowNumber(),u=0;for(let p=1;p<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;p++){let m=this.detectionResultColumns[p].getCodewords()[c];m!=null&&(u=dr.adjustRowNumberIfValid(h,u,m),m.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,a,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(n)?(c.setRowNumber(n),a=0):++a),a}adjustRowNumbers(n,a,c){if(!this.detectionResultColumns[n-1])return;let h=c[a],u=this.detectionResultColumns[n-1].getCodewords(),p=u;this.detectionResultColumns[n+1]!=null&&(p=this.detectionResultColumns[n+1].getCodewords());let m=new Array(14);m[2]=u[a],m[3]=p[a],a>0&&(m[0]=c[a-1],m[4]=u[a-1],m[5]=p[a-1]),a>1&&(m[8]=c[a-2],m[10]=u[a-2],m[11]=p[a-2]),a<c.length-1&&(m[1]=c[a+1],m[6]=u[a+1],m[7]=p[a+1]),a<c.length-2&&(m[9]=c[a+2],m[12]=u[a+2],m[13]=p[a+2]);for(let b of m)if(dr.adjustRowNumber(h,b))return}static adjustRowNumber(n,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===n.getBucket()?(n.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,a){this.detectionResultColumns[n]=a}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new ar;for(let c=0;c<n.getCodewords().length;c++){a.format("CW %3d:",c);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[h].getCodewords()[c];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class hr{constructor(n,a,c,h){this.rowNumber=hr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(a),this.bucket=Math.trunc(c),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==hr.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}hr.BARCODE_ROW_UNKNOWN=-1;class bi{static initialize(){for(let n=0;n<Le.SYMBOL_TABLE.length;n++){let a=Le.SYMBOL_TABLE[n],c=a&1;for(let h=0;h<Le.BARS_IN_MODULE;h++){let u=0;for(;(a&1)===c;)u+=1,a>>=1;c=a&1,bi.RATIOS_TABLE[n]||(bi.RATIOS_TABLE[n]=new Array(Le.BARS_IN_MODULE)),bi.RATIOS_TABLE[n][Le.BARS_IN_MODULE-h-1]=Math.fround(u/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let a=bi.getDecodedCodewordValue(bi.sampleBitCounts(n));return a!==-1?a:bi.getClosestDecodedValue(n)}static sampleBitCounts(n){let a=Ie.sum(n),c=new Int32Array(Le.BARS_IN_MODULE),h=0,u=0;for(let p=0;p<Le.MODULES_IN_CODEWORD;p++){let m=a/(2*Le.MODULES_IN_CODEWORD)+p*a/Le.MODULES_IN_CODEWORD;u+n[h]<=m&&(u+=n[h],h++),c[h]++}return c}static getDecodedCodewordValue(n){let a=bi.getBitValue(n);return Le.getCodeword(a)===-1?-1:a}static getBitValue(n){let a=0;for(let c=0;c<n.length;c++)for(let h=0;h<n[c];h++)a=a<<1|(c%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(n){let a=Ie.sum(n),c=new Array(Le.BARS_IN_MODULE);if(a>1)for(let p=0;p<c.length;p++)c[p]=Math.fround(n[p]/a);let h=si.MAX_VALUE,u=-1;this.bSymbolTableReady||bi.initialize();for(let p=0;p<bi.RATIOS_TABLE.length;p++){let m=0,b=bi.RATIOS_TABLE[p];for(let v=0;v<Le.BARS_IN_MODULE;v++){let A=Math.fround(b[v]-c[v]);if(m+=Math.fround(A*A),m>=h)break}m<h&&(h=m,u=Le.SYMBOL_TABLE[p])}return u}}bi.bSymbolTableReady=!1,bi.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(_=>new Array(Le.BARS_IN_MODULE));class Da{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Fa{static parseLong(n,a=void 0){return parseInt(n,a)}}class Ma extends y{}Ma.kind="NullPointerException";class Fh{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,a,c){if(n==null)throw new Ma;if(a<0||a>n.length||c<0||a+c>n.length||a+c<0)throw new O;if(c===0)return;for(let h=0;h<c;h++)this.write(n[a+h])}flush(){}close(){}}class Mh extends y{}class Lh extends Fh{constructor(n=32){if(super(),this.count=0,n<0)throw new C("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let c=this.buf.length<<1;if(c-n<0&&(c=n),c<0){if(n<0)throw new Mh;c=M.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,c)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,a,c){if(a<0||a>n.length||c<0||a+c-n.length>0)throw new O;this.ensureCapacity(this.count+c),R.arraycopy(n,a,this.buf,this.count,c),this.count+=c}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var vt;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(vt||(vt={}));function La(){if(typeof window!="undefined")return window.BigInt||null;if(typeof to!="undefined")return to.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Kr;function hn(_){if(typeof Kr=="undefined"&&(Kr=La()),Kr===null)throw new Error("BigInt is not supported!");return Kr(_)}function Vh(){let _=[];_[0]=hn(1);let n=hn(900);_[1]=n;for(let a=2;a<16;a++)_[a]=_[a-1]*n;return _}class ne{static decode(n,a){let c=new ve(""),h=J.ISO8859_1;c.enableDecoding(h);let u=1,p=n[u++],m=new Da;for(;u<n[0];){switch(p){case ne.TEXT_COMPACTION_MODE_LATCH:u=ne.textCompaction(n,u,c);break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:u=ne.byteCompaction(p,n,h,u,c);break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[u++]);break;case ne.NUMERIC_COMPACTION_MODE_LATCH:u=ne.numericCompaction(n,u,c);break;case ne.ECI_CHARSET:J.getCharacterSetECIByValue(n[u++]);break;case ne.ECI_GENERAL_PURPOSE:u+=2;break;case ne.ECI_USER_DEFINED:u++;break;case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ne.decodeMacroBlock(n,u,m);break;case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:throw new I;default:u--,u=ne.textCompaction(n,u,c);break}if(u<n.length)p=n[u++];else throw I.getFormatInstance()}if(c.length()===0)throw I.getFormatInstance();let b=new _t(null,c.toString(),null,a);return b.setOther(m),b}static decodeMacroBlock(n,a,c){if(a+ne.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw I.getFormatInstance();let h=new Int32Array(ne.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ne.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)h[m]=n[a];c.setSegmentIndex(M.parseInt(ne.decodeBase900toBase10(h,ne.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ve;a=ne.textCompaction(n,a,u),c.setFileId(u.toString());let p=-1;for(n[a]===ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=a+1);a<n[0];)switch(n[a]){case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,n[a]){case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ve;a=ne.textCompaction(n,a+1,m),c.setFileName(m.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ve;a=ne.textCompaction(n,a+1,b),c.setSender(b.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ve;a=ne.textCompaction(n,a+1,v),c.setAddressee(v.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new ve;a=ne.numericCompaction(n,a+1,A),c.setSegmentCount(M.parseInt(A.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new ve;a=ne.numericCompaction(n,a+1,E),c.setTimestamp(Fa.parseLong(E.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let B=new ve;a=ne.numericCompaction(n,a+1,B),c.setChecksum(M.parseInt(B.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new ve;a=ne.numericCompaction(n,a+1,z),c.setFileSize(Fa.parseLong(z.toString()));break;default:throw I.getFormatInstance()}break;case ne.MACRO_PDF417_TERMINATOR:a++,c.setLastSegment(!0);break;default:throw I.getFormatInstance()}if(p!==-1){let m=a-p;c.isLastSegment()&&m--,c.setOptionalData(Y.copyOfRange(n,p,p+m))}return a}static textCompaction(n,a,c){let h=new Int32Array((n[0]-a)*2),u=new Int32Array((n[0]-a)*2),p=0,m=!1;for(;a<n[0]&&!m;){let b=n[a++];if(b<ne.TEXT_COMPACTION_MODE_LATCH)h[p]=b/30,h[p+1]=b%30,p+=2;else switch(b){case ne.TEXT_COMPACTION_MODE_LATCH:h[p++]=ne.TEXT_COMPACTION_MODE_LATCH;break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[p]=ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=n[a++],u[p]=b,p++;break}}return ne.decodeTextCompaction(h,u,p,c),a}static decodeTextCompaction(n,a,c,h){let u=vt.ALPHA,p=vt.ALPHA,m=0;for(;m<c;){let b=n[m],v="";switch(u){case vt.ALPHA:if(b<26)v=String.fromCharCode(65+b);else switch(b){case 26:v=" ";break;case ne.LL:u=vt.LOWER;break;case ne.ML:u=vt.MIXED;break;case ne.PS:p=u,u=vt.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.LOWER:if(b<26)v=String.fromCharCode(97+b);else switch(b){case 26:v=" ";break;case ne.AS:p=u,u=vt.ALPHA_SHIFT;break;case ne.ML:u=vt.MIXED;break;case ne.PS:p=u,u=vt.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.MIXED:if(b<ne.PL)v=ne.MIXED_CHARS[b];else switch(b){case ne.PL:u=vt.PUNCT;break;case 26:v=" ";break;case ne.LL:u=vt.LOWER;break;case ne.AL:u=vt.ALPHA;break;case ne.PS:p=u,u=vt.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT:if(b<ne.PAL)v=ne.PUNCT_CHARS[b];else switch(b){case ne.PAL:u=vt.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.ALPHA_SHIFT:if(u=p,b<26)v=String.fromCharCode(65+b);else switch(b){case 26:v=" ";break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT_SHIFT:if(u=p,b<ne.PAL)v=ne.PUNCT_CHARS[b];else switch(b){case ne.PAL:u=vt.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break}v!==""&&h.append(v),m++}}static byteCompaction(n,a,c,h,u){let p=new Lh,m=0,b=0,v=!1;switch(n){case ne.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),E=a[h++];for(;h<a[0]&&!v;)switch(A[m++]=E,b=900*b+E,E=a[h++],E){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:h--,v=!0;break;default:if(m%5===0&&m>0){for(let B=0;B<6;++B)p.write(Number(hn(b)>>hn(8*(5-B))));b=0,m=0}break}h===a[0]&&E<ne.TEXT_COMPACTION_MODE_LATCH&&(A[m++]=E);for(let B=0;B<m;B++)p.write(A[B]);break;case ne.BYTE_COMPACTION_MODE_LATCH_6:for(;h<a[0]&&!v;){let B=a[h++];if(B<ne.TEXT_COMPACTION_MODE_LATCH)m++,b=900*b+B;else switch(B){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:h--,v=!0;break}if(m%5===0&&m>0){for(let z=0;z<6;++z)p.write(Number(hn(b)>>hn(8*(5-z))));b=0,m=0}}break}return u.append(fe.decode(p.toByteArray(),c)),h}static numericCompaction(n,a,c){let h=0,u=!1,p=new Int32Array(ne.MAX_NUMERIC_CODEWORDS);for(;a<n[0]&&!u;){let m=n[a++];if(a===n[0]&&(u=!0),m<ne.TEXT_COMPACTION_MODE_LATCH)p[h]=m,h++;else switch(m){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(h%ne.MAX_NUMERIC_CODEWORDS===0||m===ne.NUMERIC_COMPACTION_MODE_LATCH||u)&&h>0&&(c.append(ne.decodeBase900toBase10(p,h)),h=0)}return a}static decodeBase900toBase10(n,a){let c=hn(0);for(let u=0;u<a;u++)c+=ne.EXP900[a-u-1]*hn(n[u]);let h=c.toString();if(h.charAt(0)!=="1")throw new I;return h.substring(1)}}ne.TEXT_COMPACTION_MODE_LATCH=900,ne.BYTE_COMPACTION_MODE_LATCH=901,ne.NUMERIC_COMPACTION_MODE_LATCH=902,ne.BYTE_COMPACTION_MODE_LATCH_6=924,ne.ECI_USER_DEFINED=925,ne.ECI_GENERAL_PURPOSE=926,ne.ECI_CHARSET=927,ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ne.MACRO_PDF417_TERMINATOR=922,ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ne.MAX_NUMERIC_CODEWORDS=15,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ne.PL=25,ne.LL=27,ne.AS=27,ne.ML=28,ne.AL=28,ne.PS=29,ne.PAL=29,ne.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ne.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ne.EXP900=La()?Vh():[],ne.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(n,a,c,h,u,p,m){let b=new Cn(n,a,c,h,u),v=null,A=null,E;for(let H=!0;;H=!1){if(a!=null&&(v=Qe.getRowIndicatorColumn(n,b,a,!0,p,m)),h!=null&&(A=Qe.getRowIndicatorColumn(n,b,h,!1,p,m)),E=Qe.merge(v,A),E==null)throw Q.getNotFoundInstance();let X=E.getBoundingBox();if(H&&X!=null&&(X.getMinY()<b.getMinY()||X.getMaxY()>b.getMaxY()))b=X;else break}E.setBoundingBox(b);let B=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,v),E.setDetectionResultColumn(B,A);let z=v!=null;for(let H=1;H<=B;H++){let X=z?H:B-H;if(E.getDetectionResultColumn(X)!==void 0)continue;let te;X===0||X===B?te=new Pa(b,X===0):te=new lr(b),E.setDetectionResultColumn(X,te);let re=-1,ue=re;for(let pe=b.getMinY();pe<=b.getMaxY();pe++){if(re=Qe.getStartColumn(E,X,pe,z),re<0||re>b.getMaxX()){if(ue===-1)continue;re=ue}let de=Qe.detectCodeword(n,b.getMinX(),b.getMaxX(),z,re,pe,p,m);de!=null&&(te.setCodeword(pe,de),ue=re,p=Math.min(p,de.getWidth()),m=Math.max(m,de.getWidth()))}}return Qe.createDecoderResult(E)}static merge(n,a){if(n==null&&a==null)return null;let c=Qe.getBarcodeMetadata(n,a);if(c==null)return null;let h=Cn.merge(Qe.adjustBoundingBox(n),Qe.adjustBoundingBox(a));return new dr(c,h)}static adjustBoundingBox(n){if(n==null)return null;let a=n.getRowHeights();if(a==null)return null;let c=Qe.getMax(a),h=0;for(let m of a)if(h+=c-m,m>0)break;let u=n.getCodewords();for(let m=0;h>0&&u[m]==null;m++)h--;let p=0;for(let m=a.length-1;m>=0&&(p+=c-a[m],!(a[m]>0));m--);for(let m=u.length-1;p>0&&u[m]==null;m--)p--;return n.getBoundingBox().addMissingRows(h,p,n.isLeft())}static getMax(n){let a=-1;for(let c of n)a=Math.max(a,c);return a}static getBarcodeMetadata(n,a){let c;if(n==null||(c=n.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let h;return a==null||(h=a.getBarcodeMetadata())==null?c:c.getColumnCount()!==h.getColumnCount()&&c.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&c.getRowCount()!==h.getRowCount()?null:c}static getRowIndicatorColumn(n,a,c,h,u,p){let m=new Pa(a,h);for(let b=0;b<2;b++){let v=b===0?1:-1,A=Math.trunc(Math.trunc(c.getX()));for(let E=Math.trunc(Math.trunc(c.getY()));E<=a.getMaxY()&&E>=a.getMinY();E+=v){let B=Qe.detectCodeword(n,0,n.getWidth(),h,A,E,u,p);B!=null&&(m.setCodeword(E,B),h?A=B.getStartX():A=B.getEndX())}}return m}static adjustCodewordCount(n,a){let c=a[0][1],h=c.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(n.getBarcodeECLevel());if(h.length===0){if(u<1||u>Le.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();c.setValue(u)}else h[0]!==u&&c.setValue(u)}static createDecoderResult(n){let a=Qe.createBarcodeMatrix(n);Qe.adjustCodewordCount(n,a);let c=new Array,h=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],p=new Array;for(let b=0;b<n.getBarcodeRowCount();b++)for(let v=0;v<n.getBarcodeColumnCount();v++){let A=a[b][v+1].getValue(),E=b*n.getBarcodeColumnCount()+v;A.length===0?c.push(E):A.length===1?h[E]=A[0]:(p.push(E),u.push(A))}let m=new Array(u.length);for(let b=0;b<m.length;b++)m[b]=u[b];return Qe.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),h,Le.toIntArray(c),Le.toIntArray(p),m)}static createDecoderResultFromAmbiguousValues(n,a,c,h,u){let p=new Int32Array(h.length),m=100;for(;m-- >0;){for(let b=0;b<p.length;b++)a[h[b]]=u[b][p[b]];try{return Qe.decodeCodewords(a,n,c)}catch(b){if(!(b instanceof j))throw b}if(p.length===0)throw j.getChecksumInstance();for(let b=0;b<p.length;b++)if(p[b]<u[b].length-1){p[b]++;break}else if(p[b]=0,b===p.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(n){let a=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let h=0;h<a.length;h++)for(let u=0;u<a[h].length;u++)a[h][u]=new cr;let c=0;for(let h of n.getDetectionResultColumns()){if(h!=null){for(let u of h.getCodewords())if(u!=null){let p=u.getRowNumber();if(p>=0){if(p>=a.length)continue;a[p][c].setValue(u.getValue())}}}c++}return a}static isValidBarcodeColumn(n,a){return a>=0&&a<=n.getBarcodeColumnCount()+1}static getStartColumn(n,a,c,h){let u=h?1:-1,p=null;if(Qe.isValidBarcodeColumn(n,a-u)&&(p=n.getDetectionResultColumn(a-u).getCodeword(c)),p!=null)return h?p.getEndX():p.getStartX();if(p=n.getDetectionResultColumn(a).getCodewordNearby(c),p!=null)return h?p.getStartX():p.getEndX();if(Qe.isValidBarcodeColumn(n,a-u)&&(p=n.getDetectionResultColumn(a-u).getCodewordNearby(c)),p!=null)return h?p.getEndX():p.getStartX();let m=0;for(;Qe.isValidBarcodeColumn(n,a-u);){a-=u;for(let b of n.getDetectionResultColumn(a).getCodewords())if(b!=null)return(h?b.getEndX():b.getStartX())+u*m*(b.getEndX()-b.getStartX());m++}return h?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,a,c,h,u,p,m,b){u=Qe.adjustCodewordStartColumn(n,a,c,h,u,p);let v=Qe.getModuleBitCount(n,a,c,h,u,p);if(v==null)return null;let A,E=Ie.sum(v);if(h)A=u+E;else{for(let H=0;H<v.length/2;H++){let X=v[H];v[H]=v[v.length-1-H],v[v.length-1-H]=X}A=u,u=A-E}if(!Qe.checkCodewordSkew(E,m,b))return null;let B=bi.getDecodedValue(v),z=Le.getCodeword(B);return z===-1?null:new hr(u,A,Qe.getCodewordBucketNumber(B),z)}static getModuleBitCount(n,a,c,h,u,p){let m=u,b=new Int32Array(8),v=0,A=h?1:-1,E=h;for(;(h?m<c:m>=a)&&v<b.length;)n.get(m,p)===E?(b[v]++,m+=A):(v++,E=!E);return v===b.length||m===(h?c:a)&&v===b.length-1?b:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,a,c,h,u,p){let m=u,b=h?-1:1;for(let v=0;v<2;v++){for(;(h?m>=a:m<c)&&h===n.get(m,p);){if(Math.abs(u-m)>Qe.CODEWORD_SKEW_SIZE)return u;m+=b}b=-b,h=!h}return m}static checkCodewordSkew(n,a,c){return a-Qe.CODEWORD_SKEW_SIZE<=n&&n<=c+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(n,a,c){if(n.length===0)throw I.getFormatInstance();let h=1<<a+1,u=Qe.correctErrors(n,c,h);Qe.verifyCodewordCount(n,h);let p=ne.decode(n,""+a);return p.setErrorsCorrected(u),p.setErasures(c.length),p}static correctErrors(n,a,c){if(a!=null&&a.length>c/2+Qe.MAX_ERRORS||c<0||c>Qe.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return Qe.errorCorrection.decode(n,c,a)}static verifyCodewordCount(n,a){if(n.length<4)throw I.getFormatInstance();let c=n[0];if(c>n.length)throw I.getFormatInstance();if(c===0)if(a<n.length)n[0]=n.length-a;else throw I.getFormatInstance()}static getBitCountForCodeword(n){let a=new Int32Array(8),c=0,h=a.length-1;for(;!((n&1)!==c&&(c=n&1,h--,h<0));)a[h]++,n>>=1;return a}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let a=new ar;for(let c=0;c<n.length;c++){a.format("Row %2d: ",c);for(let h=0;h<n[c].length;h++){let u=n[c][h];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new za;class li{decode(n,a=null){let c=li.decode(n,a,!1);if(c==null||c.length===0||c[0]==null)throw Q.getNotFoundInstance();return c[0]}decodeMultiple(n,a=null){try{return li.decode(n,a,!0)}catch(c){throw c instanceof I||c instanceof j?Q.getNotFoundInstance():c}}static decode(n,a,c){const h=new Array,u=$e.detectMultiple(n,a,c);for(const p of u.getPoints()){const m=Qe.decode(u.getBits(),p[4],p[5],p[6],p[7],li.getMinCodewordWidth(p),li.getMaxCodewordWidth(p)),b=new Ue(m.getText(),m.getRawBytes(),void 0,p,we.PDF_417);b.putMetadata(Xe.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&b.putMetadata(Xe.PDF417_EXTRA_METADATA,v),h.push(b)}return h.map(p=>p)}static getMaxWidth(n,a){return n==null||a==null?0:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMinWidth(n,a){return n==null||a==null?M.MAX_VALUE:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(li.getMaxWidth(n[0],n[4]),li.getMaxWidth(n[6],n[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(li.getMaxWidth(n[1],n[5]),li.getMaxWidth(n[7],n[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(li.getMinWidth(n[0],n[4]),li.getMinWidth(n[6],n[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(li.getMinWidth(n[1],n[5]),li.getMinWidth(n[7],n[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class $r extends y{}$r.kind="ReaderException";class Va{constructor(n,a){this.verbose=n===!0,a&&this.setHints(a)}decode(n,a){return a&&this.setHints(a),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const a=!s(n)&&n.get(W.TRY_HARDER)===!0,c=s(n)?null:n.get(W.POSSIBLE_FORMATS),h=new Array;if(!s(c)){const u=c.some(p=>p===we.UPC_A||p===we.UPC_E||p===we.EAN_13||p===we.EAN_8||p===we.CODABAR||p===we.CODE_39||p===we.CODE_93||p===we.CODE_128||p===we.ITF||p===we.RSS_14||p===we.RSS_EXPANDED);u&&!a&&h.push(new Dn(n,this.verbose)),c.includes(we.QR_CODE)&&h.push(new dn),c.includes(we.DATA_MATRIX)&&h.push(new cn),c.includes(we.AZTEC)&&h.push(new ge),c.includes(we.PDF_417)&&h.push(new li),u&&a&&h.push(new Dn(n,this.verbose))}h.length===0&&(a||h.push(new Dn(n,this.verbose)),h.push(new dn),h.push(new cn),h.push(new ge),h.push(new li),a&&h.push(new Dn(n,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new $r("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(n,this.hints)}catch(c){if(c instanceof $r)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class Wh extends Oe{constructor(n=null,a=500){const c=new Va;c.setHints(n),super(c,a)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Uh extends Oe{constructor(n=500){super(new li,n)}}class Hh extends Oe{constructor(n=500){super(new dn,n)}}var ds;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(ds||(ds={}));var ti=ds;class hs{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new ft(n,Int32Array.from([1])))}buildGenerator(n){const a=this.cachedGenerators;if(n>=a.length){let c=a[a.length-1];const h=this.field;for(let u=a.length;u<=n;u++){const p=c.multiply(new ft(h,Int32Array.from([1,h.exp(u-1+h.getGeneratorBase())])));a.push(p),c=p}}return a[n]}encode(n,a){if(a===0)throw new C("No error correction bytes");const c=n.length-a;if(c<=0)throw new C("No data bytes provided");const h=this.buildGenerator(a),u=new Int32Array(c);R.arraycopy(n,0,u,0,c);let p=new ft(this.field,u);p=p.multiplyByMonomial(a,1);const b=p.divide(h)[1].getCoefficients(),v=a-b.length;for(let A=0;A<v;A++)n[c+A]=0;R.arraycopy(b,0,n,c+v,b.length)}}class Vt{constructor(){}static applyMaskPenaltyRule1(n){return Vt.applyMaskPenaltyRule1Internal(n,!0)+Vt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let a=0;const c=n.getArray(),h=n.getWidth(),u=n.getHeight();for(let p=0;p<u-1;p++){const m=c[p];for(let b=0;b<h-1;b++){const v=m[b];v===m[b+1]&&v===c[p+1][b]&&v===c[p+1][b+1]&&a++}}return Vt.N2*a}static applyMaskPenaltyRule3(n){let a=0;const c=n.getArray(),h=n.getWidth(),u=n.getHeight();for(let p=0;p<u;p++)for(let m=0;m<h;m++){const b=c[p];m+6<h&&b[m]===1&&b[m+1]===0&&b[m+2]===1&&b[m+3]===1&&b[m+4]===1&&b[m+5]===0&&b[m+6]===1&&(Vt.isWhiteHorizontal(b,m-4,m)||Vt.isWhiteHorizontal(b,m+7,m+11))&&a++,p+6<u&&c[p][m]===1&&c[p+1][m]===0&&c[p+2][m]===1&&c[p+3][m]===1&&c[p+4][m]===1&&c[p+5][m]===0&&c[p+6][m]===1&&(Vt.isWhiteVertical(c,m,p-4,p)||Vt.isWhiteVertical(c,m,p+7,p+11))&&a++}return a*Vt.N3}static isWhiteHorizontal(n,a,c){a=Math.max(a,0),c=Math.min(c,n.length);for(let h=a;h<c;h++)if(n[h]===1)return!1;return!0}static isWhiteVertical(n,a,c,h){c=Math.max(c,0),h=Math.min(h,n.length);for(let u=c;u<h;u++)if(n[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let a=0;const c=n.getArray(),h=n.getWidth(),u=n.getHeight();for(let b=0;b<u;b++){const v=c[b];for(let A=0;A<h;A++)v[A]===1&&a++}const p=n.getHeight()*n.getWidth();return Math.floor(Math.abs(a*2-p)*10/p)*Vt.N4}static getDataMaskBit(n,a,c){let h,u;switch(n){case 0:h=c+a&1;break;case 1:h=c&1;break;case 2:h=a%3;break;case 3:h=(c+a)%3;break;case 4:h=Math.floor(c/2)+Math.floor(a/3)&1;break;case 5:u=c*a,h=(u&1)+u%3;break;case 6:u=c*a,h=(u&1)+u%3&1;break;case 7:u=c*a,h=u%3+(c+a&1)&1;break;default:throw new C("Invalid mask pattern: "+n)}return h===0}static applyMaskPenaltyRule1Internal(n,a){let c=0;const h=a?n.getHeight():n.getWidth(),u=a?n.getWidth():n.getHeight(),p=n.getArray();for(let m=0;m<h;m++){let b=0,v=-1;for(let A=0;A<u;A++){const E=a?p[m][A]:p[A][m];E===v?b++:(b>=5&&(c+=Vt.N1+(b-5)),b=1,v=E)}b>=5&&(c+=Vt.N1+(b-5))}return c}}Vt.N1=3,Vt.N2=3,Vt.N3=40,Vt.N4=10;class Zr{constructor(n,a){this.width=n,this.height=a;const c=new Array(a);for(let h=0;h!==a;h++)c[h]=new Uint8Array(n);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(n,a){return this.bytes[a][n]}getArray(){return this.bytes}setNumber(n,a,c){this.bytes[a][n]=c}setBoolean(n,a,c){this.bytes[a][n]=c?1:0}clear(n){for(const a of this.bytes)Y.fill(a,n)}equals(n){if(!(n instanceof Zr))return!1;const a=n;if(this.width!==a.width||this.height!==a.height)return!1;for(let c=0,h=this.height;c<h;++c){const u=this.bytes[c],p=a.bytes[c];for(let m=0,b=this.width;m<b;++m)if(u[m]!==p[m])return!1}return!0}toString(){const n=new ve;for(let a=0,c=this.height;a<c;++a){const h=this.bytes[a];for(let u=0,p=this.width;u<p;++u)switch(h[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Sn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ve;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Sn.NUM_MASK_PATTERNS}}Sn.NUM_MASK_PATTERNS=8;class Ct extends y{}Ct.kind="WriterException";class De{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,a,c,h,u){De.clearMatrix(u),De.embedBasicPatterns(c,u),De.embedTypeInfo(a,h,u),De.maybeEmbedVersionInfo(c,u),De.embedDataBits(n,h,u)}static embedBasicPatterns(n,a){De.embedPositionDetectionPatternsAndSeparators(a),De.embedDarkDotAtLeftBottomCorner(a),De.maybeEmbedPositionAdjustmentPatterns(n,a),De.embedTimingPatterns(a)}static embedTypeInfo(n,a,c){const h=new ee;De.makeTypeInfoBits(n,a,h);for(let u=0,p=h.getSize();u<p;++u){const m=h.get(h.getSize()-1-u),b=De.TYPE_INFO_COORDINATES[u],v=b[0],A=b[1];if(c.setBoolean(v,A,m),u<8){const E=c.getWidth()-u-1;c.setBoolean(E,8,m)}else{const B=c.getHeight()-7+(u-8);c.setBoolean(8,B,m)}}}static maybeEmbedVersionInfo(n,a){if(n.getVersionNumber()<7)return;const c=new ee;De.makeVersionInfoBits(n,c);let h=17;for(let u=0;u<6;++u)for(let p=0;p<3;++p){const m=c.get(h);h--,a.setBoolean(u,a.getHeight()-11+p,m),a.setBoolean(a.getHeight()-11+p,u,m)}}static embedDataBits(n,a,c){let h=0,u=-1,p=c.getWidth()-1,m=c.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);m>=0&&m<c.getHeight();){for(let b=0;b<2;++b){const v=p-b;if(!De.isEmpty(c.get(v,m)))continue;let A;h<n.getSize()?(A=n.get(h),++h):A=!1,a!==255&&Vt.getDataMaskBit(a,v,m)&&(A=!A),c.setBoolean(v,m,A)}m+=u}u=-u,m+=u,p-=2}if(h!==n.getSize())throw new Ct("Not all bits consumed: "+h+"/"+n.getSize())}static findMSBSet(n){return 32-M.numberOfLeadingZeros(n)}static calculateBCHCode(n,a){if(a===0)throw new C("0 polynomial");const c=De.findMSBSet(a);for(n<<=c-1;De.findMSBSet(n)>=c;)n^=a<<De.findMSBSet(n)-c;return n}static makeTypeInfoBits(n,a,c){if(!Sn.isValidMaskPattern(a))throw new Ct("Invalid mask pattern");const h=n.getBits()<<3|a;c.appendBits(h,5);const u=De.calculateBCHCode(h,De.TYPE_INFO_POLY);c.appendBits(u,10);const p=new ee;if(p.appendBits(De.TYPE_INFO_MASK_PATTERN,15),c.xor(p),c.getSize()!==15)throw new Ct("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(n,a){a.appendBits(n.getVersionNumber(),6);const c=De.calculateBCHCode(n.getVersionNumber(),De.VERSION_INFO_POLY);if(a.appendBits(c,12),a.getSize()!==18)throw new Ct("should not happen but we got: "+a.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let a=8;a<n.getWidth()-8;++a){const c=(a+1)%2;De.isEmpty(n.get(a,6))&&n.setNumber(a,6,c),De.isEmpty(n.get(6,a))&&n.setNumber(6,a,c)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ct;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,a,c){for(let h=0;h<8;++h){if(!De.isEmpty(c.get(n+h,a)))throw new Ct;c.setNumber(n+h,a,0)}}static embedVerticalSeparationPattern(n,a,c){for(let h=0;h<7;++h){if(!De.isEmpty(c.get(n,a+h)))throw new Ct;c.setNumber(n,a+h,0)}}static embedPositionAdjustmentPattern(n,a,c){for(let h=0;h<5;++h){const u=De.POSITION_ADJUSTMENT_PATTERN[h];for(let p=0;p<5;++p)c.setNumber(n+p,a+h,u[p])}}static embedPositionDetectionPattern(n,a,c){for(let h=0;h<7;++h){const u=De.POSITION_DETECTION_PATTERN[h];for(let p=0;p<7;++p)c.setNumber(n+p,a+h,u[p])}}static embedPositionDetectionPatternsAndSeparators(n){const a=De.POSITION_DETECTION_PATTERN[0].length;De.embedPositionDetectionPattern(0,0,n),De.embedPositionDetectionPattern(n.getWidth()-a,0,n),De.embedPositionDetectionPattern(0,n.getWidth()-a,n);const c=8;De.embedHorizontalSeparationPattern(0,c-1,n),De.embedHorizontalSeparationPattern(n.getWidth()-c,c-1,n),De.embedHorizontalSeparationPattern(0,n.getWidth()-c,n);const h=7;De.embedVerticalSeparationPattern(h,0,n),De.embedVerticalSeparationPattern(n.getHeight()-h-1,0,n),De.embedVerticalSeparationPattern(h,n.getHeight()-h,n)}static maybeEmbedPositionAdjustmentPatterns(n,a){if(n.getVersionNumber()<2)return;const c=n.getVersionNumber()-1,h=De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let u=0,p=h.length;u!==p;u++){const m=h[u];if(m>=0)for(let b=0;b!==p;b++){const v=h[b];v>=0&&De.isEmpty(a.get(v,m))&&De.embedPositionAdjustmentPattern(v-2,m-2,a)}}}}De.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),De.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),De.VERSION_INFO_POLY=7973,De.TYPE_INFO_POLY=1335,De.TYPE_INFO_MASK_PATTERN=21522;class Gh{constructor(n,a){this.dataBytes=n,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Tt{constructor(){}static calculateMaskPenalty(n){return Vt.applyMaskPenaltyRule1(n)+Vt.applyMaskPenaltyRule2(n)+Vt.applyMaskPenaltyRule3(n)+Vt.applyMaskPenaltyRule4(n)}static encode(n,a,c=null){let h=Tt.DEFAULT_BYTE_MODE_ENCODING;const u=c!==null&&c.get(ti.CHARACTER_SET)!==void 0;u&&(h=c.get(ti.CHARACTER_SET).toString());const p=this.chooseMode(n,h),m=new ee;if(p===Ne.BYTE&&(u||Tt.DEFAULT_BYTE_MODE_ENCODING!==h)){const pe=J.getCharacterSetECIByName(h);pe!==void 0&&this.appendECI(pe,m)}this.appendModeInfo(p,m);const b=new ee;this.appendBytes(n,p,b,h);let v;if(c!==null&&c.get(ti.QR_VERSION)!==void 0){const pe=Number.parseInt(c.get(ti.QR_VERSION).toString(),10);v=Re.getVersionForNumber(pe);const de=this.calculateBitsNeeded(p,m,b,v);if(!this.willFit(de,v,a))throw new Ct("Data too big for requested version")}else v=this.recommendVersion(a,p,m,b);const A=new ee;A.appendBitArray(m);const E=p===Ne.BYTE?b.getSizeInBytes():n.length;this.appendLengthInfo(E,v,p,A),A.appendBitArray(b);const B=v.getECBlocksForLevel(a),z=v.getTotalCodewords()-B.getTotalECCodewords();this.terminateBits(z,A);const H=this.interleaveWithECBytes(A,v.getTotalCodewords(),z,B.getNumBlocks()),X=new Sn;X.setECLevel(a),X.setMode(p),X.setVersion(v);const te=v.getDimensionForVersion(),re=new Zr(te,te),ue=this.chooseMaskPattern(H,a,v,re);return X.setMaskPattern(ue),De.buildMatrix(H,a,v,ue,re),X.setMatrix(re),X}static recommendVersion(n,a,c,h){const u=this.calculateBitsNeeded(a,c,h,Re.getVersionForNumber(1)),p=this.chooseVersion(u,n),m=this.calculateBitsNeeded(a,c,h,p);return this.chooseVersion(m,n)}static calculateBitsNeeded(n,a,c,h){return a.getSize()+n.getCharacterCountBits(h)+c.getSize()}static getAlphanumericCode(n){return n<Tt.ALPHANUMERIC_TABLE.length?Tt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,a=null){if(J.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(n))return Ne.KANJI;let c=!1,h=!1;for(let u=0,p=n.length;u<p;++u){const m=n.charAt(u);if(Tt.isDigit(m))c=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)h=!0;else return Ne.BYTE}return h?Ne.ALPHANUMERIC:c?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(n){let a;try{a=fe.encode(n,J.SJIS)}catch(h){return!1}const c=a.length;if(c%2!==0)return!1;for(let h=0;h<c;h+=2){const u=a[h]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,a,c,h){let u=Number.MAX_SAFE_INTEGER,p=-1;for(let m=0;m<Sn.NUM_MASK_PATTERNS;m++){De.buildMatrix(n,a,c,m,h);let b=this.calculateMaskPenalty(h);b<u&&(u=b,p=m)}return p}static chooseVersion(n,a){for(let c=1;c<=40;c++){const h=Re.getVersionForNumber(c);if(Tt.willFit(n,h,a))return h}throw new Ct("Data too big")}static willFit(n,a,c){const h=a.getTotalCodewords(),p=a.getECBlocksForLevel(c).getTotalECCodewords(),m=h-p,b=(n+7)/8;return m>=b}static terminateBits(n,a){const c=n*8;if(a.getSize()>c)throw new Ct("data bits cannot fit in the QR Code"+a.getSize()+" > "+c);for(let p=0;p<4&&a.getSize()<c;++p)a.appendBit(!1);const h=a.getSize()&7;if(h>0)for(let p=h;p<8;p++)a.appendBit(!1);const u=n-a.getSizeInBytes();for(let p=0;p<u;++p)a.appendBits((p&1)===0?236:17,8);if(a.getSize()!==c)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,a,c,h,u,p){if(h>=c)throw new Ct("Block ID too large");const m=n%c,b=c-m,v=Math.floor(n/c),A=v+1,E=Math.floor(a/c),B=E+1,z=v-E,H=A-B;if(z!==H)throw new Ct("EC bytes mismatch");if(c!==b+m)throw new Ct("RS blocks mismatch");if(n!==(E+z)*b+(B+H)*m)throw new Ct("Total bytes mismatch");h<b?(u[0]=E,p[0]=z):(u[0]=B,p[0]=H)}static interleaveWithECBytes(n,a,c,h){if(n.getSizeInBytes()!==c)throw new Ct("Number of bits and data bytes does not match");let u=0,p=0,m=0;const b=new Array;for(let A=0;A<h;++A){const E=new Int32Array(1),B=new Int32Array(1);Tt.getNumDataBytesAndNumECBytesForBlockID(a,c,h,A,E,B);const z=E[0],H=new Uint8Array(z);n.toBytes(8*u,H,0,z);const X=Tt.generateECBytes(H,B[0]);b.push(new Gh(H,X)),p=Math.max(p,z),m=Math.max(m,X.length),u+=E[0]}if(c!==u)throw new Ct("Data bytes does not match offset");const v=new ee;for(let A=0;A<p;++A)for(const E of b){const B=E.getDataBytes();A<B.length&&v.appendBits(B[A],8)}for(let A=0;A<m;++A)for(const E of b){const B=E.getErrorCorrectionBytes();A<B.length&&v.appendBits(B[A],8)}if(a!==v.getSizeInBytes())throw new Ct("Interleaving error: "+a+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(n,a){const c=n.length,h=new Int32Array(c+a);for(let p=0;p<c;p++)h[p]=n[p]&255;new hs(ze.QR_CODE_FIELD_256).encode(h,a);const u=new Uint8Array(a);for(let p=0;p<a;p++)u[p]=h[c+p];return u}static appendModeInfo(n,a){a.appendBits(n.getBits(),4)}static appendLengthInfo(n,a,c,h){const u=c.getCharacterCountBits(a);if(n>=1<<u)throw new Ct(n+" is bigger than "+((1<<u)-1));h.appendBits(n,u)}static appendBytes(n,a,c,h){switch(a){case Ne.NUMERIC:Tt.appendNumericBytes(n,c);break;case Ne.ALPHANUMERIC:Tt.appendAlphanumericBytes(n,c);break;case Ne.BYTE:Tt.append8BitBytes(n,c,h);break;case Ne.KANJI:Tt.appendKanjiBytes(n,c);break;default:throw new Ct("Invalid mode: "+a)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const a=Tt.getDigit(n);return a>=0&&a<=9}static appendNumericBytes(n,a){const c=n.length;let h=0;for(;h<c;){const u=Tt.getDigit(n.charAt(h));if(h+2<c){const p=Tt.getDigit(n.charAt(h+1)),m=Tt.getDigit(n.charAt(h+2));a.appendBits(u*100+p*10+m,10),h+=3}else if(h+1<c){const p=Tt.getDigit(n.charAt(h+1));a.appendBits(u*10+p,7),h+=2}else a.appendBits(u,4),h++}}static appendAlphanumericBytes(n,a){const c=n.length;let h=0;for(;h<c;){const u=Tt.getAlphanumericCode(n.charCodeAt(h));if(u===-1)throw new Ct;if(h+1<c){const p=Tt.getAlphanumericCode(n.charCodeAt(h+1));if(p===-1)throw new Ct;a.appendBits(u*45+p,11),h+=2}else a.appendBits(u,6),h++}}static append8BitBytes(n,a,c){let h;try{h=fe.encode(n,c)}catch(u){throw new Ct(u)}for(let u=0,p=h.length;u!==p;u++){const m=h[u];a.appendBits(m,8)}}static appendKanjiBytes(n,a){let c;try{c=fe.encode(n,J.SJIS)}catch(u){throw new Ct(u)}const h=c.length;for(let u=0;u<h;u+=2){const p=c[u]&255,m=c[u+1]&255,b=p<<8&4294967295|m;let v=-1;if(b>=33088&&b<=40956?v=b-33088:b>=57408&&b<=60351&&(v=b-49472),v===-1)throw new Ct("Invalid byte sequence");const A=(v>>8)*192+(v&255);a.appendBits(A,13)}}static appendECI(n,a){a.appendBits(Ne.ECI.getBits(),4),a.appendBits(n.getValue(),8)}}Tt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Tt.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class An{write(n,a,c,h=null){if(n.length===0)throw new C("Found empty contents");if(a<0||c<0)throw new C("Requested dimensions are too small: "+a+"x"+c);let u=At.L,p=An.QUIET_ZONE_SIZE;h!==null&&(h.get(ti.ERROR_CORRECTION)!==void 0&&(u=At.fromString(h.get(ti.ERROR_CORRECTION).toString())),h.get(ti.MARGIN)!==void 0&&(p=Number.parseInt(h.get(ti.MARGIN).toString(),10)));const m=Tt.encode(n,u,h);return this.renderResult(m,a,c,p)}writeToDom(n,a,c,h,u=null){typeof n=="string"&&(n=document.querySelector(n));const p=this.write(a,c,h,u);n&&n.appendChild(p)}renderResult(n,a,c,h){const u=n.getMatrix();if(u===null)throw new Et;const p=u.getWidth(),m=u.getHeight(),b=p+h*2,v=m+h*2,A=Math.max(a,b),E=Math.max(c,v),B=Math.min(Math.floor(A/b),Math.floor(E/v)),z=Math.floor((A-p*B)/2),H=Math.floor((E-m*B)/2),X=this.createSVGElement(A,E);for(let te=0,re=H;te<m;te++,re+=B)for(let ue=0,pe=z;ue<p;ue++,pe+=B)if(u.get(ue,te)===1){const de=this.createSvgRectElement(pe,re,B,B);X.appendChild(de)}return X}createSVGElement(n,a){const c=document.createElementNS(An.SVG_NS,"svg");return c.setAttributeNS(null,"height",n.toString()),c.setAttributeNS(null,"width",a.toString()),c}createSvgRectElement(n,a,c,h){const u=document.createElementNS(An.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",c.toString()),u.setAttributeNS(null,"width",h.toString()),u.setAttributeNS(null,"fill","#000000"),u}}An.QUIET_ZONE_SIZE=4,An.SVG_NS="http://www.w3.org/2000/svg";class Mn{encode(n,a,c,h,u){if(n.length===0)throw new C("Found empty contents");if(a!==we.QR_CODE)throw new C("Can only encode QR_CODE, but got "+a);if(c<0||h<0)throw new C(`Requested dimensions are too small: ${c}x${h}`);let p=At.L,m=Mn.QUIET_ZONE_SIZE;u!==null&&(u.get(ti.ERROR_CORRECTION)!==void 0&&(p=At.fromString(u.get(ti.ERROR_CORRECTION).toString())),u.get(ti.MARGIN)!==void 0&&(m=Number.parseInt(u.get(ti.MARGIN).toString(),10)));const b=Tt.encode(n,p,u);return Mn.renderResult(b,c,h,m)}static renderResult(n,a,c,h){const u=n.getMatrix();if(u===null)throw new Et;const p=u.getWidth(),m=u.getHeight(),b=p+h*2,v=m+h*2,A=Math.max(a,b),E=Math.max(c,v),B=Math.min(Math.floor(A/b),Math.floor(E/v)),z=Math.floor((A-p*B)/2),H=Math.floor((E-m*B)/2),X=new Se(A,E);for(let te=0,re=H;te<m;te++,re+=B)for(let ue=0,pe=z;ue<p;ue++,pe+=B)u.get(ue,te)===1&&X.setRegion(pe,re,B,B);return X}}Mn.QUIET_ZONE_SIZE=4;class qh{encode(n,a,c,h,u){let p;switch(a){case we.QR_CODE:p=new Mn;break;default:throw new C("No encoder available for format "+a)}return p.encode(n,a,c,h,u)}}class Hi extends Ve{constructor(n,a,c,h,u,p,m,b){if(super(p,m),this.yuvData=n,this.dataWidth=a,this.dataHeight=c,this.left=h,this.top=u,h+p>a||u+m>c)throw new C("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(p,m)}getRow(n,a){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const h=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,h,a,0,c),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;const c=n*a,h=new Uint8ClampedArray(c);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.yuvData,u,h,0,c),h;for(let p=0;p<a;p++){const m=p*n;R.arraycopy(this.yuvData,u,h,m,n),u+=this.dataWidth}return h}isCropSupported(){return!0}crop(n,a,c,h){return new Hi(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,c,h,!1)}renderThumbnail(){const n=this.getWidth()/Hi.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Hi.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(n*a),h=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let p=0;p<a;p++){const m=p*n;for(let b=0;b<n;b++){const v=h[u+b*Hi.THUMBNAIL_SCALE_FACTOR]&255;c[m+b]=4278190080|v*65793}u+=this.dataWidth*Hi.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Hi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Hi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,a){const c=this.yuvData;for(let h=0,u=this.top*this.dataWidth+this.left;h<a;h++,u+=this.dataWidth){const p=u+n/2;for(let m=u,b=u+n-1;m<p;m++,b--){const v=c[m];c[m]=c[b],c[b]=v}}}invert(){return new Me(this)}}Hi.THUMBNAIL_SCALE_FACTOR=2;class us extends Ve{constructor(n,a,c,h,u,p,m){if(super(a,c),this.dataWidth=h,this.dataHeight=u,this.left=p,this.top=m,n.BYTES_PER_ELEMENT===4){const b=a*c,v=new Uint8ClampedArray(b);for(let A=0;A<b;A++){const E=n[A],B=E>>16&255,z=E>>7&510,H=E&255;v[A]=(B+z+H)/4&255}this.luminances=v}else this.luminances=n;if(h===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=c),p===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+c>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(n,a){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const h=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,h,a,0,c),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;const c=n*a,h=new Uint8ClampedArray(c);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.luminances,u,h,0,c),h;for(let p=0;p<a;p++){const m=p*n;R.arraycopy(this.luminances,u,h,m,n),u+=this.dataWidth}return h}isCropSupported(){return!0}crop(n,a,c,h){return new us(this.luminances,c,h,this.dataWidth,this.dataHeight,this.left+n,this.top+a)}invert(){return new Me(this)}}class Wa extends J{static forName(n){return this.getCharacterSetECIByName(n)}}class ps{}ps.ISO_8859_1=J.ISO8859_1;class Ua{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Ha{static singletonList(n){return[n]}static min(n,a){return n.sort(a)[0]}}class Xh{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ln extends Xh{constructor(n,a,c){super(n),this.value=a,this.bitCount=c}appendTo(n,a){n.appendBits(this.value,this.bitCount)}add(n,a){return new Ln(this,n,a)}addBinaryShift(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ln(this,n,a)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+M.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class fs extends Ln{constructor(n,a,c){super(n,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=c}appendTo(n,a){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):c===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+c],8)}addBinaryShift(n,a){return new fs(this,n,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yh(_,n,a){return new fs(_,n,a)}function ur(_,n,a){return new Ln(_,n,a)}const Kh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],un=0,Qr=1,Bi=2,Ga=3,Gi=4,$h=new Ln(null,0,0),gs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Zh(_){for(let n of _)Y.fill(n,-1);return _[un][Gi]=0,_[Qr][Gi]=0,_[Qr][un]=28,_[Ga][Gi]=0,_[Bi][Gi]=0,_[Bi][un]=15,_}const qa=Zh(Y.createInt32Array(6,6));class qi{constructor(n,a,c,h){this.token=n,this.mode=a,this.binaryShiftByteCount=c,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,a){let c=this.bitCount,h=this.token;if(n!==this.mode){let p=gs[this.mode][n];h=ur(h,p&65535,p>>16),c+=p>>16}let u=n===Bi?4:5;return h=ur(h,a,u),new qi(h,n,0,c+u)}shiftAndAppend(n,a){let c=this.token,h=this.mode===Bi?4:5;return c=ur(c,qa[this.mode][n],h),c=ur(c,a,5),new qi(c,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(n){let a=this.token,c=this.mode,h=this.bitCount;if(this.mode===Gi||this.mode===Bi){let m=gs[c][un];a=ur(a,m&65535,m>>16),h+=m>>16,c=un}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new qi(a,c,this.binaryShiftByteCount+1,h+u);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(n+1)),p}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Yh(a,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new qi(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let a=this.bitCount+(gs[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?a+=qi.calculateBinaryShiftCost(n)-qi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(a+=10),a<=n.bitCount}toBitArray(n){let a=[];for(let h=this.endBinaryShift(n.length).token;h!==null;h=h.getPrevious())a.unshift(h);let c=new ee;for(const h of a)h.appendTo(c,n);return c}toString(){return oe.format("%s bits=%d bytes=%d",Kh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}qi.INITIAL_STATE=new qi($h,un,0,0);function Qh(_){const n=oe.getCharCode(" "),a=oe.getCharCode("."),c=oe.getCharCode(",");_[un][n]=1;const h=oe.getCharCode("Z"),u=oe.getCharCode("A");for(let B=u;B<=h;B++)_[un][B]=B-u+2;_[Qr][n]=1;const p=oe.getCharCode("z"),m=oe.getCharCode("a");for(let B=m;B<=p;B++)_[Qr][B]=B-m+2;_[Bi][n]=1;const b=oe.getCharCode("9"),v=oe.getCharCode("0");for(let B=v;B<=b;B++)_[Bi][B]=B-v+2;_[Bi][c]=12,_[Bi][a]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let B=0;B<A.length;B++)_[Ga][oe.getCharCode(A[B])]=B;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let B=0;B<E.length;B++)oe.getCharCode(E[B])>0&&(_[Gi][oe.getCharCode(E[B])]=B);return _}const xs=Qh(Y.createInt32Array(5,256));class pr{constructor(n){this.text=n}encode(){const n=oe.getCharCode(" "),a=oe.getCharCode(`
`);let c=Ha.singletonList(qi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let p,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case oe.getCharCode("\r"):p=m===a?2:0;break;case oe.getCharCode("."):p=m===n?3:0;break;case oe.getCharCode(","):p=m===n?4:0;break;case oe.getCharCode(":"):p=m===n?5:0;break;default:p=0}p>0?(c=pr.updateStateListForPair(c,u,p),u++):c=this.updateStateListForChar(c,u)}return Ha.min(c,(u,p)=>u.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,a){const c=[];for(let h of n)this.updateStateForChar(h,a,c);return pr.simplifyStates(c)}updateStateForChar(n,a,c){let h=this.text[a]&255,u=xs[n.getMode()][h]>0,p=null;for(let m=0;m<=Gi;m++){let b=xs[m][h];if(b>0){if(p==null&&(p=n.endBinaryShift(a)),!u||m===n.getMode()||m===Bi){const v=p.latchAndAppend(m,b);c.push(v)}if(!u&&qa[n.getMode()][m]>=0){const v=p.shiftAndAppend(m,b);c.push(v)}}}if(n.getBinaryShiftByteCount()>0||xs[n.getMode()][h]===0){let m=n.addBinaryShiftChar(a);c.push(m)}}static updateStateListForPair(n,a,c){const h=[];for(let u of n)this.updateStateForPair(u,a,c,h);return this.simplifyStates(h)}static updateStateForPair(n,a,c,h){let u=n.endBinaryShift(a);if(h.push(u.latchAndAppend(Gi,c)),n.getMode()!==Gi&&h.push(u.shiftAndAppend(Gi,c)),c===3||c===4){let p=u.latchAndAppend(Bi,16-c).latchAndAppend(Bi,1);h.push(p)}if(n.getBinaryShiftByteCount()>0){let p=n.addBinaryShiftChar(a).addBinaryShiftChar(a+1);h.push(p)}}static simplifyStates(n){let a=[];for(const c of n){let h=!0;for(const u of a){if(u.isBetterThanOrEqualTo(c)){h=!1;break}c.isBetterThanOrEqualTo(u)&&(a=a.filter(p=>p!==u))}h&&a.push(c)}return a}}class ht{constructor(){}static encodeBytes(n){return ht.encode(n,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(n,a,c){let h=new pr(n).encode(),u=M.truncDivision(h.getSize()*a,100)+11,p=h.getSize()+u,m,b,v,A,E;if(c!==ht.DEFAULT_AZTEC_LAYERS){if(m=c<0,b=Math.abs(c),b>(m?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new C(oe.format("Illegal value %s for layers",c));v=ht.totalBitsInLayer(b,m),A=ht.WORD_SIZE[b];let de=v-v%A;if(E=ht.stuffBits(h,A),E.getSize()+u>de)throw new C("Data to large for user specified layer");if(m&&E.getSize()>A*64)throw new C("Data to large for user specified layer")}else{A=0,E=null;for(let de=0;;de++){if(de>ht.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(m=de<=3,b=m?de+1:de,v=ht.totalBitsInLayer(b,m),p>v)continue;(E==null||A!==ht.WORD_SIZE[b])&&(A=ht.WORD_SIZE[b],E=ht.stuffBits(h,A));let ot=v-v%A;if(!(m&&E.getSize()>A*64)&&E.getSize()+u<=ot)break}}let B=ht.generateCheckWords(E,v,A),z=E.getSize()/A,H=ht.generateModeMessage(m,b,z),X=(m?11:14)+b*4,te=new Int32Array(X),re;if(m){re=X;for(let de=0;de<te.length;de++)te[de]=de}else{re=X+1+2*M.truncDivision(M.truncDivision(X,2)-1,15);let de=M.truncDivision(X,2),ot=M.truncDivision(re,2);for(let Ge=0;Ge<de;Ge++){let wi=Ge+M.truncDivision(Ge,15);te[de-Ge-1]=ot-wi-1,te[de+Ge]=ot+wi+1}}let ue=new Se(re);for(let de=0,ot=0;de<b;de++){let Ge=(b-de)*4+(m?9:12);for(let wi=0;wi<Ge;wi++){let Mi=wi*2;for(let vi=0;vi<2;vi++)B.get(ot+Mi+vi)&&ue.set(te[de*2+vi],te[de*2+wi]),B.get(ot+Ge*2+Mi+vi)&&ue.set(te[de*2+wi],te[X-1-de*2-vi]),B.get(ot+Ge*4+Mi+vi)&&ue.set(te[X-1-de*2-vi],te[X-1-de*2-wi]),B.get(ot+Ge*6+Mi+vi)&&ue.set(te[X-1-de*2-wi],te[de*2+vi])}ot+=Ge*8}if(ht.drawModeMessage(ue,m,re,H),m)ht.drawBullsEye(ue,M.truncDivision(re,2),5);else{ht.drawBullsEye(ue,M.truncDivision(re,2),7);for(let de=0,ot=0;de<M.truncDivision(X,2)-1;de+=15,ot+=16)for(let Ge=M.truncDivision(re,2)&1;Ge<re;Ge+=2)ue.set(M.truncDivision(re,2)-ot,Ge),ue.set(M.truncDivision(re,2)+ot,Ge),ue.set(Ge,M.truncDivision(re,2)-ot),ue.set(Ge,M.truncDivision(re,2)+ot)}let pe=new Ua;return pe.setCompact(m),pe.setSize(re),pe.setLayers(b),pe.setCodeWords(z),pe.setMatrix(ue),pe}static drawBullsEye(n,a,c){for(let h=0;h<c;h+=2)for(let u=a-h;u<=a+h;u++)n.set(u,a-h),n.set(u,a+h),n.set(a-h,u),n.set(a+h,u);n.set(a-c,a-c),n.set(a-c+1,a-c),n.set(a-c,a-c+1),n.set(a+c,a-c),n.set(a+c,a-c+1),n.set(a+c,a+c-1)}static generateModeMessage(n,a,c){let h=new ee;return n?(h.appendBits(a-1,2),h.appendBits(c-1,6),h=ht.generateCheckWords(h,28,4)):(h.appendBits(a-1,5),h.appendBits(c-1,11),h=ht.generateCheckWords(h,40,4)),h}static drawModeMessage(n,a,c,h){let u=M.truncDivision(c,2);if(a)for(let p=0;p<7;p++){let m=u-3+p;h.get(p)&&n.set(m,u-5),h.get(p+7)&&n.set(u+5,m),h.get(20-p)&&n.set(m,u+5),h.get(27-p)&&n.set(u-5,m)}else for(let p=0;p<10;p++){let m=u-5+p+M.truncDivision(p,5);h.get(p)&&n.set(m,u-7),h.get(p+10)&&n.set(u+7,m),h.get(29-p)&&n.set(m,u+7),h.get(39-p)&&n.set(u-7,m)}}static generateCheckWords(n,a,c){let h=n.getSize()/c,u=new hs(ht.getGF(c)),p=M.truncDivision(a,c),m=ht.bitsToWords(n,c,p);u.encode(m,p-h);let b=a%c,v=new ee;v.appendBits(0,b);for(const A of Array.from(m))v.appendBits(A,c);return v}static bitsToWords(n,a,c){let h=new Int32Array(c),u,p;for(u=0,p=n.getSize()/a;u<p;u++){let m=0;for(let b=0;b<a;b++)m|=n.get(u*a+b)?1<<a-b-1:0;h[u]=m}return h}static getGF(n){switch(n){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new C("Unsupported word size "+n)}}static stuffBits(n,a){let c=new ee,h=n.getSize(),u=(1<<a)-2;for(let p=0;p<h;p+=a){let m=0;for(let b=0;b<a;b++)(p+b>=h||n.get(p+b))&&(m|=1<<a-1-b);(m&u)===u?(c.appendBits(m&u,a),p--):(m&u)===0?(c.appendBits(m|1,a),p--):c.appendBits(m,a)}return c}static totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Jr{encode(n,a,c,h){return this.encodeWithHints(n,a,c,h,null)}encodeWithHints(n,a,c,h,u){let p=ps.ISO_8859_1,m=ht.DEFAULT_EC_PERCENT,b=ht.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(ti.CHARACTER_SET)&&(p=Wa.forName(u.get(ti.CHARACTER_SET).toString())),u.has(ti.ERROR_CORRECTION)&&(m=M.parseInt(u.get(ti.ERROR_CORRECTION).toString())),u.has(ti.AZTEC_LAYERS)&&(b=M.parseInt(u.get(ti.AZTEC_LAYERS).toString()))),Jr.encodeLayers(n,a,c,h,p,m,b)}static encodeLayers(n,a,c,h,u,p,m){if(a!==we.AZTEC)throw new C("Can only encode AZTEC, but got "+a);let b=ht.encode(oe.getBytes(n,u),p,m);return Jr.renderResult(b,c,h)}static renderResult(n,a,c){let h=n.getMatrix();if(h==null)throw new Et;let u=h.getWidth(),p=h.getHeight(),m=Math.max(a,u),b=Math.max(c,p),v=Math.min(m/u,b/p),A=(m-u*v)/2,E=(b-p*v)/2,B=new Se(m,b);for(let z=0,H=E;z<p;z++,H+=v)for(let X=0,te=A;X<u;X++,te+=v)h.get(X,z)&&B.setRegion(te,H,v,v);return B}}i.AbstractExpandedDecoder=ts,i.ArgumentException=w,i.ArithmeticException=Zt,i.AztecCode=Ua,i.AztecCodeReader=ge,i.AztecCodeWriter=Jr,i.AztecDecoder=Ye,i.AztecDetector=K,i.AztecDetectorResult=Ht,i.AztecEncoder=ht,i.AztecHighLevelEncoder=pr,i.AztecPoint=kt,i.BarcodeFormat=we,i.Binarizer=k,i.BinaryBitmap=S,i.BitArray=ee,i.BitMatrix=Se,i.BitSource=os,i.BrowserAztecCodeReader=xt,i.BrowserBarcodeReader=Th,i.BrowserCodeReader=Oe,i.BrowserDatamatrixCodeReader=Ih,i.BrowserMultiFormatReader=Wh,i.BrowserPDF417Reader=Uh,i.BrowserQRCodeReader=Hh,i.BrowserQRCodeSvgWriter=An,i.CharacterSetECI=J,i.ChecksumException=j,i.Code128Reader=T,i.Code39Reader=he,i.DataMatrixDecodedBitStreamParser=ln,i.DataMatrixReader=cn,i.DecodeHintType=W,i.DecoderResult=_t,i.DefaultGridSampler=tt,i.DetectorResult=Te,i.EAN13Reader=gi,i.EncodeHintType=ti,i.Exception=y,i.FormatException=I,i.GenericGF=ze,i.GenericGFPoly=ft,i.GlobalHistogramBinarizer=Ae,i.GridSampler=et,i.GridSamplerInstance=Ft,i.HTMLCanvasElementLuminanceSource=rt,i.HybridBinarizer=ce,i.ITFReader=ke,i.IllegalArgumentException=C,i.IllegalStateException=Et,i.InvertedLuminanceSource=Me,i.LuminanceSource=Ve,i.MathUtils=Ie,i.MultiFormatOneDReader=Dn,i.MultiFormatReader=Va,i.MultiFormatWriter=qh,i.NotFoundException=Q,i.OneDReader=We,i.PDF417DecodedBitStreamParser=ne,i.PDF417DecoderErrorCorrection=za,i.PDF417Reader=li,i.PDF417ResultMetadata=Da,i.PerspectiveTransform=dt,i.PlanarYUVLuminanceSource=Hi,i.QRCodeByteMatrix=Zr,i.QRCodeDataMask=Ri,i.QRCodeDecodedBitStreamParser=Pt,i.QRCodeDecoderErrorCorrectionLevel=At,i.QRCodeDecoderFormatInformation=di,i.QRCodeEncoder=Tt,i.QRCodeEncoderQRCode=Sn,i.QRCodeMaskUtil=Vt,i.QRCodeMatrixUtil=De,i.QRCodeMode=Ne,i.QRCodeReader=dn,i.QRCodeVersion=Re,i.QRCodeWriter=Mn,i.RGBLuminanceSource=us,i.RSS14Reader=Lt,i.RSSExpandedReader=ae,i.ReaderException=$r,i.ReedSolomonDecoder=Qt,i.ReedSolomonEncoder=hs,i.ReedSolomonException=bt,i.Result=Ue,i.ResultMetadataType=Xe,i.ResultPoint=V,i.StringUtils=oe,i.UnsupportedOperationException=le,i.VideoInputDevice=ye,i.WhiteRectangleDetector=q,i.WriterException=Ct,i.ZXingArrays=Y,i.ZXingCharset=Wa,i.ZXingInteger=M,i.ZXingStandardCharsets=ps,i.ZXingStringBuilder=ve,i.ZXingStringEncoding=fe,i.ZXingSystem=R,i.createAbstractExpandedDecoder=Oa,Object.defineProperty(i,"__esModule",{value:!0})}))})(kr,kr.exports)),kr.exports}var Rt=Yb();const Kb=aa(Rt),$b=cu({__proto__:null,default:Kb},[Rt]);var Tc=(function(){function o(e,i,s){if(this.formatMap=new Map([[_e.QR_CODE,Rt.BarcodeFormat.QR_CODE],[_e.AZTEC,Rt.BarcodeFormat.AZTEC],[_e.CODABAR,Rt.BarcodeFormat.CODABAR],[_e.CODE_39,Rt.BarcodeFormat.CODE_39],[_e.CODE_93,Rt.BarcodeFormat.CODE_93],[_e.CODE_128,Rt.BarcodeFormat.CODE_128],[_e.DATA_MATRIX,Rt.BarcodeFormat.DATA_MATRIX],[_e.MAXICODE,Rt.BarcodeFormat.MAXICODE],[_e.ITF,Rt.BarcodeFormat.ITF],[_e.EAN_13,Rt.BarcodeFormat.EAN_13],[_e.EAN_8,Rt.BarcodeFormat.EAN_8],[_e.PDF_417,Rt.BarcodeFormat.PDF_417],[_e.RSS_14,Rt.BarcodeFormat.RSS_14],[_e.RSS_EXPANDED,Rt.BarcodeFormat.RSS_EXPANDED],[_e.UPC_A,Rt.BarcodeFormat.UPC_A],[_e.UPC_E,Rt.BarcodeFormat.UPC_E],[_e.UPC_EAN_EXTENSION,Rt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!$b)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=s;var l=this.createZXingFormats(e),d=new Map;d.set(Rt.DecodeHintType.POSSIBLE_FORMATS,l),d.set(Rt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return o.prototype.decodeAsync=function(e){var i=this;return new Promise(function(s,l){try{s(i.decode(e))}catch(d){l(d)}})},o.prototype.decode=function(e){var i=new Rt.MultiFormatReader(this.verbose,this.hints),s=new Rt.HTMLCanvasElementLuminanceSource(e),l=new Rt.BinaryBitmap(new Rt.HybridBinarizer(s)),d=i.decode(l);return{text:d.text,format:ih.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(i,s,l){e.set(i,s)}),e},o.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},o.prototype.createZXingFormats=function(e){for(var i=[],s=0,l=e;s<l.length;s++){var d=l[s];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o})(),Zb=function(o,e,i,s){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function x(w){try{y(s.next(w))}catch(C){f(C)}}function g(w){try{y(s.throw(w))}catch(C){f(C)}}function y(w){w.done?d(w.value):l(w.value).then(x,g)}y((s=s.apply(o,e||[])).next())})},Qb=function(o,e){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return g([y,w])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(o,i)}catch(w){y=[6,w],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Rc=(function(){function o(e,i,s){if(this.formatMap=new Map([[_e.QR_CODE,"qr_code"],[_e.AZTEC,"aztec"],[_e.CODABAR,"codabar"],[_e.CODE_39,"code_39"],[_e.CODE_93,"code_93"],[_e.CODE_128,"code_128"],[_e.DATA_MATRIX,"data_matrix"],[_e.ITF,"itf"],[_e.EAN_13,"ean_13"],[_e.EAN_8,"ean_8"],[_e.PDF_417,"pdf417"],[_e.UPC_A,"upc_a"],[_e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=s;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e!="undefined"},o.prototype.decodeAsync=function(e){return Zb(this,void 0,void 0,function(){var i,s;return Qb(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(i=l.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(i),[2,{text:s.rawValue,format:ih.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(e){for(var i=null,s=0,l=0,d=e;l<d.length;l++){var f=d[l],x=f.boundingBox.width*f.boundingBox.height;x>s&&(s=x,i=f)}if(!i)throw"No largest barcode found";return i},o.prototype.createBarcodeDetectorFormats=function(e){for(var i=[],s=0,l=e;s<l.length;s++){var d=l[s];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},o.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},o.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(i,s,l){e.set(i,s)}),e},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o})(),Ic=function(o,e,i,s){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function x(w){try{y(s.next(w))}catch(C){f(C)}}function g(w){try{y(s.throw(w))}catch(C){f(C)}}function y(w){w.done?d(w.value):l(w.value).then(x,g)}y((s=s.apply(o,e||[])).next())})},Bc=function(o,e){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return g([y,w])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(o,i)}catch(w){y=[6,w],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Jb=(function(){function o(e,i,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,i&&Rc.isSupported()?(this.primaryDecoder=new Rc(e,s,l),this.secondaryDecoder=new Tc(e,s,l)):this.primaryDecoder=new Tc(e,s,l)}return o.prototype.decodeAsync=function(e){return Ic(this,void 0,void 0,function(){var i;return Bc(this,function(s){switch(s.label){case 0:i=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(e){return Ic(this,void 0,void 0,function(){var i,s;return Bc(this,function(l){switch(l.label){case 0:i=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw s;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(e){if(this.verbose){var i=performance.now()-e;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,i=0,s=this.executionResults;i<s.length;i++){var l=s[i];e+=l}var d=e/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o})(),Ra=(function(){var o=function(e,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},o(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");o(e,i);function s(){this.constructor=e}e.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}})(),Vo=function(o,e,i,s){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function x(w){try{y(s.next(w))}catch(C){f(C)}}function g(w){try{y(s.throw(w))}catch(C){f(C)}}function y(w){w.done?d(w.value):l(w.value).then(x,g)}y((s=s.apply(o,e||[])).next())})},Wo=function(o,e){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return g([y,w])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(o,i)}catch(w){y=[6,w],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},rh=(function(){function o(e,i){this.name=e,this.track=i}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(e){var i={};i[this.name]=e;var s={advanced:[i]};return this.track.applyConstraints(s)},o.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var i=e[this.name];return i}return null},o})(),e2=(function(o){Ra(e,o);function e(i,s){return o.call(this,i,s)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(i){var s={};s[this.name]=i;var l={advanced:[s]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),s=i[this.name];return{min:s.min,max:s.max,step:s.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(rh),t2=(function(o){Ra(e,o);function e(i){return o.call(this,"zoom",i)||this}return e})(e2),i2=(function(o){Ra(e,o);function e(i){return o.call(this,"torch",i)||this}return e})(rh),n2=(function(){function o(e){this.track=e}return o.prototype.zoomFeature=function(){return new t2(this.track)},o.prototype.torchFeature=function(){return new i2(this.track)},o})(),r2=(function(){function o(e,i,s){this.isClosed=!1,this.parentElement=e,this.mediaStream=i,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return o.prototype.createVideoElement=function(e){var i=document.createElement("video");return i.style.width="".concat(e,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},o.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var s=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(s,l),e.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(e,i,s,l){return Vo(this,void 0,void 0,function(){var d,f;return Wo(this,function(x){switch(x.label){case 0:return d=new o(e,i,l),s.aspectRatio?(f={aspectRatio:s.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:x.sent(),x.label=2;case 2:return d.setupSurface(),[2,d]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(e){this.failIfClosed();var i=this,s=function(){setTimeout(e,200),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(e){return Vo(this,void 0,void 0,function(){return Wo(this,function(i){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(i,s){var l=e.mediaStream.getVideoTracks(),d=l.length,f=0;e.mediaStream.getVideoTracks().forEach(function(x){e.mediaStream.removeTrack(x),x.stop(),++f,f>=d&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),i())})})},o.prototype.getCapabilities=function(){return new n2(this.getFirstTrackOrFail())},o})(),o2=(function(){function o(e){this.mediaStream=e}return o.prototype.render=function(e,i,s){return Vo(this,void 0,void 0,function(){return Wo(this,function(l){return[2,r2.create(e,this.mediaStream,i,s)]})})},o.create=function(e){return Vo(this,void 0,void 0,function(){var i,s;return Wo(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return s=l.sent(),[2,new o(s)]}})})},o})(),Oc=function(o,e,i,s){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function x(w){try{y(s.next(w))}catch(C){f(C)}}function g(w){try{y(s.throw(w))}catch(C){f(C)}}function y(w){w.done?d(w.value):l(w.value).then(x,g)}y((s=s.apply(o,e||[])).next())})},Nc=function(o,e){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return g([y,w])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(o,i)}catch(w){y=[6,w],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},s2=(function(){function o(){}return o.failIfNotSupported=function(){return Oc(this,void 0,void 0,function(){return Nc(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(e){return Oc(this,void 0,void 0,function(){return Nc(this,function(i){return[2,o2.create(e)]})})},o})(),a2=function(o,e,i,s){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function x(w){try{y(s.next(w))}catch(C){f(C)}}function g(w){try{y(s.throw(w))}catch(C){f(C)}}function y(w){w.done?d(w.value):l(w.value).then(x,g)}y((s=s.apply(o,e||[])).next())})},l2=function(o,e){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,l,d,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return g([y,w])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(d=y[0]&2?l.return:y[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,y[1])).done)return d;switch(l=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(o,i)}catch(w){y=[6,w],l=0}finally{s=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},c2=(function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var e=Yn.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(e=Yn.insecureContextCameraQueryError()),Promise.reject(e)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},o.getCamerasFromMediaDevices=function(){return a2(this,void 0,void 0,function(){var e,i,s,l,d,f,x;return l2(this,function(g){switch(g.label){case 0:return e=function(y){for(var w=y.getVideoTracks(),C=0,S=w;C<S.length;C++){var j=S[C];j.enabled=!1,j.stop(),y.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=g.sent(),l=[],d=0,f=s;d<f.length;d++)x=f[d],x.kind==="videoinput"&&l.push({id:x.deviceId,label:x.label});return e(i),[2,l]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,i){var s=function(d){for(var f=[],x=0,g=d;x<g.length;x++){var y=g[x];y.kind==="video"&&f.push({id:y.id,label:y.label})}e(f)},l=MediaStreamTrack;l.getSources(s)})},o})(),Ut;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(Ut||(Ut={}));var d2=(function(){function o(){this.state=Ut.NOT_STARTED,this.onGoingTransactionNewState=Ut.UNKNOWN}return o.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},o.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ut.UNKNOWN,this.directTransition(e)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ut.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(e){switch(this.state){case Ut.UNKNOWN:throw"Transition from unknown is not allowed";case Ut.NOT_STARTED:this.failIfNewStateIs(e,[Ut.PAUSED]);break;case Ut.SCANNING:break;case Ut.PAUSED:break}},o.prototype.failIfNewStateIs=function(e,i){for(var s=0,l=i;s<l.length;s++){var d=l[s];if(e===d)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},o})(),h2=(function(){function o(e){this.stateManager=e}return o.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},o.prototype.directTransition=function(e){this.stateManager.directTransition(e)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===Ut.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==Ut.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ut.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===Ut.PAUSED},o})(),u2=(function(){function o(){}return o.create=function(){return new h2(new d2)},o})(),p2=(function(){var o=function(e,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},o(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");o(e,i);function s(){this.constructor=e}e.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}})(),Ei=(function(o){p2(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Hb),f2=(function(){function o(e,i){this.logger=i,this.fps=Ei.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ei.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?nh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!nn(this.qrbox)},o.create=function(e,i){return new o(e,i)},o})(),g2=(function(){function o(e,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var s;typeof i=="boolean"?this.verbose=i===!0:i&&(s=i,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new qb(this.verbose),this.qrcode=new Jb(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=u2.create()}return o.prototype.start=function(e,i,s,l){var d=this;if(!e)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;l?f=l:f=this.verbose?this.logger.log:function(){};var x=f2.create(i,this.logger);this.clearElement();var g=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=g,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Ei.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,S=this.stateManagerProxy.startTransition(Ut.SCANNING);return new Promise(function(j,k){var R=y?x.videoConstraints:C.createVideoConstraints(e);if(!R){S.cancel(),k("videoConstraints should be defined");return}var O={};(!y||x.aspectRatio)&&(O.aspectRatio=x.aspectRatio);var F={onRenderSurfaceReady:function(Y,M){C.setupUi(Y,M,x),C.isScanning=!0,C.foreverScan(x,s,f)}};s2.failIfNotSupported().then(function(Y){Y.create(R).then(function(M){return M.render(d.element,O,F).then(function(ee){C.renderedCamera=ee,S.execute(),j(null)}).catch(function(ee){S.cancel(),k(ee)})}).catch(function(M){S.cancel(),k(Yn.errorGettingUserMedia(M))})}).catch(function(Y){S.cancel(),k(Yn.cameraStreamingNotSupported())})})},o.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ut.PAUSED),this.showPausedState(),(nn(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,i=function(){e.stateManagerProxy.directTransition(Ut.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(e.element){var d=document.getElementById(Ei.SHADED_REGION_ELEMENT_ID);d&&e.element.removeChild(d)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),i.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(e,i){return this.scanFileV2(e,i).then(function(s){return s.decodedText})},o.prototype.scanFileV2=function(e,i){var s=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(nn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,d){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var x=f.width,g=f.height,y=document.getElementById(s.elementId),w=y.clientWidth?y.clientWidth:Ei.DEFAULT_WIDTH,C=Math.max(y.clientHeight?y.clientHeight:g,Ei.FILE_SCAN_MIN_HEIGHT),S=s.computeCanvasDrawConfig(x,g,w,C);if(i){var j=s.createCanvasElement(w,C,"qr-canvas-visible");j.style.display="inline-block",y.appendChild(j);var k=j.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=w,k.canvas.height=C,k.drawImage(f,0,0,x,g,S.x,S.y,S.width,S.height)}var R=Ei.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(f.width,S.width),F=Math.max(f.height,S.height),Y=O+2*R,M=F+2*R,ee=s.createCanvasElement(Y,M);y.appendChild(ee);var U=ee.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=Y,U.canvas.height=M,U.drawImage(f,0,0,x,g,R,R,O,F);try{s.qrcode.decodeRobustlyAsync(ee).then(function(W){l(Ec.createFromQrcodeResult(W))}).catch(d)}catch(W){d("QR code parse error, error = ".concat(W))}},f.onerror=d,f.onabort=d,f.onstalled=d,f.onsuspend=d,f.src=URL.createObjectURL(e)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return c2.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(e){if(e){if(!nh.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(e){var i=[_e.QR_CODE,_e.AZTEC,_e.CODABAR,_e.CODE_39,_e.CODE_93,_e.CODE_128,_e.DATA_MATRIX,_e.MAXICODE,_e.ITF,_e.EAN_13,_e.EAN_8,_e.PDF_417,_e.RSS_14,_e.RSS_EXPANDED,_e.UPC_A,_e.UPC_E,_e.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return i;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,d=e.formatsToSupport;l<d.length;l++){var f=d[l];Ub(f)?s.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},o.prototype.getUseBarCodeDetectorIfSupported=function(e){if(nn(e))return!0;if(!nn(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(nn(e.experimentalFeatures))return!0;var i=e.experimentalFeatures;return nn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(e,i,s){var l=this,d=s.qrbox;this.validateQrboxConfig(d);var f=this.toQrdimensions(e,i,d),x=function(y){if(y<Ei.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ei.MIN_QR_BOX_SIZE,"px.")},g=function(y){return y>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};x(f.width),x(f.height),f.width=g(f.width)},o.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(e,i,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(e,i)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},o.prototype.setupUi=function(e,i,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(e,i,s);var l=nn(s.qrbox)?{width:e,height:i}:s.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(e,i,l);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=s.isShadedBoxEnabled()&&d.height<=i,x={x:0,y:0,width:e,height:i},g=f?this.getShadedRegionBounds(e,i,d):x,y=this.createCanvasElement(g.width,g.height),w={willReadFrequently:!0},C=y.getContext("2d",w);C.canvas.width=g.width,C.canvas.height=g.height,this.element.append(y),f&&this.possiblyInsertShadingElement(this.element,e,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=C,this.canvasElement=y},o.prototype.createScannerPausedUiElement=function(e){var i=document.createElement("div");i.innerText=Yn.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",e.appendChild(i),this.scannerPausedUiElement=i},o.prototype.scanContext=function(e,i){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Ec.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var d=Yn.codeParseError(l);return i(d,Gb.createFrom(d)),!1})},o.prototype.foreverScan=function(e,i,s){var l=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),f=d.videoWidth/d.clientWidth,x=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*f,y=this.qrRegion.height*x,w=this.qrRegion.x*f,C=this.qrRegion.y*x;this.context.drawImage(d,w,C,g,y,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,i,s)},l.getTimeoutFps(e.fps))};this.scanContext(i,s).then(function(j){!j&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(i,s).finally(function(){S()})):S()}).catch(function(j){l.logger.logError("Error happend while scanning context",j),S()})}},o.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var i="facingMode",s="deviceId",l={user:!0,environment:!0},d="exact",f=function(k){if(k in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},x=Object.keys(e);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var g=Object.keys(e)[0];if(g!==i&&g!==s)throw"Only '".concat(i,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(g===i){var y=e.facingMode;if(typeof y=="string"){if(f(y))return{facingMode:y}}else if(typeof y=="object")if(d in y){if(f(y["".concat(d)]))return{facingMode:{exact:y["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var w=typeof y;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(d in C)return{deviceId:{exact:C["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var S=typeof C;throw"Invalid type of 'deviceId' = ".concat(S)}}}var j=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},o.prototype.computeCanvasDrawConfig=function(e,i,s,l){if(e<=s&&i<=l){var d=(s-e)/2,f=(l-i)/2;return{x:d,y:f,width:e,height:i}}else{var x=e,g=i;return e>s&&(i=s/e*i,e=s),i>l&&(e=l/i*e,i=l),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(g)+" to ".concat(e,"X").concat(i,".")),this.computeCanvasDrawConfig(e,i,s,l)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},o.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=e?Ei.BORDER_SHADER_MATCH_COLOR:Ei.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(e,i,s){var l=e,d=i,f=document.createElement("canvas");return f.style.width="".concat(l,"px"),f.style.height="".concat(d,"px"),f.style.display="none",f.id=nn(s)?"qr-canvas":s,f},o.prototype.getShadedRegionBounds=function(e,i,s){if(s.width>e||s.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-s.width)/2,y:(i-s.height)/2,width:s.width,height:s.height}},o.prototype.possiblyInsertShadingElement=function(e,i,s,l){if(!(i-l.width<1||s-l.height<1)){var d=document.createElement("div");d.style.position="absolute";var f=(i-l.width)/2,x=(s-l.height)/2;if(d.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Ei.SHADED_REGION_ELEMENT_ID),i-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var g=5,y=40;this.insertShaderBorders(d,y,g,-g,null,0,!0),this.insertShaderBorders(d,y,g,-g,null,0,!1),this.insertShaderBorders(d,y,g,null,-g,0,!0),this.insertShaderBorders(d,y,g,null,-g,0,!1),this.insertShaderBorders(d,g,y+g,-g,null,-g,!0),this.insertShaderBorders(d,g,y+g,null,-g,-g,!0),this.insertShaderBorders(d,g,y+g,-g,null,-g,!1),this.insertShaderBorders(d,g,y+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(d)}},o.prototype.insertShaderBorders=function(e,i,s,l,d,f,x){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Ei.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(i,"px"),g.style.height="".concat(s,"px"),l!==null&&(g.style.top="".concat(l,"px")),d!==null&&(g.style.bottom="".concat(d,"px")),x?g.style.left="".concat(f,"px"):g.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(e){return 1e3/e},o})(),zc;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(zc||(zc={}));const Pc={"qrScanner.title":"QR Code Scanner","qrScanner.recommendedTitle":"ğŸ’¡ Manual Entry Recommended","qrScanner.recommendedText":"For best results, we recommend manually entering the voucher code instead of scanning. This is faster and more reliable.","qrScanner.useManualEntry":"Use Manual Entry","qrScanner.or":"OR","qrScanner.tryQRScanner":"Try QR Scanner","qrScanner.instruction1":"Allow camera access when prompted","qrScanner.instruction2":"Position the QR code in the frame","qrScanner.instruction3":"Keep the code steady for 2-3 seconds","qrScanner.instruction4":"The code will scan automatically","qrScanner.enableCamera":"Enable Camera","qrScanner.errorTitle":"Camera Error","qrScanner.errorPermissionBlocked":"Camera permission was blocked. Please allow camera access in your browser settings.","qrScanner.errorNoCamera":"No camera found on this device. Please use manual entry instead.","qrScanner.errorCameraInUse":"Camera is already in use by another application. Please close other apps using the camera.","qrScanner.errorFailed":"Failed to start camera. Please check your browser settings and try again.","qrScanner.fixTitle":"How to Fix This","qrScanner.fixInstructions":"Follow these steps to enable camera access:","qrScanner.fixStep1":"Look for the camera icon in your browser's address bar","qrScanner.fixStep2":'Click it and select "Allow" for this website',"qrScanner.fixStep3":"Refresh the page and try again","qrScanner.openSettings":"Open Camera Settings","qrScanner.tryAgain":"Try Again","qrScanner.useManualEntryRecommended":"Use Manual Entry Instead","qrScanner.cameraActive":"Camera Active âœ“","qrScanner.positionQR":"Position QR code in the frame","qrScanner.initializing":"Initializing camera...","common.close":"Close"};function x2({onScan:o,onClose:e,t:i}){const[s,l]=D.useState(!1),[d,f]=D.useState(""),[x,g]=D.useState(!1),[y,w]=D.useState(!0),[C,S]=D.useState(!1);D.useRef(null);const j=D.useRef(null),k=W=>{if(i&&typeof i=="function"){const I=i(W);return I===W||!I?Pc[W]||W:I}return Pc[W]||W};D.useEffect(()=>()=>{Y()},[]);const R=()=>{const W=navigator.userAgent;return W.includes("Chrome")&&!W.includes("Edg")?"chrome":W.includes("Firefox")?"firefox":W.includes("Safari")&&!W.includes("Chrome")?"safari":W.includes("Edg")?"edge":"unknown"},O=()=>{switch(R()){case"chrome":return"chrome://settings/content/camera";case"firefox":return"about:preferences#privacy";case"edge":return"edge://settings/content/camera";default:return null}},F=()=>se(null,null,function*(){try{if(f(""),w(!1),S(!1),!(yield navigator.mediaDevices.enumerateDevices()).some(J=>J.kind==="videoinput")){f(k("qrScanner.errorNoCamera")),g(!1),l(!1);return}const Z=new g2("qr-reader");j.current=Z,yield Z.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},J=>{o(J),Y()},J=>{}),l(!0),g(!0)}catch(W){console.error("QR Scanner error:",W),g(!1),l(!1),W.name==="NotAllowedError"||W.name==="PermissionDeniedError"?(S(!0),f(k("qrScanner.errorPermissionBlocked"))):W.name==="NotFoundError"||W.name==="DevicesNotFoundError"?f(k("qrScanner.errorNoCamera")):W.name==="NotReadableError"||W.name==="TrackStartError"?f(k("qrScanner.errorCameraInUse")):f(k("qrScanner.errorFailed"))}}),Y=()=>se(null,null,function*(){try{j.current&&j.current.isScanning&&(yield j.current.stop(),j.current.clear()),l(!1),g(!1)}catch(W){console.error("Error stopping scanner:",W)}}),M=()=>se(null,null,function*(){yield Y(),e()}),ee=()=>{w(!1),F()},U=()=>{const W=O();W&&window.open(W,"_blank")};return r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"10px",padding:"20px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflowY:"auto"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("h3",{style:{margin:0},children:["ğŸ“· ",k("qrScanner.title")]}),r.jsxs("button",{onClick:M,style:{backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",padding:"8px 16px",cursor:"pointer",fontSize:"18px"},children:["âœ• ",k("common.close")]})]}),y&&!x&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("div",{style:{backgroundColor:"#4CAF50",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"34px",marginBottom:"10px"},children:"ğŸ’¡"}),r.jsx("h3",{style:{margin:"0 0 10px 0"},children:k("qrScanner.recommendedTitle")}),r.jsx("p",{style:{margin:"0",fontSize:"16px",lineHeight:"1.6"},children:k("qrScanner.recommendedText")}),r.jsxs("button",{onClick:M,style:{backgroundColor:"white",color:"#4CAF50",border:"none",borderRadius:"5px",padding:"12px 24px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",marginTop:"15px",width:"100%"},children:["âœ“ ",k("qrScanner.useManualEntry")]})]}),r.jsxs("div",{style:{textAlign:"center",margin:"20px 0",color:"#999",fontSize:"16px"},children:["â€” ",k("qrScanner.or")," â€”"]}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[r.jsxs("h4",{style:{margin:"0 0 15px 0",color:"#1976d2"},children:["ğŸ“± ",k("qrScanner.tryQRScanner")]}),r.jsxs("ol",{style:{margin:"0",paddingLeft:"20px",lineHeight:"1.8",fontSize:"16px"},children:[r.jsx("li",{children:k("qrScanner.instruction1")}),r.jsx("li",{children:k("qrScanner.instruction2")}),r.jsx("li",{children:k("qrScanner.instruction3")}),r.jsx("li",{children:k("qrScanner.instruction4")})]})]}),r.jsxs("button",{onClick:ee,style:{backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",padding:"15px 30px",fontSize:"20px",fontWeight:"bold",cursor:"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[r.jsx("span",{style:{fontSize:"26px"},children:"ğŸ“·"}),r.jsx("span",{children:k("qrScanner.enableCamera")})]})]}),d&&r.jsxs("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"20px",borderRadius:"8px",marginBottom:"15px",fontSize:"16px",lineHeight:"1.6"},children:[r.jsxs("div",{style:{fontWeight:"bold",marginBottom:"10px",fontSize:"18px"},children:["âš ï¸ ",k("qrScanner.errorTitle")]}),r.jsx("div",{style:{marginBottom:"15px"},children:d}),C&&r.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#fff3e0",borderRadius:"5px",color:"#e65100"},children:[r.jsx("strong",{children:k("qrScanner.fixTitle")}),r.jsx("p",{style:{margin:"10px 0"},children:k("qrScanner.fixInstructions")}),r.jsxs("ol",{style:{margin:"10px 0 10px 20px",padding:0,lineHeight:"1.8"},children:[r.jsx("li",{children:k("qrScanner.fixStep1")}),r.jsx("li",{children:k("qrScanner.fixStep2")}),r.jsx("li",{children:k("qrScanner.fixStep3")})]}),O()&&r.jsxs("button",{onClick:U,style:{backgroundColor:"#ff9800",color:"white",border:"none",borderRadius:"5px",padding:"10px 20px",fontSize:"16px",cursor:"pointer",width:"100%",marginTop:"10px"},children:["âš™ï¸ ",k("qrScanner.openSettings")]})]}),r.jsxs("button",{onClick:ee,style:{backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",padding:"12px 24px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",width:"100%",marginTop:"15px"},children:["ğŸ”„ ",k("qrScanner.tryAgain")]}),r.jsx("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#4CAF50",borderRadius:"5px",textAlign:"center"},children:r.jsxs("button",{onClick:M,style:{backgroundColor:"white",color:"#4CAF50",border:"none",borderRadius:"5px",padding:"12px 24px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",width:"100%"},children:["âœ“ ",k("qrScanner.useManualEntryRecommended")]})})]}),r.jsx("div",{id:"qr-reader",style:{width:"100%",borderRadius:"10px",overflow:"hidden",display:x?"block":"none"}}),x&&!d&&r.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"8px",textAlign:"center"},children:[r.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#2e7d32",marginBottom:"8px"},children:["âœ… ",k("qrScanner.cameraActive")]}),r.jsx("div",{style:{fontSize:"16px",color:"#1b5e20"},children:k(s?"qrScanner.positionQR":"qrScanner.initializing")})]})]})})}const m2=({voucher:o,onClose:e})=>{const i=()=>{window.print()},s=()=>{const l=document.createElement("canvas"),d=400;l.width=d,l.height=d;const f=l.getContext("2d");f.fillStyle="white",f.fillRect(0,0,d,d),f.fillStyle="black",f.font="bold 24px monospace",f.textAlign="center",f.textBaseline="middle",f.fillText(o.code,d/2,d/2),l.toBlob(x=>{const g=URL.createObjectURL(x),y=document.createElement("a");y.href=g,y.download=`voucher-${o.code}.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)})};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print-area, .print-area * {
            visibility: visible;
          }
          .print-area {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .no-print {
            display: none !important;
          }
        }
        
        .print-voucher {
          font-family: Arial, sans-serif;
          max-width: 600px;
          margin: 0 auto;
          padding: 40px;
          border: 3px solid #4CAF50;
          border-radius: 15px;
          background: white;
        }
        
        .print-header {
          text-align: center;
          margin-bottom: 30px;
          border-bottom: 2px solid #4CAF50;
          padding-bottom: 20px;
        }
        
        .print-logo {
          font-size: 36px;
          font-weight: bold;
          color: #4CAF50;
          margin-bottom: 10px;
        }
        
        .print-title {
          font-size: 24px;
          color: #333;
          margin: 0;
        }
        
        .print-qr-section {
          text-align: center;
          margin: 30px 0;
          padding: 30px;
          background: #f9f9f9;
          border-radius: 10px;
        }
        
        .print-qr-box {
          display: inline-block;
          padding: 30px;
          background: white;
          border: 3px solid #4CAF50;
          border-radius: 10px;
          margin-bottom: 20px;
        }
        
        .print-qr-placeholder {
          width: 250px;
          height: 250px;
          background: #e0e0e0;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 18px;
          font-weight: bold;
          color: #666;
          border-radius: 5px;
        }
        
        .print-code {
          font-size: 32px;
          font-weight: bold;
          font-family: 'Courier New', monospace;
          color: #333;
          letter-spacing: 3px;
          margin: 20px 0;
          padding: 15px;
          background: #fff;
          border: 2px dashed #4CAF50;
          border-radius: 5px;
        }
        
        .print-value {
          font-size: 48px;
          font-weight: bold;
          color: #4CAF50;
          margin: 20px 0;
        }
        
        .print-details {
          margin: 30px 0;
          padding: 20px;
          background: #f5f5f5;
          border-radius: 10px;
        }
        
        .print-detail-row {
          display: flex;
          justify-content: space-between;
          margin: 10px 0;
          font-size: 16px;
        }
        
        .print-detail-label {
          font-weight: bold;
          color: #666;
        }
        
        .print-detail-value {
          color: #333;
        }
        
        .print-instructions {
          margin-top: 30px;
          padding: 20px;
          background: #e8f5e9;
          border-left: 4px solid #4CAF50;
          border-radius: 5px;
        }
        
        .print-instructions h3 {
          margin-top: 0;
          color: #2e7d32;
        }
        
        .print-instructions ol {
          margin: 10px 0;
          padding-left: 20px;
        }
        
        .print-instructions li {
          margin: 8px 0;
          color: #333;
        }
        
        .print-footer {
          text-align: center;
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e0e0e0;
          color: #666;
          font-size: 14px;
        }
      `}),r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"15px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[r.jsxs("div",{className:"no-print",style:{position:"sticky",top:0,background:"white",padding:"20px",borderBottom:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"space-between",zIndex:1},children:[r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:i,style:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"ğŸ–¨ï¸ Print Voucher"}),r.jsx("button",{onClick:s,style:{padding:"12px 24px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"ğŸ’¾ Download QR Code"})]}),r.jsx("button",{onClick:e,style:{padding:"12px 24px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},children:"âœ• Close"})]}),r.jsxs("div",{className:"print-area print-voucher",children:[r.jsxs("div",{className:"print-header",children:[r.jsx("div",{className:"print-logo",children:"BAK UP"}),r.jsx("h1",{className:"print-title",children:"Food Voucher"})]}),r.jsxs("div",{className:"print-qr-section",children:[r.jsx("div",{className:"print-qr-box",children:r.jsxs("div",{className:"print-qr-placeholder",children:["QR Code",r.jsx("br",{}),o.code]})}),r.jsx("div",{className:"print-code",children:o.code}),r.jsxs("div",{className:"print-value",children:["Â£",parseFloat(o.value||0).toFixed(2)]})]}),r.jsxs("div",{className:"print-details",children:[r.jsxs("div",{className:"print-detail-row",children:[r.jsx("span",{className:"print-detail-label",children:"Status:"}),r.jsx("span",{className:"print-detail-value",style:{color:o.status==="active"?"#4CAF50":"#666",fontWeight:"bold",textTransform:"uppercase"},children:o.status})]}),o.expiry_date&&r.jsxs("div",{className:"print-detail-row",children:[r.jsx("span",{className:"print-detail-label",children:"Expires:"}),r.jsx("span",{className:"print-detail-value",children:new Date(o.expiry_date).toLocaleDateString()})]}),o.recipient&&r.jsxs("div",{className:"print-detail-row",children:[r.jsx("span",{className:"print-detail-label",children:"Recipient:"}),r.jsx("span",{className:"print-detail-value",children:o.recipient.name})]})]}),r.jsxs("div",{className:"print-instructions",children:[r.jsx("h3",{children:"ğŸ“‹ How to Use This Voucher:"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Present this voucher at any participating local food shop"}),r.jsx("li",{children:"Show the QR code or tell the cashier your voucher code"}),r.jsx("li",{children:"The shop will scan the code or enter it manually"}),r.jsx("li",{children:"Your voucher balance will be deducted from the purchase"}),r.jsx("li",{children:"You can use this voucher multiple times until the balance is zero"})]})]}),r.jsxs("div",{className:"print-footer",children:[r.jsx("p",{children:r.jsx("strong",{children:"BAK UP - Community Food Support"})}),r.jsx("p",{children:"For assistance, please contact your issuing organization"}),r.jsx("p",{style:{fontSize:"14px",marginTop:"10px"},children:"This voucher is valid only at participating shops. Not redeemable for cash."})]})]})]})})]})},zs=({currentPage:o,totalItems:e,itemsPerPage:i,onPageChange:s})=>{const{t:l}=Nt(),d=Math.ceil(e/i);if(d<=1)return null;const f=[],x=5;let g=Math.max(1,o-Math.floor(x/2)),y=Math.min(d,g+x-1);y-g<x-1&&(g=Math.max(1,y-x+1));for(let j=g;j<=y;j++)f.push(j);const w={padding:"8px 12px",margin:"0 4px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",fontSize:"16px"},C=G(L({},w),{backgroundColor:"#1976d2",color:"white",borderColor:"#1976d2",fontWeight:"bold"}),S=G(L({},w),{backgroundColor:"#f5f5f5",cursor:"not-allowed",color:"#999"});return r.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",padding:"20px 0",flexWrap:"wrap"},children:[r.jsxs("button",{onClick:()=>s(o-1),disabled:o===1,style:o===1?S:w,children:["â† ",l("pagination.previous")]}),g>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(1),style:w,children:"1"}),g>2&&r.jsx("span",{style:{padding:"0 8px"},children:"..."})]}),f.map(j=>r.jsx("button",{onClick:()=>s(j),style:j===o?C:w,children:j},j)),y<d&&r.jsxs(r.Fragment,{children:[y<d-1&&r.jsx("span",{style:{padding:"0 8px"},children:"..."}),r.jsx("button",{onClick:()=>s(d),style:w,children:d})]}),r.jsxs("button",{onClick:()=>s(o+1),disabled:o===d,style:o===d?S:w,children:[l("pagination.next")," â†’"]}),r.jsxs("div",{style:{marginLeft:"20px",fontSize:"16px",color:"#666"},children:[l("pagination.page")," ",o," ",l("pagination.of")," ",d," (",e," ",l("pagination.totalItems"),")"]})]})},y2=()=>{const{t:o}=Nt(),[e,i]=D.useState(null),[s,l]=D.useState(!1),[d,f]=D.useState(!1),[x,g]=D.useState(!1),[y,w]=D.useState(null);D.useEffect(()=>{const O=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;g(O);const F=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(f(F),O)return;const Y=5e3,M=ee=>{ee.preventDefault(),i(ee),localStorage.getItem("pwa-prompt-seen")?l(!0):setTimeout(()=>{l(!0)},Y)};return window.addEventListener("beforeinstallprompt",M),F&&(localStorage.getItem("pwa-prompt-seen")?l(!0):setTimeout(()=>{l(!0)},Y)),()=>{window.removeEventListener("beforeinstallprompt",M)}},[]);const C=()=>se(null,null,function*(){if(!e)return;e.prompt();const{outcome:O}=yield e.userChoice;console.log(O==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),i(null),l(!1),localStorage.setItem("pwa-prompt-seen","true")}),S=()=>{l(!1),localStorage.setItem("pwa-prompt-seen","true")};if(!s)return null;const j=y||(d?"ios":"android"),k={position:"fixed",bottom:"20px",left:"20px",right:"20px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",padding:"20px",zIndex:1e4},R=O=>({flex:1,padding:"8px 12px",backgroundColor:O?"#4CAF50":"transparent",color:O?"white":"#666",border:"none",borderRadius:"6px",fontSize:"15px",fontWeight:"500",cursor:"pointer"});return j==="ios"?r.jsx("div",{style:k,children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[r.jsx("img",{src:"/icon-192.png",alt:"BAK UP",style:{width:"40px",height:"40px",marginRight:"12px",borderRadius:"8px"}}),r.jsxs("div",{style:{flex:1},children:[r.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#333"},children:"Install BAK UP"}),r.jsx("p",{style:{margin:"2px 0 0 0",fontSize:"14px",color:"#666"},children:"Add to Home Screen"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",padding:"4px",backgroundColor:"#f0f0f0",borderRadius:"8px"},children:[r.jsx("button",{onClick:()=>w("ios"),style:R(!0),children:o("landing.pwa.iphoneTab")}),r.jsx("button",{onClick:()=>w("android"),style:R(!1),children:o("landing.pwa.androidTab")})]}),r.jsx("p",{style:{fontSize:"16px",color:"#555",margin:"10px 0 15px 0",lineHeight:"1.5"},children:o("landing.pwa.iosInstructions")}),r.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"10px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"1ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.iosStep1")}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"2ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.iosStep2")}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"3ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.iosStep3")}})]})]}),r.jsx("div",{style:{fontSize:"14px",color:"#666",textAlign:"center",fontStyle:"italic",marginTop:"10px"},children:o("landing.pwa.iosNote")})]}),r.jsx("button",{onClick:S,style:{background:"none",border:"none",fontSize:"26px",cursor:"pointer",color:"#999",padding:"0",marginLeft:"10px"},children:"âœ•"})]})}):r.jsx("div",{style:k,children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[r.jsx("img",{src:"/icon-192.png",alt:"BAK UP",style:{width:"40px",height:"40px",marginRight:"12px",borderRadius:"8px"}}),r.jsxs("div",{style:{flex:1},children:[r.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#333"},children:o("landing.pwa.install")}),r.jsx("p",{style:{margin:"2px 0 0 0",fontSize:"14px",color:"#666"},children:o("landing.pwa.addToHomeScreen")})]})]}),r.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",padding:"4px",backgroundColor:"#f0f0f0",borderRadius:"8px"},children:[r.jsx("button",{onClick:()=>w("ios"),style:R(!1),children:o("landing.pwa.iphoneTab")}),r.jsx("button",{onClick:()=>w("android"),style:R(!0),children:o("landing.pwa.androidTab")})]}),r.jsx("p",{style:{fontSize:"16px",color:"#555",margin:"10px 0 15px 0",lineHeight:"1.5"},children:o("landing.pwa.androidInstructions")}),r.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"10px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"1ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.androidStep1")}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"2ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.androidStep2")}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"26px",marginRight:"12px",minWidth:"30px",textAlign:"center"},children:"3ï¸âƒ£"}),r.jsx("div",{style:{fontSize:"16px",color:"#333"},dangerouslySetInnerHTML:{__html:o("landing.pwa.androidStep3")}})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[r.jsx("button",{onClick:S,style:{padding:"10px 20px",backgroundColor:"#f0f0f0",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",flex:1},children:o("landing.pwa.notNow")}),r.jsx("button",{onClick:C,style:{padding:"10px 20px",background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)",flex:1},children:o("landing.pwa.installButton")})]})]}),r.jsx("button",{onClick:S,style:{background:"none",border:"none",fontSize:"26px",cursor:"pointer",color:"#999",padding:"0",marginLeft:"10px"},children:"âœ•"})]})})};function Ia({tabs:o,activeTab:e,onTabChange:i,backgroundColor:s="#9C27B0"}){const[l,d]=D.useState(!1),f={tab:{padding:"12px 20px",backgroundColor:"white",border:"2px solid #ddd",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease",color:"#666"},activeTab:{padding:"12px 20px",backgroundColor:s,border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"white"},mobileMenuButton:{backgroundColor:"transparent",border:"2px solid white",borderRadius:"50%",width:"48px",height:"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",cursor:"pointer",padding:"8px"},hamburgerLine:{width:"24px",height:"3px",backgroundColor:"white",borderRadius:"2px"},mobileMenuDropdown:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"220px",zIndex:1e3,overflow:"hidden"},mobileMenuItem:{width:"100%",padding:"15px 20px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"18px",color:"#333",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #eee"},mobileMenuItemActive:{width:"100%",padding:"15px 20px",backgroundColor:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer",fontSize:"18px",color:s,display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #eee",fontWeight:"bold"}},x=r.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:o.map(y=>r.jsxs("button",{onClick:()=>{i(y.value),d(!1)},style:e===y.value?f.activeTab:f.tab,children:[y.icon," ",y.label]},y.value))}),g=r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>d(!l),style:f.mobileMenuButton,children:[r.jsx("div",{style:f.hamburgerLine}),r.jsx("div",{style:f.hamburgerLine}),r.jsx("div",{style:f.hamburgerLine})]}),l&&r.jsx("div",{style:f.mobileMenuDropdown,children:o.map(y=>r.jsxs("button",{onClick:()=>{i(y.value),d(!1)},style:e===y.value?f.mobileMenuItemActive:f.mobileMenuItem,onMouseEnter:w=>w.target.style.backgroundColor="#f5f5f5",onMouseLeave:w=>{w.target.style.backgroundColor=e===y.value?"#f0f0f0":"transparent"},children:[y.icon," ",y.label]},y.value))})]});return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @media (max-width: 768px) {
          .desktop-tabs-nav {
            display: none !important;
          }
          .mobile-menu-nav {
            display: flex !important;
          }
        }
        @media (min-width: 769px) {
          .desktop-tabs-nav {
            display: flex !important;
          }
          .mobile-menu-nav {
            display: none !important;
          }
        }
      `}),r.jsx("div",{className:"desktop-tabs-nav",children:x}),r.jsx("div",{className:"mobile-menu-nav",children:g})]})}var b2=Object.defineProperty,Uo=Object.getOwnPropertySymbols,oh=Object.prototype.hasOwnProperty,sh=Object.prototype.propertyIsEnumerable,Dc=(o,e,i)=>e in o?b2(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i,ra=(o,e)=>{for(var i in e||(e={}))oh.call(e,i)&&Dc(o,i,e[i]);if(Uo)for(var i of Uo(e))sh.call(e,i)&&Dc(o,i,e[i]);return o},oa=(o,e)=>{var i={};for(var s in o)oh.call(o,s)&&e.indexOf(s)<0&&(i[s]=o[s]);if(o!=null&&Uo)for(var s of Uo(o))e.indexOf(s)<0&&sh.call(o,s)&&(i[s]=o[s]);return i};var On;(o=>{const e=class it{constructor(g,y,w,C){if(this.version=g,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],g<it.MIN_VERSION||g>it.MAX_VERSION)throw new RangeError("Version value out of range");if(C<-1||C>7)throw new RangeError("Mask value out of range");this.size=g*4+17;let S=[];for(let k=0;k<this.size;k++)S.push(!1);for(let k=0;k<this.size;k++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const j=this.addEccAndInterleave(w);if(this.drawCodewords(j),C==-1){let k=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const O=this.getPenaltyScore();O<k&&(C=R,k=O),this.applyMask(R)}}l(0<=C&&C<=7),this.mask=C,this.applyMask(C),this.drawFormatBits(C),this.isFunction=[]}static encodeText(g,y){const w=o.QrSegment.makeSegments(g);return it.encodeSegments(w,y)}static encodeBinary(g,y){const w=o.QrSegment.makeBytes(g);return it.encodeSegments([w],y)}static encodeSegments(g,y,w=1,C=40,S=-1,j=!0){if(!(it.MIN_VERSION<=w&&w<=C&&C<=it.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let k,R;for(k=w;;k++){const M=it.getNumDataCodewords(k,y)*8,ee=f.getTotalBits(g,k);if(ee<=M){R=ee;break}if(k>=C)throw new RangeError("Data too long")}for(const M of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])j&&R<=it.getNumDataCodewords(k,M)*8&&(y=M);let O=[];for(const M of g){i(M.mode.modeBits,4,O),i(M.numChars,M.mode.numCharCountBits(k),O);for(const ee of M.getData())O.push(ee)}l(O.length==R);const F=it.getNumDataCodewords(k,y)*8;l(O.length<=F),i(0,Math.min(4,F-O.length),O),i(0,(8-O.length%8)%8,O),l(O.length%8==0);for(let M=236;O.length<F;M^=253)i(M,8,O);let Y=[];for(;Y.length*8<O.length;)Y.push(0);return O.forEach((M,ee)=>Y[ee>>>3]|=M<<7-(ee&7)),new it(k,y,Y,S)}getModule(g,y){return 0<=g&&g<this.size&&0<=y&&y<this.size&&this.modules[y][g]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const g=this.getAlignmentPatternPositions(),y=g.length;for(let w=0;w<y;w++)for(let C=0;C<y;C++)w==0&&C==0||w==0&&C==y-1||w==y-1&&C==0||this.drawAlignmentPattern(g[w],g[C]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(g){const y=this.errorCorrectionLevel.formatBits<<3|g;let w=y;for(let S=0;S<10;S++)w=w<<1^(w>>>9)*1335;const C=(y<<10|w)^21522;l(C>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,s(C,S));this.setFunctionModule(8,7,s(C,6)),this.setFunctionModule(8,8,s(C,7)),this.setFunctionModule(7,8,s(C,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,s(C,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,s(C,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,s(C,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let g=this.version;for(let w=0;w<12;w++)g=g<<1^(g>>>11)*7973;const y=this.version<<12|g;l(y>>>18==0);for(let w=0;w<18;w++){const C=s(y,w),S=this.size-11+w%3,j=Math.floor(w/3);this.setFunctionModule(S,j,C),this.setFunctionModule(j,S,C)}}drawFinderPattern(g,y){for(let w=-4;w<=4;w++)for(let C=-4;C<=4;C++){const S=Math.max(Math.abs(C),Math.abs(w)),j=g+C,k=y+w;0<=j&&j<this.size&&0<=k&&k<this.size&&this.setFunctionModule(j,k,S!=2&&S!=4)}}drawAlignmentPattern(g,y){for(let w=-2;w<=2;w++)for(let C=-2;C<=2;C++)this.setFunctionModule(g+C,y+w,Math.max(Math.abs(C),Math.abs(w))!=1)}setFunctionModule(g,y,w){this.modules[y][g]=w,this.isFunction[y][g]=!0}addEccAndInterleave(g){const y=this.version,w=this.errorCorrectionLevel;if(g.length!=it.getNumDataCodewords(y,w))throw new RangeError("Invalid argument");const C=it.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][y],S=it.ECC_CODEWORDS_PER_BLOCK[w.ordinal][y],j=Math.floor(it.getNumRawDataModules(y)/8),k=C-j%C,R=Math.floor(j/C);let O=[];const F=it.reedSolomonComputeDivisor(S);for(let M=0,ee=0;M<C;M++){let U=g.slice(ee,ee+R-S+(M<k?0:1));ee+=U.length;const W=it.reedSolomonComputeRemainder(U,F);M<k&&U.push(0),O.push(U.concat(W))}let Y=[];for(let M=0;M<O[0].length;M++)O.forEach((ee,U)=>{(M!=R-S||U>=k)&&Y.push(ee[M])});return l(Y.length==j),Y}drawCodewords(g){if(g.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let C=0;C<this.size;C++)for(let S=0;S<2;S++){const j=w-S,R=(w+1&2)==0?this.size-1-C:C;!this.isFunction[R][j]&&y<g.length*8&&(this.modules[R][j]=s(g[y>>>3],7-(y&7)),y++)}}l(y==g.length*8)}applyMask(g){if(g<0||g>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let w=0;w<this.size;w++){let C;switch(g){case 0:C=(w+y)%2==0;break;case 1:C=y%2==0;break;case 2:C=w%3==0;break;case 3:C=(w+y)%3==0;break;case 4:C=(Math.floor(w/3)+Math.floor(y/2))%2==0;break;case 5:C=w*y%2+w*y%3==0;break;case 6:C=(w*y%2+w*y%3)%2==0;break;case 7:C=((w+y)%2+w*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][w]&&C&&(this.modules[y][w]=!this.modules[y][w])}}getPenaltyScore(){let g=0;for(let S=0;S<this.size;S++){let j=!1,k=0,R=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[S][O]==j?(k++,k==5?g+=it.PENALTY_N1:k>5&&g++):(this.finderPenaltyAddHistory(k,R),j||(g+=this.finderPenaltyCountPatterns(R)*it.PENALTY_N3),j=this.modules[S][O],k=1);g+=this.finderPenaltyTerminateAndCount(j,k,R)*it.PENALTY_N3}for(let S=0;S<this.size;S++){let j=!1,k=0,R=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][S]==j?(k++,k==5?g+=it.PENALTY_N1:k>5&&g++):(this.finderPenaltyAddHistory(k,R),j||(g+=this.finderPenaltyCountPatterns(R)*it.PENALTY_N3),j=this.modules[O][S],k=1);g+=this.finderPenaltyTerminateAndCount(j,k,R)*it.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let j=0;j<this.size-1;j++){const k=this.modules[S][j];k==this.modules[S][j+1]&&k==this.modules[S+1][j]&&k==this.modules[S+1][j+1]&&(g+=it.PENALTY_N2)}let y=0;for(const S of this.modules)y=S.reduce((j,k)=>j+(k?1:0),y);const w=this.size*this.size,C=Math.ceil(Math.abs(y*20-w*10)/w)-1;return l(0<=C&&C<=9),g+=C*it.PENALTY_N4,l(0<=g&&g<=2568888),g}getAlignmentPatternPositions(){if(this.version==1)return[];{const g=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(g*2-2))*2;let w=[6];for(let C=this.size-7;w.length<g;C-=y)w.splice(1,0,C);return w}}static getNumRawDataModules(g){if(g<it.MIN_VERSION||g>it.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*g+128)*g+64;if(g>=2){const w=Math.floor(g/7)+2;y-=(25*w-10)*w-55,g>=7&&(y-=36)}return l(208<=y&&y<=29648),y}static getNumDataCodewords(g,y){return Math.floor(it.getNumRawDataModules(g)/8)-it.ECC_CODEWORDS_PER_BLOCK[y.ordinal][g]*it.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][g]}static reedSolomonComputeDivisor(g){if(g<1||g>255)throw new RangeError("Degree out of range");let y=[];for(let C=0;C<g-1;C++)y.push(0);y.push(1);let w=1;for(let C=0;C<g;C++){for(let S=0;S<y.length;S++)y[S]=it.reedSolomonMultiply(y[S],w),S+1<y.length&&(y[S]^=y[S+1]);w=it.reedSolomonMultiply(w,2)}return y}static reedSolomonComputeRemainder(g,y){let w=y.map(C=>0);for(const C of g){const S=C^w.shift();w.push(0),y.forEach((j,k)=>w[k]^=it.reedSolomonMultiply(j,S))}return w}static reedSolomonMultiply(g,y){if(g>>>8||y>>>8)throw new RangeError("Byte out of range");let w=0;for(let C=7;C>=0;C--)w=w<<1^(w>>>7)*285,w^=(y>>>C&1)*g;return l(w>>>8==0),w}finderPenaltyCountPatterns(g){const y=g[1];l(y<=this.size*3);const w=y>0&&g[2]==y&&g[3]==y*3&&g[4]==y&&g[5]==y;return(w&&g[0]>=y*4&&g[6]>=y?1:0)+(w&&g[6]>=y*4&&g[0]>=y?1:0)}finderPenaltyTerminateAndCount(g,y,w){return g&&(this.finderPenaltyAddHistory(y,w),y=0),y+=this.size,this.finderPenaltyAddHistory(y,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(g,y){y[0]==0&&(g+=this.size),y.pop(),y.unshift(g)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o.QrCode=e;function i(x,g,y){if(g<0||g>31||x>>>g)throw new RangeError("Value out of range");for(let w=g-1;w>=0;w--)y.push(x>>>w&1)}function s(x,g){return(x>>>g&1)!=0}function l(x){if(!x)throw new Error("Assertion error")}const d=class Wt{constructor(g,y,w){if(this.mode=g,this.numChars=y,this.bitData=w,y<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(g){let y=[];for(const w of g)i(w,8,y);return new Wt(Wt.Mode.BYTE,g.length,y)}static makeNumeric(g){if(!Wt.isNumeric(g))throw new RangeError("String contains non-numeric characters");let y=[];for(let w=0;w<g.length;){const C=Math.min(g.length-w,3);i(parseInt(g.substring(w,w+C),10),C*3+1,y),w+=C}return new Wt(Wt.Mode.NUMERIC,g.length,y)}static makeAlphanumeric(g){if(!Wt.isAlphanumeric(g))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],w;for(w=0;w+2<=g.length;w+=2){let C=Wt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(w))*45;C+=Wt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(w+1)),i(C,11,y)}return w<g.length&&i(Wt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(w)),6,y),new Wt(Wt.Mode.ALPHANUMERIC,g.length,y)}static makeSegments(g){return g==""?[]:Wt.isNumeric(g)?[Wt.makeNumeric(g)]:Wt.isAlphanumeric(g)?[Wt.makeAlphanumeric(g)]:[Wt.makeBytes(Wt.toUtf8ByteArray(g))]}static makeEci(g){let y=[];if(g<0)throw new RangeError("ECI assignment value out of range");if(g<128)i(g,8,y);else if(g<16384)i(2,2,y),i(g,14,y);else if(g<1e6)i(6,3,y),i(g,21,y);else throw new RangeError("ECI assignment value out of range");return new Wt(Wt.Mode.ECI,0,y)}static isNumeric(g){return Wt.NUMERIC_REGEX.test(g)}static isAlphanumeric(g){return Wt.ALPHANUMERIC_REGEX.test(g)}getData(){return this.bitData.slice()}static getTotalBits(g,y){let w=0;for(const C of g){const S=C.mode.numCharCountBits(y);if(C.numChars>=1<<S)return 1/0;w+=4+S+C.bitData.length}return w}static toUtf8ByteArray(g){g=encodeURI(g);let y=[];for(let w=0;w<g.length;w++)g.charAt(w)!="%"?y.push(g.charCodeAt(w)):(y.push(parseInt(g.substring(w+1,w+3),16)),w+=2);return y}};d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=d;o.QrSegment=d})(On||(On={}));(o=>{(e=>{const i=class{constructor(l,d){this.ordinal=l,this.formatBits=d}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),e.Ecc=i})(o.QrCode||(o.QrCode={}))})(On||(On={}));(o=>{(e=>{const i=class{constructor(l,d){this.modeBits=l,this.numBitsCharCount=d}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),e.Mode=i})(o.QrSegment||(o.QrSegment={}))})(On||(On={}));var Kn=On;var w2={L:Kn.QrCode.Ecc.LOW,M:Kn.QrCode.Ecc.MEDIUM,Q:Kn.QrCode.Ecc.QUARTILE,H:Kn.QrCode.Ecc.HIGH},ah=128,lh="L",ch="#FFFFFF",dh="#000000",hh=!1,uh=1,v2=4,C2=0,S2=.1;function ph(o,e=0){const i=[];return o.forEach(function(s,l){let d=null;s.forEach(function(f,x){if(!f&&d!==null){i.push(`M${d+e} ${l+e}h${x-d}v1H${d+e}z`),d=null;return}if(x===s.length-1){if(!f)return;d===null?i.push(`M${x+e},${l+e} h1v1H${x+e}z`):i.push(`M${d+e},${l+e} h${x+1-d}v1H${d+e}z`);return}f&&d===null&&(d=x)})}),i.join("")}function fh(o,e){return o.slice().map((i,s)=>s<e.y||s>=e.y+e.h?i:i.map((l,d)=>d<e.x||d>=e.x+e.w?l:!1))}function A2(o,e,i,s){if(s==null)return null;const l=o.length+i*2,d=Math.floor(e*S2),f=l/e,x=(s.width||d)*f,g=(s.height||d)*f,y=s.x==null?o.length/2-x/2:s.x*f,w=s.y==null?o.length/2-g/2:s.y*f,C=s.opacity==null?1:s.opacity;let S=null;if(s.excavate){let k=Math.floor(y),R=Math.floor(w),O=Math.ceil(x+y-k),F=Math.ceil(g+w-R);S={x:k,y:R,w:O,h:F}}const j=s.crossOrigin;return{x:y,y:w,h:g,w:x,excavation:S,opacity:C,crossOrigin:j}}function j2(o,e){return e!=null?Math.max(Math.floor(e),0):o?v2:C2}function gh({value:o,level:e,minVersion:i,includeMargin:s,marginSize:l,imageSettings:d,size:f,boostLevel:x}){let g=Fe.useMemo(()=>{const k=(Array.isArray(o)?o:[o]).reduce((R,O)=>(R.push(...Kn.QrSegment.makeSegments(O)),R),[]);return Kn.QrCode.encodeSegments(k,w2[e],i,void 0,void 0,x)},[o,e,i,x]);const{cells:y,margin:w,numCells:C,calculatedImageSettings:S}=Fe.useMemo(()=>{let j=g.getModules();const k=j2(s,l),R=j.length+k*2,O=A2(j,f,k,d);return{cells:j,margin:k,numCells:R,calculatedImageSettings:O}},[g,f,d,s,l]);return{qrcode:g,margin:w,cells:y,numCells:C,calculatedImageSettings:S}}var _2=(function(){try{new Path2D().addPath(new Path2D)}catch(o){return!1}return!0})(),E2=Fe.forwardRef(function(e,i){const s=e,{value:l,size:d=ah,level:f=lh,bgColor:x=ch,fgColor:g=dh,includeMargin:y=hh,minVersion:w=uh,boostLevel:C,marginSize:S,imageSettings:j}=s,R=oa(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:O}=R,F=oa(R,["style"]),Y=j==null?void 0:j.src,M=Fe.useRef(null),ee=Fe.useRef(null),U=Fe.useCallback(Se=>{M.current=Se,typeof i=="function"?i(Se):i&&(i.current=Se)},[i]),[W,I]=Fe.useState(!1),{margin:Z,cells:J,numCells:le,calculatedImageSettings:fe}=gh({value:l,level:f,minVersion:w,boostLevel:C,includeMargin:y,marginSize:S,imageSettings:j,size:d});Fe.useEffect(()=>{if(M.current!=null){const Se=M.current,Q=Se.getContext("2d");if(!Q)return;let Ae=J;const ce=ee.current,Ve=fe!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;Ve&&fe.excavation!=null&&(Ae=fh(J,fe.excavation));const Me=window.devicePixelRatio||1;Se.height=Se.width=d*Me;const rt=d/le*Me;Q.scale(rt,rt),Q.fillStyle=x,Q.fillRect(0,0,le,le),Q.fillStyle=g,_2?Q.fill(new Path2D(ph(Ae,Z))):J.forEach(function(ye,Ce){ye.forEach(function(Oe,Ue){Oe&&Q.fillRect(Ue+Z,Ce+Z,1,1)})}),fe&&(Q.globalAlpha=fe.opacity),Ve&&Q.drawImage(ce,fe.x+Z,fe.y+Z,fe.w,fe.h)}}),Fe.useEffect(()=>{I(!1)},[Y]);const oe=ra({height:d,width:d},O);let ve=null;return Y!=null&&(ve=Fe.createElement("img",{src:Y,key:Y,style:{display:"none"},onLoad:()=>{I(!0)},ref:ee,crossOrigin:fe==null?void 0:fe.crossOrigin})),Fe.createElement(Fe.Fragment,null,Fe.createElement("canvas",ra({style:oe,height:d,width:d,ref:U,role:"img"},F)),ve)});E2.displayName="QRCodeCanvas";var xh=Fe.forwardRef(function(e,i){const s=e,{value:l,size:d=ah,level:f=lh,bgColor:x=ch,fgColor:g=dh,includeMargin:y=hh,minVersion:w=uh,boostLevel:C,title:S,marginSize:j,imageSettings:k}=s,R=oa(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:O,cells:F,numCells:Y,calculatedImageSettings:M}=gh({value:l,level:f,minVersion:w,boostLevel:C,includeMargin:y,marginSize:j,imageSettings:k,size:d});let ee=F,U=null;k!=null&&M!=null&&(M.excavation!=null&&(ee=fh(F,M.excavation)),U=Fe.createElement("image",{href:k.src,height:M.h,width:M.w,x:M.x+O,y:M.y+O,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const W=ph(ee,O);return Fe.createElement("svg",ra({height:d,width:d,viewBox:`0 0 ${Y} ${Y}`,ref:i,role:"img"},R),!!S&&Fe.createElement("title",null,S),Fe.createElement("path",{fill:x,d:`M0,0 h${Y}v${Y}H0z`,shapeRendering:"crispEdges"}),Fe.createElement("path",{fill:g,d:W,shapeRendering:"crispEdges"}),U)});xh.displayName="QRCodeSVG";var k2="v3",T2=function(e){return e===3?"v3":e},mh="https://js.stripe.com",R2="".concat(mh,"/v3"),I2=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,B2=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,O2=function(e){return I2.test(e)||B2.test(e)},N2=function(){for(var e=document.querySelectorAll('script[src^="'.concat(mh,'"]')),i=0;i<e.length;i++){var s=e[i];if(O2(s.src))return s}return null},Fc=function(e){var i="",s=document.createElement("script");s.src="".concat(R2).concat(i);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(s),s},z2=function(e,i){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:i})},vr=null,wo=null,vo=null,P2=function(e){return function(i){e(new Error("Failed to load Stripe.js",{cause:i}))}},D2=function(e,i){return function(){window.Stripe?e(window.Stripe):i(new Error("Stripe.js not available"))}},F2=function(e){return vr!==null?vr:(vr=new Promise(function(i,s){if(typeof window=="undefined"||typeof document=="undefined"){i(null);return}if(window.Stripe){i(window.Stripe);return}try{var l=N2();if(!(l&&e)){if(!l)l=Fc(e);else if(l&&vo!==null&&wo!==null){var d;l.removeEventListener("load",vo),l.removeEventListener("error",wo),(d=l.parentNode)===null||d===void 0||d.removeChild(l),l=Fc(e)}}vo=D2(i,s),wo=P2(s),l.addEventListener("load",vo),l.addEventListener("error",wo)}catch(f){s(f);return}}),vr.catch(function(i){return vr=null,Promise.reject(i)}))},M2=function(e,i,s){if(e===null)return null;var l=i[0],d=l.match(/^pk_test/),f=T2(e.version),x=k2;d&&f!==x&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(x,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=e.apply(void 0,i);return z2(g,s),g},Cr,yh=!1,bh=function(){return Cr||(Cr=F2(null).catch(function(e){return Cr=null,Promise.reject(e)}),Cr)};Promise.resolve().then(function(){return bh()}).catch(function(o){yh||console.warn(o)});var L2=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];yh=!0;var l=Date.now();return bh().then(function(d){return M2(d,i,l)})},Ps={exports:{}},Ds,Mc;function V2(){if(Mc)return Ds;Mc=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ds=o,Ds}var Fs,Lc;function W2(){if(Lc)return Fs;Lc=1;var o=V2();function e(){}function i(){}return i.resetWarningCache=e,Fs=function(){function s(f,x,g,y,w,C){if(C!==o){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function l(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:i,resetWarningCache:e};return d.PropTypes=d,d},Fs}var Vc;function U2(){return Vc||(Vc=1,Ps.exports=W2()()),Ps.exports}var H2=U2();const It=aa(H2);function Wc(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable})),i.push.apply(i,s)}return i}function Uc(o){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Wc(Object(i),!0).forEach(function(s){wh(o,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Wc(Object(i)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(i,s))})}return o}function Ro(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ro=function(e){return typeof e}:Ro=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(o)}function wh(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function G2(o,e){if(o==null)return{};var i={},s=Object.keys(o),l,d;for(d=0;d<s.length;d++)l=s[d],!(e.indexOf(l)>=0)&&(i[l]=o[l]);return i}function q2(o,e){if(o==null)return{};var i=G2(o,e),s,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);for(l=0;l<d.length;l++)s=d[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(i[s]=o[s])}return i}function vh(o,e){return X2(o)||Y2(o,e)||K2(o,e)||$2()}function X2(o){if(Array.isArray(o))return o}function Y2(o,e){var i=o&&(typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"]);if(i!=null){var s=[],l=!0,d=!1,f,x;try{for(i=i.call(o);!(l=(f=i.next()).done)&&(s.push(f.value),!(e&&s.length===e));l=!0);}catch(g){d=!0,x=g}finally{try{!l&&i.return!=null&&i.return()}finally{if(d)throw x}}return s}}function K2(o,e){if(o){if(typeof o=="string")return Hc(o,e);var i=Object.prototype.toString.call(o).slice(8,-1);if(i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set")return Array.from(o);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hc(o,e)}}function Hc(o,e){(e==null||e>o.length)&&(e=o.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=o[i];return s}function $2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mi=function(e,i,s){var l=!!s,d=Fe.useRef(s);Fe.useEffect(function(){d.current=s},[s]),Fe.useEffect(function(){if(!l||!e)return function(){};var f=function(){d.current&&d.current.apply(d,arguments)};return e.on(i,f),function(){e.off(i,f)}},[l,i,e,d])},sa=function(e){var i=Fe.useRef(e);return Fe.useEffect(function(){i.current=e},[e]),i.current},ir=function(e){return e!==null&&Ro(e)==="object"},Z2=function(e){return ir(e)&&typeof e.then=="function"},Q2=function(e){return ir(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Gc="[object Object]",J2=function o(e,i){if(!ir(e)||!ir(i))return e===i;var s=Array.isArray(e),l=Array.isArray(i);if(s!==l)return!1;var d=Object.prototype.toString.call(e)===Gc,f=Object.prototype.toString.call(i)===Gc;if(d!==f)return!1;if(!d&&!s)return e===i;var x=Object.keys(e),g=Object.keys(i);if(x.length!==g.length)return!1;for(var y={},w=0;w<x.length;w+=1)y[x[w]]=!0;for(var C=0;C<g.length;C+=1)y[g[C]]=!0;var S=Object.keys(y);if(S.length!==x.length)return!1;var j=e,k=i,R=function(F){return o(j[F],k[F])};return S.every(R)},Ch=function(e,i,s){return ir(e)?Object.keys(e).reduce(function(l,d){var f=!ir(i)||!J2(e[d],i[d]);return s.includes(d)?(f&&console.warn("Unsupported prop change: options.".concat(d," is not a mutable property.")),l):f?Uc(Uc({},l||{}),{},wh({},d,e[d])):l},null):null},Sh="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",qc=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sh;if(e===null||Q2(e))return e;throw new Error(i)},ew=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sh;if(Z2(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(l){return qc(l,i)})};var s=qc(e,i);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},tw=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},Ba=Fe.createContext(null);Ba.displayName="ElementsContext";var iw=function(e,i){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(i," in an <Elements> provider."));return e},Ah=function(e){var i=e.stripe,s=e.options,l=e.children,d=Fe.useMemo(function(){return ew(i)},[i]),f=Fe.useState(function(){return{stripe:d.tag==="sync"?d.stripe:null,elements:d.tag==="sync"?d.stripe.elements(s):null}}),x=vh(f,2),g=x[0],y=x[1];Fe.useEffect(function(){var S=!0,j=function(R){y(function(O){return O.stripe?O:{stripe:R,elements:R.elements(s)}})};return d.tag==="async"&&!g.stripe?d.stripePromise.then(function(k){k&&S&&j(k)}):d.tag==="sync"&&!g.stripe&&j(d.stripe),function(){S=!1}},[d,g,s]);var w=sa(i);Fe.useEffect(function(){w!==null&&w!==i&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[w,i]);var C=sa(s);return Fe.useEffect(function(){if(g.elements){var S=Ch(s,C,["clientSecret","fonts"]);S&&g.elements.update(S)}},[s,C,g.elements]),Fe.useEffect(function(){tw(g.stripe)},[g.stripe]),Fe.createElement(Ba.Provider,{value:g},l)};Ah.propTypes={stripe:It.any,options:It.object};It.func.isRequired;var jh=Fe.createContext(null);jh.displayName="CheckoutSdkContext";var nw=function(e,i){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(i," in an <CheckoutProvider> provider."));return e},rw=Fe.createContext(null);rw.displayName="CheckoutContext";It.any,It.shape({fetchClientSecret:It.func.isRequired,elementsOptions:It.object}).isRequired;var Xc=function(e){var i=Fe.useContext(jh),s=Fe.useContext(Ba);if(i&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return i?nw(i,e):iw(s,e)},ow=["mode"],sw=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Xt=function(e,i){var s="".concat(sw(e),"Element"),l=function(g){var y=g.id,w=g.className,C=g.options,S=C===void 0?{}:C,j=g.onBlur,k=g.onFocus,R=g.onReady,O=g.onChange,F=g.onEscape,Y=g.onClick,M=g.onLoadError,ee=g.onLoaderStart,U=g.onNetworksChange,W=g.onConfirm,I=g.onCancel,Z=g.onShippingAddressChange,J=g.onShippingRateChange,le=g.onSavedPaymentMethodRemove,fe=g.onSavedPaymentMethodUpdate,oe=Xc("mounts <".concat(s,">")),ve="elements"in oe?oe.elements:null,Se="checkoutSdk"in oe?oe.checkoutSdk:null,Q=Fe.useState(null),Ae=vh(Q,2),ce=Ae[0],Ve=Ae[1],Me=Fe.useRef(null),rt=Fe.useRef(null);mi(ce,"blur",j),mi(ce,"focus",k),mi(ce,"escape",F),mi(ce,"click",Y),mi(ce,"loaderror",M),mi(ce,"loaderstart",ee),mi(ce,"networkschange",U),mi(ce,"confirm",W),mi(ce,"cancel",I),mi(ce,"shippingaddresschange",Z),mi(ce,"shippingratechange",J),mi(ce,"savedpaymentmethodremove",le),mi(ce,"savedpaymentmethodupdate",fe),mi(ce,"change",O);var ye;R&&(e==="expressCheckout"?ye=R:ye=function(){R(ce)}),mi(ce,"ready",ye),Fe.useLayoutEffect(function(){if(Me.current===null&&rt.current!==null&&(ve||Se)){var Oe=null;if(Se)switch(e){case"payment":Oe=Se.createPaymentElement(S);break;case"address":if("mode"in S){var Ue=S.mode,Je=q2(S,ow);if(Ue==="shipping")Oe=Se.createShippingAddressElement(Je);else if(Ue==="billing")Oe=Se.createBillingAddressElement(Je);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Oe=Se.createExpressCheckoutElement(S);break;case"currencySelector":Oe=Se.createCurrencySelectorElement();break;case"taxId":Oe=Se.createTaxIdElement(S);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else ve&&(Oe=ve.create(e,S));Me.current=Oe,Ve(Oe),Oe&&Oe.mount(rt.current)}},[ve,Se,S]);var Ce=sa(S);return Fe.useEffect(function(){if(Me.current){var Oe=Ch(S,Ce,["paymentRequest"]);Oe&&"update"in Me.current&&Me.current.update(Oe)}},[S,Ce]),Fe.useLayoutEffect(function(){return function(){if(Me.current&&typeof Me.current.destroy=="function")try{Me.current.destroy(),Me.current=null}catch(Oe){}}},[]),Fe.createElement("div",{id:y,className:w,ref:rt})},d=function(g){Xc("mounts <".concat(s,">"));var y=g.id,w=g.className;return Fe.createElement("div",{id:y,className:w})},f=i?d:l;return f.propTypes={id:It.string,className:It.string,onChange:It.func,onBlur:It.func,onFocus:It.func,onReady:It.func,onEscape:It.func,onClick:It.func,onLoadError:It.func,onLoaderStart:It.func,onNetworksChange:It.func,onConfirm:It.func,onCancel:It.func,onShippingAddressChange:It.func,onShippingRateChange:It.func,onSavedPaymentMethodRemove:It.func,onSavedPaymentMethodUpdate:It.func,options:It.object},f.displayName=s,f.__elementType=e,f},Yt=typeof window=="undefined",aw=Fe.createContext(null);aw.displayName="EmbeddedCheckoutProviderContext";Xt("auBankAccount",Yt);Xt("card",Yt);Xt("cardNumber",Yt);Xt("cardExpiry",Yt);Xt("cardCvc",Yt);Xt("fpxBank",Yt);Xt("iban",Yt);Xt("idealBank",Yt);Xt("p24Bank",Yt);Xt("epsBank",Yt);Xt("payment",Yt);Xt("expressCheckout",Yt);Xt("currencySelector",Yt);Xt("paymentRequestButton",Yt);Xt("linkAuthentication",Yt);Xt("address",Yt);Xt("shippingAddress",Yt);Xt("paymentMethodMessaging",Yt);Xt("affirmMessage",Yt);Xt("afterpayClearpayMessage",Yt);Xt("taxId",Yt);const lw=window.location.origin,$i=Or(lw,{withCredentials:!0,transports:["websocket","polling"]}),Nr=()=>{try{const o=new(window.AudioContext||window.webkitAudioContext),e=o.createOscillator(),i=o.createGain();e.connect(i),i.connect(o.destination),e.frequency.value=800,e.type="sine",i.gain.setValueAtTime(.3,o.currentTime),i.gain.exponentialRampToValueAtTime(.01,o.currentTime+.5),e.start(o.currentTime),e.stop(o.currentTime+.5)}catch(o){console.log("Could not play notification sound:",o)}};class cw extends D.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error("Error caught by boundary:",e,i),this.setState({error:e,errorInfo:i})}render(){return this.state.hasError?r.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"100px auto",textAlign:"center",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"âš ï¸ Something went wrong"}),r.jsx("p",{style:{fontSize:"22px",color:"#555",marginBottom:"30px"},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),r.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",fontSize:"20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"ğŸ”„ Refresh Page"}),r.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",fontSize:"20px",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"ğŸ  Go to Home"}),this.state.error&&r.jsxs("details",{style:{marginTop:"30px",textAlign:"left"},children:[r.jsx("summary",{style:{cursor:"pointer",color:"#7f8c8d"},children:"Technical Details"}),r.jsxs("pre",{style:{marginTop:"10px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px",overflow:"auto",fontSize:"16px",color:"#e74c3c"},children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]})]}):this.props.children}}const be=(i,...s)=>se(null,[i,...s],function*(o,e={}){try{const l=yield fetch(`/api${o}`,G(L({},e),{headers:L({"Content-Type":"application/json"},e.headers),credentials:"include"}));if(!l.ok&&l.status!==401){let d="Request failed";try{const f=yield l.json();d=f.error||f.message||d}catch(f){try{d=(yield l.text())||`HTTP ${l.status}: ${l.statusText}`}catch(x){d=`HTTP ${l.status}: ${l.statusText}`}}throw new Error(d)}try{return yield l.json()}catch(d){throw console.error("Failed to parse response as JSON:",d),new Error("Invalid server response")}}catch(l){throw l.name==="TypeError"&&l.message.includes("fetch")?new Error("Network error: Unable to connect to server. Please check your internet connection."):l}});function dw(){const{t:o,i18n:e}=Nt(),[i,s]=D.useState("home"),[l,d]=D.useState(null),[f,x]=D.useState(!0);D.useEffect(()=>{const S=e.language==="ar";document.documentElement.dir=S?"rtl":"ltr",document.documentElement.lang=e.language},[e.language]),D.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("token"),k=window.location.pathname;if(j&&k.includes("reset-password")){s("reset-password"),x(!1);return}g()},[]);const g=()=>se(null,null,function*(){try{const S=yield be("/check-auth");S.authenticated&&S.user&&(d({id:S.user.id,email:S.user.email,userType:S.user.user_type,name:`${S.user.first_name} ${S.user.last_name}`,balance:S.user.balance,organizationName:S.user.organization_name,shopName:S.user.shop_name}),s("dashboard"))}catch(S){console.log("Not authenticated")}finally{x(!1)}}),y=(S,j)=>se(null,null,function*(){try{const k=yield be("/login",{method:"POST",body:JSON.stringify({email:S,password:j})});if(k.user&&k.user.user_type)return d({id:k.user.id,email:k.user.email,userType:k.user.user_type,name:`${k.user.first_name} ${k.user.last_name}`}),s("dashboard"),{success:!0}}catch(k){return{success:!1,error:k.message}}}),w=()=>se(null,null,function*(){try{yield be("/logout",{method:"POST"})}catch(S){console.error("Logout error:",S)}finally{d(null),s("home")}}),C=S=>se(null,null,function*(){try{console.log("[REGISTER] Starting registration...",S);const j={email:S.email,password:S.password,first_name:S.firstName,last_name:S.lastName,phone:S.phone,user_type:S.userType,organization_name:S.organizationName||"",charity_commission_number:S.charityCommissionNumber||"",shop_name:S.shopName||"",shop_category:S.shopCategory||"",address:S.address||"",postcode:S.postcode||"",city:S.city||"",town:S.town||""};console.log("[REGISTER] Calling API with data:",j);const k=yield be("/register",{method:"POST",body:JSON.stringify(j)});return console.log("[REGISTER] API response:",k),k.message?{success:!0,message:k.message}:{success:!0,message:"Registration successful!"}}catch(j){return console.error("[REGISTER] Error:",j),{success:!1,error:j.message}}});return f?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx("h2",{children:"Loading..."})}):r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[i==="home"&&r.jsx(d0,{onNavigate:s}),i==="login"&&r.jsx(hw,{onLogin:y,onNavigate:s}),i==="admin-login"&&r.jsx(uw,{onLogin:y,onNavigate:s}),i==="register"&&r.jsx(gw,{onRegister:C,onNavigate:s}),i==="forgot-password"&&r.jsx(pw,{onNavigate:s}),i==="reset-password"&&r.jsx(fw,{token:new URLSearchParams(window.location.search).get("token"),onNavigate:s}),i==="dashboard"&&l&&r.jsx(xw,{user:l,onLogout:w}),r.jsx(y2,{})]})}function hw({onLogin:o,onNavigate:e}){const{t:i}=Nt(),[s,l]=D.useState(""),[d,f]=D.useState(""),[x,g]=D.useState(!1),[y,w]=D.useState(""),[C,S]=D.useState(!1),[j,k]=D.useState(!1),R=O=>se(null,null,function*(){O.preventDefault(),w(""),S(!0);try{const F=yield o(s,d);F.success||(w(F.error||"Login failed"),S(!1))}catch(F){w(i("login.loginFailed")),S(!1)}});return r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#4CAF50",padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"50px",borderRadius:"12px",width:"100%",maxWidth:"450px",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[r.jsx("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#4CAF50",marginBottom:"5px"},children:"BAK UP CIC"}),r.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#333",marginBottom:"10px"},children:"Sign In"})]}),r.jsx("p",{style:{textAlign:"center",marginBottom:"30px",fontSize:"14px",color:"#666"},children:"Enter your email and password to login"}),y&&r.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"14px"},children:y}),r.jsxs("form",{onSubmit:R,children:[r.jsxs("div",{style:{marginBottom:"18px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#333"},children:"Email"}),r.jsx("input",{type:"email",value:s,onChange:O=>l(O.target.value),placeholder:i("common.enterEmail"),required:!0,style:{width:"100%",fontSize:"14px",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box"}})]}),r.jsxs("div",{style:{marginBottom:"18px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#333"},children:"Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:x?"text":"password",value:d,onChange:O=>f(O.target.value),placeholder:i("common.enterPassword"),required:!0,style:{width:"100%",fontSize:"14px",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",boxSizing:"border-box"}}),r.jsx("button",{type:"button",onClick:()=>g(!x),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#666"},children:x?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsxs("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center"},children:[r.jsx("input",{type:"checkbox",id:"remember",checked:j,onChange:O=>k(O.target.checked),style:{marginRight:"8px",cursor:"pointer",width:"16px",height:"16px"}}),r.jsx("label",{htmlFor:"remember",style:{fontSize:"14px",color:"#666",cursor:"pointer"},children:"Remember me"})]}),r.jsx("button",{type:"submit",disabled:C,style:{width:"100%",marginBottom:"20px",padding:"12px",fontSize:"16px",fontWeight:"600",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.3s"},children:C?"Signing in...":"Sign In"})]}),r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",display:"flex",gap:"12px",justifyContent:"center"},children:[r.jsxs("button",{onClick:()=>e("forgot-password"),style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"#f5f5f5",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"background-color 0.2s"},children:[r.jsx("span",{style:{fontSize:"18px"},children:"ğŸ”‘"})," Forgot Password"]}),r.jsxs("button",{onClick:()=>e("home"),style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"#f5f5f5",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"background-color 0.2s"},children:[r.jsx("span",{style:{fontSize:"18px"},children:"ğŸ "})," Back to Home"]})]}),r.jsx("div",{style:{textAlign:"center",paddingTop:"15px",borderTop:"1px solid #eee"},children:r.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:["Don't have an account? ",r.jsx("button",{onClick:()=>e("register"),style:{background:"none",border:"none",color:"#7c3aed",fontWeight:"600",fontSize:"14px",cursor:"pointer",textDecoration:"underline"},children:"Sign Up"})]})})]})})}function uw({onLogin:o,onNavigate:e}){const{t:i}=Nt(),[s,l]=D.useState(""),[d,f]=D.useState(""),[x,g]=D.useState(!1),[y,w]=D.useState(""),[C,S]=D.useState(!1),j=k=>se(null,null,function*(){k.preventDefault(),w(""),S(!0);try{const R=yield o(s,d);R.success||(w(R.error||"Login failed"),S(!1))}catch(R){w(i("login.loginFailed")),S(!1)}});return r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#1976d2"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",width:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"52px",marginBottom:"10px"},children:"ğŸ”"}),r.jsx("h2",{children:"Administrator Access"}),r.jsx("p",{style:{color:"#666",fontSize:"1.2em"},children:"Authorized personnel only"})]}),y&&r.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:y}),r.jsxs("form",{onSubmit:j,children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Admin Email"}),r.jsx("input",{type:"email",value:s,onChange:k=>l(k.target.value),placeholder:"admin@bakup.com",required:!0,style:$.input})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:x?"text":"password",value:d,onChange:k=>f(k.target.value),placeholder:i("common.enterAdminPassword"),required:!0,style:$.input}),r.jsx("button",{type:"button",onClick:()=>g(!x),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"22px",color:"#666"},children:x?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsx("button",{type:"submit",disabled:C,style:G(L({},$.primaryButton),{width:"100%",marginBottom:"15px",backgroundColor:"#1976d2"}),children:C?"Signing in...":"Sign In as Admin"})]}),r.jsx("div",{style:{textAlign:"center"},children:r.jsx("button",{onClick:()=>e("home"),style:$.linkButton,children:"â† Back to Home"})})]})})}function pw({onNavigate:o}){const[e,i]=D.useState(""),[s,l]=D.useState(""),[d,f]=D.useState(""),[x,g]=D.useState(!1),y=w=>se(null,null,function*(){w.preventDefault(),f(""),l(""),g(!0);try{const C=yield fetch("/api/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),S=yield C.json();C.ok?(l(S.message+" Please check your email."),i("")):f(S.error||"Failed to send reset link")}catch(C){f("Failed to send reset link. Please try again.")}finally{g(!1)}});return r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#4CAF50"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",width:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[r.jsx("h2",{style:{textAlign:"center",marginBottom:"30px"},children:"Forgot Password"}),d&&r.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:d}),s&&r.jsx("div",{style:{backgroundColor:"#e8f5e9",color:"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:s}),r.jsxs("form",{onSubmit:y,children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Email Address"}),r.jsx("input",{type:"email",value:e,onChange:w=>i(w.target.value),placeholder:t("common.enterEmail"),style:$.input,required:!0})]}),r.jsx("button",{type:"submit",disabled:x,style:G(L({},$.primaryButton),{width:"100%",opacity:x?.6:1}),children:x?"Sending...":"Send Reset Link"})]}),r.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:r.jsx("button",{onClick:()=>o("login"),style:$.linkButton,children:"Back to Login"})})]})})}function fw({token:o,onNavigate:e}){const[i,s]=D.useState(""),[l,d]=D.useState(""),[f,x]=D.useState(!1),[g,y]=D.useState(!1),[w,C]=D.useState(""),[S,j]=D.useState(""),[k,R]=D.useState(!1),O=F=>se(null,null,function*(){if(F.preventDefault(),j(""),C(""),i!==l){j("Passwords do not match");return}if(i.length<6){j("Password must be at least 6 characters");return}R(!0);try{const Y=yield fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,password:i})}),M=yield Y.json();Y.ok?(C("Password reset successfully! Redirecting to login..."),setTimeout(()=>e("login"),2e3)):j(M.error||"Failed to reset password")}catch(Y){j("Failed to reset password. Please try again.")}finally{R(!1)}});return r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#4CAF50"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",width:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[r.jsx("h2",{style:{textAlign:"center",marginBottom:"30px"},children:"Reset Password"}),S&&r.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:S}),w&&r.jsx("div",{style:{backgroundColor:"#e8f5e9",color:"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:w}),r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"New Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:f?"text":"password",value:i,onChange:F=>s(F.target.value),placeholder:t("common.enterNewPassword"),style:$.input,required:!0}),r.jsx("button",{type:"button",onClick:()=>x(!f),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"22px",color:"#666"},children:f?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Confirm Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:g?"text":"password",value:l,onChange:F=>d(F.target.value),placeholder:t("common.confirmNewPassword"),style:$.input,required:!0}),r.jsx("button",{type:"button",onClick:()=>y(!g),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"22px",color:"#666"},children:g?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsx("button",{type:"submit",disabled:k,style:G(L({},$.primaryButton),{width:"100%",opacity:k?.6:1}),children:k?"Resetting...":"Reset Password"})]})]})})}function gw({onRegister:o,onNavigate:e}){const{t:i}=Nt(),[s,l]=D.useState(1),[d,f]=D.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",userType:"recipient",organizationName:"",charityCommissionNumber:"",shopName:"",shopCategory:"",address:"",postcode:"",city:"",town:""}),[x,g]=D.useState(!1),[y,w]=D.useState(!1),[C,S]=D.useState(""),[j,k]=D.useState(""),[R,O]=D.useState(!1),F=I=>{const{name:Z,value:J}=I.target;f(le=>G(L({},le),{[Z]:J}))},Y=I=>{if(S(""),I===1){if(!d.userType)return S("Please select a user type"),!1;if(!d.email||!d.email.includes("@"))return S("Please enter a valid email address"),!1;if(!d.password||d.password.length<6)return S("Password must be at least 6 characters"),!1;if(d.password!==d.confirmPassword)return S(i("register.passwordMismatch")),!1}if(I===2){if(!d.firstName||!d.lastName)return S("Please enter your first and last name"),!1;if(!d.phone)return S("Please enter your phone number"),!1;if(d.userType==="vcse"&&!d.organizationName)return S("Please enter your organization name"),!1;if(d.userType==="school"&&!d.organizationName)return S("Please enter your school/organization name"),!1;if(d.userType==="vendor"){if(!d.shopName)return S("Please enter your shop name"),!1;if(!d.shopCategory)return S("Please select a shop category"),!1}}if(I===3){if(!d.address)return S("Please enter your address"),!1;if(!d.postcode)return S("Please enter your postcode"),!1;if(d.userType==="vendor"&&!d.town)return S("Please select your town"),!1}return!0},M=()=>{Y(s)&&(l(s+1),window.scrollTo(0,0))},ee=()=>{S(""),l(s-1),window.scrollTo(0,0)},U=I=>se(null,null,function*(){if(I.preventDefault(),S(""),k(""),!Y(3))return;O(!0);const Z=yield o(d);Z.success?(k(Z.message||i("register.registrationSuccess")),setTimeout(()=>e("login"),2e3)):S(Z.error||i("register.registrationFailed")),O(!1)}),W=({stepNumber:I,title:Z,subtitle:J,icon:le,isActive:fe,isCompleted:oe})=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,opacity:fe?1:oe?.7:.4},children:[r.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:fe?"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)":oe?"#4CAF50":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",fontWeight:"bold",boxShadow:fe?"0 4px 12px rgba(76, 175, 80, 0.4)":"none",transition:"all 0.3s ease"},children:oe?"âœ“":le}),r.jsxs("div",{style:{flex:1,display:s===I?"block":"none"},children:[r.jsx("div",{style:{fontSize:"14px",color:"#999",marginBottom:"2px"},children:J}),r.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#333"},children:Z})]}),I<3&&r.jsx("div",{style:{width:"40px",height:"2px",background:oe?"#4CAF50":"#e0e0e0",marginLeft:"auto",transition:"all 0.3s ease"}})]});return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)"},children:[r.jsxs("div",{style:{flex:"0 0 40%",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px",color:"white",display:window.innerWidth<768?"none":"flex"},children:[r.jsx("h1",{style:{fontSize:"48px",marginBottom:"10px",textAlign:"center",fontWeight:"bold"},children:"BAK UP"}),r.jsx("h2",{style:{fontSize:"28px",marginBottom:"20px",textAlign:"center",fontWeight:"400"},children:"E-Voucher System"}),r.jsx("p",{style:{fontSize:"20px",textAlign:"center",opacity:.9,lineHeight:"1.6"},children:"Join our community and start making a difference today"}),r.jsxs("div",{style:{marginTop:"40px",display:"flex",gap:"20px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:"500+"}),r.jsx("div",{style:{fontSize:"16px",opacity:.8},children:"Active Users"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:"Â£50K+"}),r.jsx("div",{style:{fontSize:"16px",opacity:.8},children:"Distributed"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:"100+"}),r.jsx("div",{style:{fontSize:"16px",opacity:.8},children:"Partners"})]})]})]}),r.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px"},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"40px",width:"100%",maxWidth:"600px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"40px",gap:"0"},children:[r.jsx(W,{stepNumber:1,title:"Account Type",subtitle:"Step 1",icon:"ğŸ“",isActive:s===1,isCompleted:s>1}),r.jsx(W,{stepNumber:2,title:"Personal Info",subtitle:"Step 2",icon:"ğŸ‘¤",isActive:s===2,isCompleted:s>2}),r.jsx(W,{stepNumber:3,title:"Address Details",subtitle:"Step 3",icon:"ğŸ“",isActive:s===3,isCompleted:!1})]}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsxs("h2",{style:{fontSize:"28px",fontWeight:"700",color:"#333",marginBottom:"8px"},children:[s===1&&"Account Information",s===2&&"Personal Information",s===3&&"Address & Confirmation"]}),r.jsxs("p",{style:{fontSize:"16px",color:"#666",margin:0},children:[s===1&&"Select your account type and create credentials",s===2&&"Tell us about yourself and your organization",s===3&&"Complete your registration with address details"]})]}),C&&r.jsxs("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"15px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #ef5350",fontSize:"16px"},children:["âš ï¸ ",C]}),j&&r.jsxs("div",{style:{backgroundColor:"#e8f5e9",color:"#2e7d32",padding:"15px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #4CAF50",fontSize:"16px"},children:["âœ“ ",j]}),r.jsxs("form",{onSubmit:U,children:[s===1&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.userTypeLabel")}),r.jsxs("select",{name:"userType",value:d.userType,onChange:F,style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s",backgroundColor:"white"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0,children:[r.jsx("option",{value:"recipient",children:i("register.userTypes.recipient")}),r.jsx("option",{value:"vendor",children:i("register.userTypes.vendor")}),r.jsx("option",{value:"vcse",children:i("register.userTypes.vcse")}),r.jsx("option",{value:"school",children:i("register.userTypes.school")})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.emailLabel")}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:F,placeholder:i("common.emailPlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.passwordLabel")}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:x?"text":"password",name:"password",value:d.password,onChange:F,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",style:{width:"100%",padding:"14px",paddingRight:"45px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0}),r.jsx("button",{type:"button",onClick:()=>g(!x),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#666"},children:x?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.confirmPasswordLabel")}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{type:y?"text":"password",name:"confirmPassword",value:d.confirmPassword,onChange:F,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",style:{width:"100%",padding:"14px",paddingRight:"45px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0}),r.jsx("button",{type:"button",onClick:()=>w(!y),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#666"},children:y?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]})]})]}),s===2&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.firstNameLabel")}),r.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:F,placeholder:i("common.firstNamePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.lastNameLabel")}),r.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:F,placeholder:i("common.lastNamePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.phoneLabel")}),r.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:F,placeholder:i("common.phonePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),d.userType==="vcse"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:[i("register.organizationNameLabel")," ",r.jsx("span",{style:{color:"#f44336"},children:"*"})]}),r.jsx("input",{type:"text",name:"organizationName",value:d.organizationName,onChange:F,placeholder:i("common.charityNamePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0}),r.jsx("small",{style:{color:"#666",fontSize:"14px",display:"block",marginTop:"5px"},children:"ğŸ’¡ Use the exact name as registered with the Charity Commission"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:[i("register.charityNumberLabel")," ",r.jsx("span",{style:{color:"#666",fontWeight:"normal",fontSize:"14px"},children:"(Optional)"})]}),r.jsx("input",{type:"text",name:"charityCommissionNumber",value:d.charityCommissionNumber||"",onChange:F,placeholder:i("common.charityNumberPlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0"}),r.jsx("div",{style:{backgroundColor:"#e3f2fd",border:"1px solid #2196F3",borderRadius:"8px",padding:"12px",marginTop:"8px"},children:r.jsxs("small",{style:{color:"#0d47a1",fontSize:"14px",display:"block",lineHeight:"1.5"},children:[r.jsx("strong",{children:"â„¹ï¸ Optional Field:"}),r.jsx("br",{}),"If you have a charity number, it will be verified with the UK Charity Commission. Organizations without a charity number can still register."]})})]})]}),d.userType==="school"&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.schoolNameLabel")}),r.jsx("input",{type:"text",name:"organizationName",value:d.organizationName,onChange:F,placeholder:i("common.schoolNamePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),d.userType==="vendor"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.shopNameLabel")}),r.jsx("input",{type:"text",name:"shopName",value:d.shopName,onChange:F,placeholder:i("common.shopNamePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.shopCategoryLabel")}),r.jsxs("select",{name:"shopCategory",value:d.shopCategory,onChange:F,style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s",backgroundColor:"white"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0,children:[r.jsx("option",{value:"",children:"Select a category"}),r.jsx("option",{value:"African",children:"African"}),r.jsx("option",{value:"Caribbean",children:"Caribbean"}),r.jsx("option",{value:"Mixed African & Caribbean",children:"Mixed African & Caribbean"}),r.jsx("option",{value:"Indian/South Asian",children:"Indian/South Asian"}),r.jsx("option",{value:"Eastern European",children:"Eastern European"}),r.jsx("option",{value:"Middle Eastern",children:"Middle Eastern"})]})]})]})]}),s===3&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.addressLabel")}),r.jsx("input",{type:"text",name:"address",value:d.address,onChange:F,placeholder:i("common.addressPlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.postcodeLabel")}),r.jsx("input",{type:"text",name:"postcode",value:d.postcode,onChange:F,placeholder:i("common.postcodePlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:[i("register.cityLabel")," ",r.jsx("span",{style:{fontSize:"14px",color:"#666"},children:"(Optional)"})]}),r.jsx("input",{type:"text",name:"city",value:d.city,onChange:F,placeholder:i("register.townPlaceholder"),style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0"})]})]}),d.userType==="vendor"&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"16px",color:"#333"},children:i("register.townLabel")}),r.jsxs("select",{name:"town",value:d.town||"",onChange:F,style:{width:"100%",padding:"14px",fontSize:"16px",border:"2px solid #e0e0e0",borderRadius:"10px",outline:"none",transition:"border-color 0.3s",backgroundColor:"white"},onFocus:I=>I.target.style.borderColor="#4CAF50",onBlur:I=>I.target.style.borderColor="#e0e0e0",required:!0,children:[r.jsx("option",{value:"",children:"Select your town"}),r.jsxs("optgroup",{label:"North Northamptonshire",children:[r.jsx("option",{value:"Wellingborough",children:"Wellingborough"}),r.jsx("option",{value:"Kettering",children:"Kettering"}),r.jsx("option",{value:"Corby",children:"Corby"})]}),r.jsxs("optgroup",{label:"East Northamptonshire",children:[r.jsx("option",{value:"Rushden",children:"Rushden"}),r.jsx("option",{value:"Higham Ferrers",children:"Higham Ferrers"}),r.jsx("option",{value:"Raunds",children:"Raunds"}),r.jsx("option",{value:"Irthlingborough",children:"Irthlingborough"}),r.jsx("option",{value:"Oundle",children:"Oundle"}),r.jsx("option",{value:"Thrapston",children:"Thrapston"})]}),r.jsxs("optgroup",{label:"West Northamptonshire",children:[r.jsx("option",{value:"Northampton",children:"Northampton"}),r.jsx("option",{value:"Daventry",children:"Daventry"}),r.jsx("option",{value:"Brackley",children:"Brackley"}),r.jsx("option",{value:"Towcester",children:"Towcester"})]})]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"30px"},children:[s>1&&r.jsx("button",{type:"button",onClick:ee,style:{flex:1,padding:"16px",fontSize:"18px",fontWeight:"600",border:"2px solid #e0e0e0",borderRadius:"10px",background:"white",color:"#666",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:I=>{I.target.style.borderColor="#4CAF50",I.target.style.color="#4CAF50"},onMouseLeave:I=>{I.target.style.borderColor="#e0e0e0",I.target.style.color="#666"},children:"â† Previous"}),s<3?r.jsx("button",{type:"button",onClick:M,style:{flex:1,padding:"16px",fontSize:"18px",fontWeight:"600",border:"none",borderRadius:"10px",background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(76, 175, 80, 0.4)"},onMouseEnter:I=>{I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 6px 16px rgba(76, 175, 80, 0.5)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.4)"},children:"Next â†’"}):r.jsx("button",{type:"submit",disabled:R,style:{flex:1,padding:"16px",fontSize:"18px",fontWeight:"600",border:"none",borderRadius:"10px",background:R?"#ccc":"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",cursor:R?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:R?"none":"0 4px 12px rgba(76, 175, 80, 0.4)"},onMouseEnter:I=>{R||(I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 6px 16px rgba(76, 175, 80, 0.5)")},onMouseLeave:I=>{R||(I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.4)")},children:R?"â³ Registering...":"âœ“ Complete Registration"})]})]}),r.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:r.jsxs("p",{style:{color:"#666",fontSize:"16px"},children:[i("register.haveAccount")," ",r.jsx("button",{onClick:()=>e("login"),style:{background:"none",border:"none",color:"#4CAF50",fontWeight:"600",fontSize:"16px",cursor:"pointer",textDecoration:"underline"},children:i("register.signInLink")})]})})]})})]})}function xw({user:o,onLogout:e}){return console.log("Dashboard received user:",o),console.log("User type:",o.userType),o.userType==="admin"?r.jsx(mw,{user:o,onLogout:e}):o.userType==="vcse"?r.jsx(vw,{user:o,onLogout:e}):o.userType==="vendor"?r.jsx(Cw,{user:o,onLogout:e}):o.userType==="recipient"?r.jsx(Sw,{user:o,onLogout:e}):o.userType==="school"?r.jsx(Aw,{user:o,onLogout:e}):r.jsx("div",{children:"Unknown user type"})}function mw({user:o,onLogout:e}){const{t:i}=Nt(),[s,l]=D.useState("overview"),[d,f]=D.useState([]),[x,g]=D.useState([]),[y,w]=D.useState(""),[C,S]=D.useState(""),[j,k]=D.useState("vcse"),[R,O]=D.useState(""),[F,Y]=D.useState(""),[M,ee]=D.useState(""),[U,W]=D.useState([]),[I,Z]=D.useState([]),[J,le]=D.useState([]),[fe,oe]=D.useState([]),[ve,Se]=D.useState(null),[Q,Ae]=D.useState(null),[ce,Ve]=D.useState(null),[Me,rt]=D.useState(null),[ye,Ce]=D.useState({}),[Oe,Ue]=D.useState(""),[Je,we]=D.useState("name"),[qe,Xe]=D.useState(""),[_t,zt]=D.useState("all"),[ft,Zt]=D.useState("recent"),[ze,bt]=D.useState(1),[Et,Qt]=D.useState(1),[ct,Ye]=D.useState(1),Ie=12,[si,V]=D.useState([]),[Te,Ht]=D.useState("all"),[q,et]=D.useState(null),[dt,tt]=D.useState(!1);D.useEffect(()=>{Ft(),kt(),K(),ge(),xt(),We(),T()},[]);const Ft=()=>se(null,null,function*(){try{const P=yield be("/admin/vcse-organizations");f(P)}catch(P){console.error("Failed to load VCFSE organizations:",P)}}),kt=()=>se(null,null,function*(){try{const P=yield be("/admin/schools");g(Array.isArray(P)?P:[])}catch(P){console.error("Failed to load schools:",P)}}),K=()=>se(null,null,function*(){try{const P=yield be("/admin/vouchers");W(P.vouchers||[])}catch(P){console.error("Failed to load vouchers:",P)}}),ge=()=>se(null,null,function*(){try{const P=yield be("/admin/shops");Z(P.shops||[])}catch(P){console.error("Failed to load local shops:",P)}}),xt=()=>se(null,null,function*(){try{const P=yield be("/admin/to-go-items");le(P.items||[])}catch(P){console.error("Failed to load Food to Go Items:",P)}}),We=()=>se(null,null,function*(){try{const P=yield be("/admin/recipients");oe(P||[])}catch(P){console.error("Failed to load recipients:",P)}}),T=()=>se(null,null,function*(){try{const P=new URLSearchParams;Te!=="all"&&P.append("status",Te);const me=yield be(`/admin/payout/requests?${P.toString()}`);V(me.payouts||[]),et(me.summary||null)}catch(P){console.error("Failed to load payout requests:",P)}}),he=(P,me,wt="")=>se(null,null,function*(){if(window.confirm(i(`payout.confirm${me==="approve"?"Approve":"Reject"}`)))try{yield be(`/admin/payout/${P}/review`,{method:"POST",body:JSON.stringify({action:me,admin_notes:wt})}),alert(i(`payout.payout${me==="approve"?"Approved":"Rejected"}`)),T()}catch(ut){alert("Failed to review payout: "+ut.message)}}),ke=P=>se(null,null,function*(){if(window.confirm(i("payout.confirmMarkPaid")))try{yield be(`/admin/payout/${P}/mark-paid`,{method:"POST"}),alert(i("payout.payoutMarkedPaid")),T()}catch(me){alert("Failed to mark payout as paid: "+me.message)}}),Pe=P=>se(null,null,function*(){P.preventDefault();try{const me={amount:parseFloat(R),notes:F};j==="vcse"?me.vcse_id=parseInt(y):me.school_id=parseInt(C),yield be("/admin/allocate-funds",{method:"POST",body:JSON.stringify(me)}),ee("Funds allocated successfully!"),O(""),Y(""),Ft(),kt(),setTimeout(()=>ee(""),3e3)}catch(me){ee("Error: "+me.message)}}),Be=P=>{Se(P.id),Ce({organization_name:P.organization_name,first_name:P.first_name,last_name:P.last_name,email:P.email,phone:P.phone,address:P.address,city:P.city,postcode:P.postcode,allocated_balance:P.allocated_balance})},He=()=>se(null,null,function*(){try{yield be(`/admin/schools/${ve}`,{method:"PUT",body:JSON.stringify(ye)}),alert(i("alerts.schoolUpdated")),Se(null),Ce({}),kt()}catch(P){alert("Error updating school: "+P.message)}}),Jt=P=>{Ae(P.id),Ce({name:P.name,email:P.email,charity_commission_number:P.charity_commission_number,allocated_balance:P.allocated_balance})},Ze=()=>se(null,null,function*(){try{yield be(`/admin/vcse/${Q}`,{method:"PUT",body:JSON.stringify(ye)}),alert(i("alerts.vcfseUpdated")),Ae(null),Ce({}),Ft()}catch(P){alert("Error updating VCFSE organization: "+P.message)}}),gi=P=>{Ve(P.id),Ce({shop_name:P.shop_name,address:P.address,city:P.city,postcode:P.postcode,phone:P.phone})},Hr=()=>se(null,null,function*(){try{yield be(`/admin/shops/${ce}`,{method:"PUT",body:JSON.stringify(ye)}),alert(i("alerts.shopUpdated")),Ve(null),Ce({}),ge()}catch(P){alert("Error updating shop: "+P.message)}}),Gr=(P,me)=>se(null,null,function*(){if(confirm(i("common.confirmDeleteShop",{name:me})))try{yield be(`/admin/shops/${P}`,{method:"DELETE"}),alert(i("alerts.shopDeleted")),ge()}catch(wt){alert(i("common.errorDeleting")+": "+wt.message)}}),Ai=P=>se(null,null,function*(){try{yield be(`/admin/recipient/${P}`,{method:"PUT",body:JSON.stringify(ye)}),alert(i("alerts.recipientUpdated")),rt(null),Ce({}),We()}catch(me){alert("Error updating recipient: "+me.message)}}),or=P=>se(null,null,function*(){if(confirm(i("common.confirmDeactivate")))try{yield be(`/admin/recipient/${P}`,{method:"DELETE"}),alert(i("alerts.recipientDeactivated")),We()}catch(me){alert("Error deactivating recipient: "+me.message)}});return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsxs("div",{style:{backgroundColor:"#1976d2",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[r.jsxs("button",{onClick:()=>tt(!dt),style:{background:"none",border:"none",color:"white",fontSize:"32px",cursor:"pointer",padding:"10px",display:"flex",flexDirection:"column",gap:"5px",alignItems:"center",justifyContent:"center"},children:[r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}})]}),r.jsx("div",{children:r.jsxs("h1",{style:{margin:0,fontSize:"1.5rem"},children:[i("dashboard.welcome"),", ",o.name]})})]}),r.jsx("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:r.jsx(Jo,{apiCall:be,userType:"admin"})})]}),dt&&r.jsxs("div",{style:{position:"fixed",top:"70px",left:0,width:"280px",height:"calc(100vh - 70px)",backgroundColor:"white",boxShadow:"2px 0 8px rgba(0,0,0,0.1)",zIndex:999,overflowY:"auto",padding:"20px 0"},children:[r.jsxs("button",{onClick:()=>{l("overview"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="overview"?"#e3f2fd":"transparent"}),children:["ğŸ“‹ ",i("dashboard.tabs.overview")]}),r.jsxs("button",{onClick:()=>{l("search"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="search"?"#e3f2fd":"transparent"}),children:["ğŸ” ",i("admin.globalSearch")]}),r.jsxs("button",{onClick:()=>{l("transactions"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="transactions"?"#e3f2fd":"transparent"}),children:["ğŸ“Š ",i("admin.transactions")]}),r.jsxs("button",{onClick:()=>{l("broadcast"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="broadcast"?"#e3f2fd":"transparent"}),children:["ğŸ“¢ ",i("admin.broadcast")]}),r.jsxs("button",{onClick:()=>{l("funding"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="funding"?"#e3f2fd":"transparent"}),children:["ğŸ’° ",i("admin.fundAllocation")]}),r.jsxs("button",{onClick:()=>{l("vcse-verification"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="vcse-verification"?"#e3f2fd":"transparent"}),children:["ğŸ” ",i("admin.vcfseVerification")]}),r.jsxs("button",{onClick:()=>{l("vcse"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="vcse"?"#e3f2fd":"transparent"}),children:["ğŸ¤ ",i("admin.vcfseOrganisations")]}),r.jsxs("button",{onClick:()=>{l("recipients"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="recipients"?"#e3f2fd":"transparent"}),children:["ğŸ‘¥ ",i("admin.recipients")]}),r.jsxs("button",{onClick:()=>{l("vouchers"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="vouchers"?"#e3f2fd":"transparent"}),children:["ğŸ« ",i("dashboard.tabs.voucherManagement")]}),r.jsxs("button",{onClick:()=>{l("schools"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="schools"?"#e3f2fd":"transparent"}),children:["ğŸ« ",i("dashboard.tabs.schoolsOrgs")]}),r.jsxs("button",{onClick:()=>{l("shops"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="shops"?"#e3f2fd":"transparent"}),children:["ğŸª ",i("dashboard.tabs.localShops")]}),r.jsxs("button",{onClick:()=>{l("togo"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="togo"?"#e3f2fd":"transparent"}),children:["ğŸ” ",i("dashboard.tabs.allToGo")]}),r.jsxs("button",{onClick:()=>{l("payouts"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="payouts"?"#e3f2fd":"transparent"}),children:["ğŸ’° ",i("payout.managePayout")]}),r.jsxs("button",{onClick:()=>{l("analytics"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="analytics"?"#e3f2fd":"transparent"}),children:["ğŸ“ˆ ",i("admin.analytics")]}),r.jsxs("button",{onClick:()=>{l("reports"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="reports"?"#e3f2fd":"transparent"}),children:["ğŸ“Š ",i("admin.reports")]}),r.jsxs("button",{onClick:()=>{l("settings"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="settings"?"#e3f2fd":"transparent"}),children:["âš™ï¸ ",i("dashboard.tabs.settings")]}),r.jsxs("button",{onClick:()=>{l("changelog"),tt(!1)},style:G(L({},$.sidebarButton),{backgroundColor:s==="changelog"?"#e3f2fd":"transparent"}),children:["ğŸ“ ",i("changelog.title")]}),r.jsxs("div",{style:{padding:"15px 20px",borderTop:"1px solid #e0e0e0",marginTop:"10px"},children:[r.jsxs("div",{style:{marginBottom:"8px",fontSize:"16px",color:"#666",fontWeight:"bold"},children:["ğŸŒ ",i("common.changeLanguage")]}),r.jsx(la,{})]}),r.jsxs("button",{onClick:()=>{e(),tt(!1)},style:{width:"100%",padding:"15px 20px",border:"none",backgroundColor:"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px",color:"#d32f2f",borderTop:"1px solid #e0e0e0"},onMouseEnter:P=>P.target.style.backgroundColor="#ffebee",onMouseLeave:P=>P.target.style.backgroundColor="transparent",children:["ğŸšª ",i("common.signOut")]}),r.jsx("div",{style:{padding:"10px 20px",marginTop:"10px",textAlign:"center",fontSize:"0.85em",color:"#666",borderTop:"1px solid #e0e0e0"},children:"BAK UP E-Voucher System v1.2.5"})]}),dt&&r.jsx("div",{onClick:()=>tt(!1),style:{position:"fixed",top:"70px",left:0,width:"100vw",height:"calc(100vh - 70px)",backgroundColor:"rgba(0,0,0,0.3)",zIndex:998}}),r.jsxs("div",{style:{padding:"20px"},children:[s==="overview"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“Š ",i("admin.dashboardOverview")]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{onClick:()=>l("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸ«"}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#1976d2"},children:U.length}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.totalVouchers")})]}),r.jsxs("div",{onClick:()=>l("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸ’°"}),r.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",U.filter(P=>P.status==="active").reduce((P,me)=>P+parseFloat(me.value||0),0).toFixed(2)]}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.activeValue")})]}),r.jsxs("div",{onClick:()=>l("vcse"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸ¤"}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#9C27B0"},children:d.length}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.vcfseOrgs")})]}),r.jsxs("div",{onClick:()=>l("schools"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸ“"}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#FF9800"},children:x.length}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.tabs.schoolsOrgs")})]}),r.jsxs("div",{onClick:()=>l("recipients"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸ‘¥"}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#00BCD4"},children:fe.length}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.recipients")})]}),r.jsxs("div",{onClick:()=>l("shops"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-5px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"ğŸª"}),r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#F44336"},children:I.length}),r.jsx("div",{style:{color:"#666"},children:i("dashboard.localShops")})]})]})]}),s==="search"&&r.jsx(h0,{apiCall:be}),s==="transactions"&&r.jsx(u0,{apiCall:be}),s==="broadcast"&&r.jsx(p0,{apiCall:be}),s==="funding"&&r.jsx(f0,{apiCall:be,vcseOrgs:d,schools:x,loadVcseOrgs:Ft,loadSchools:kt}),s==="vcse-verification"&&r.jsx(g0,{apiCall:be}),s==="funding_old"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ’° ",i("admin.fundAllocation")]}),M&&r.jsx("div",{style:{backgroundColor:M.includes("Error")?"#ffebee":"#e8f5e9",color:M.includes("Error")?"#c62828":"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:M}),r.jsxs("form",{onSubmit:Pe,style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("admin.organizationType")}),r.jsxs("select",{value:j,onChange:P=>k(P.target.value),style:$.input,children:[r.jsx("option",{value:"vcse",children:i("admin.vcseOrganization")}),r.jsx("option",{value:"school",children:i("admin.schoolOrganization")})]})]}),j==="vcse"?r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("admin.selectVCSE")}),r.jsxs("select",{value:y,onChange:P=>w(P.target.value),style:$.input,required:!0,children:[r.jsx("option",{value:"",children:i("admin.chooseOrganization")}),d.map(P=>r.jsxs("option",{value:P.id,children:[P.name," - Allocated: Â£",P.allocated_balance.toFixed(2)]},P.id))]})]}):r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("admin.selectSchool")}),r.jsxs("select",{value:C,onChange:P=>S(P.target.value),style:$.input,required:!0,children:[r.jsx("option",{value:"",children:i("admin.chooseOrganization")}),x.map(P=>r.jsxs("option",{value:P.id,children:[P.organization_name," - Allocated: Â£",(P.allocated_balance||0).toFixed(2)]},P.id))]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("admin.amount")}),r.jsx("input",{type:"number",step:"0.01",value:R,onChange:P=>O(P.target.value),placeholder:"e.g., 1000.00",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("admin.notes")}),r.jsx("textarea",{value:F,onChange:P=>Y(P.target.value),style:G(L({},$.input),{minHeight:"80px"})})]}),r.jsxs("button",{type:"submit",style:$.primaryButton,children:["ğŸ’¸ ",i("admin.allocateFunds")]})]})]}),s==="vcse"&&r.jsxs("div",{children:[r.jsxs("h3",{children:["ğŸ¤ ",i("admin.vcseOrganizations")," (",d.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:d.map(P=>r.jsx("div",{style:{padding:"15px",borderBottom:"1px solid #eee"},children:Q===P.id?r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.organizationName"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.name||"",onChange:me=>Ce(G(L({},ye),{name:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.email"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"email",value:ye.email||"",onChange:me=>Ce(G(L({},ye),{email:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.charityNumber"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.charity_commission_number||"",onChange:me=>Ce(G(L({},ye),{charity_commission_number:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.allocatedBalance"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"number",step:"0.01",value:ye.allocated_balance||"",onChange:me=>Ce(G(L({},ye),{allocated_balance:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"},children:[r.jsxs("label",{style:{fontWeight:"bold",color:"#856404"},children:["ğŸ” ",i("admin.resetPassword"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",placeholder:i("common.enterNewPasswordOptional"),value:ye.new_password||"",onChange:me=>Ce(G(L({},ye),{new_password:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:Ze,style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:i("admin.save")}),r.jsx("button",{onClick:()=>{Ae(null),Ce({})},style:G(L({},$.primaryButton),{backgroundColor:"#757575"}),children:i("admin.cancel")})]})]}):r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("strong",{children:P.name})," (",P.email,")",r.jsx("br",{}),P.charity_commission_number&&r.jsxs("span",{style:{color:"#666",fontSize:"18px"},children:[i("admin.charityNumber"),": ",r.jsx("strong",{children:P.charity_commission_number}),r.jsx("br",{})]}),i("admin.allocatedBalance"),": Â£",P.allocated_balance.toFixed(2)]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsxs("button",{onClick:()=>Jt(P),style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px"},children:["âœï¸ ",i("admin.edit")]}),r.jsxs("button",{onClick:()=>se(null,null,function*(){if(window.confirm(i("common.confirmDelete",{name:P.name})))try{yield be(`/admin/vcse/${P.id}`,{method:"DELETE"}),alert(i("alerts.vcfseDeleted")),Ft()}catch(me){alert(i("common.errorDeleting")+": "+me.message)}}),style:{padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px"},children:["ğŸ—‘ï¸ ",i("admin.delete")]})]})]})},P.id))})]}),s==="recipients"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ‘¥ Recipients (",fe.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ” ",i("admin.searchRecipients")]}),r.jsx("input",{type:"text",placeholder:i("admin.searchPlaceholder"),value:Oe||"",onChange:P=>Ue(P.target.value),style:G(L({},$.input),{width:"100%"})})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ“Š ",i("admin.sortBy")]}),r.jsxs("select",{value:Je||"name",onChange:P=>we(P.target.value),style:G(L({},$.input),{width:"100%"}),children:[r.jsx("option",{value:"name",children:i("admin.sortName")}),r.jsx("option",{value:"email",children:i("admin.sortEmail")}),r.jsx("option",{value:"vouchers",children:i("admin.sortVouchers")}),r.jsx("option",{value:"value",children:i("admin.sortValue")}),r.jsx("option",{value:"recent",children:i("admin.sortRecent")})]})]}),r.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:r.jsxs("button",{onClick:()=>{Ue(""),we("name")},style:G(L({},$.secondaryButton),{width:"100%"}),children:["âœ–ï¸ ",i("dashboard.clearFilters")]})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:(()=>{const P=fe.filter(xe=>{if(!Oe)return!0;const Ke=Oe.toLowerCase();return(xe.first_name+" "+xe.last_name).toLowerCase().includes(Ke)||xe.email.toLowerCase().includes(Ke)||xe.phone&&xe.phone.toLowerCase().includes(Ke)}).sort((xe,Ke)=>Je==="name"?(xe.first_name+" "+xe.last_name).localeCompare(Ke.first_name+" "+Ke.last_name):Je==="email"?xe.email.localeCompare(Ke.email):Je==="vouchers"?(Ke.total_vouchers||0)-(xe.total_vouchers||0):Je==="value"?(Ke.active_value||0)-(xe.active_value||0):Je==="recent"?new Date(Ke.created_at||0)-new Date(xe.created_at||0):0),me=P.length,wt=(ze-1)*Ie,ut=wt+Ie,Mt=P.slice(wt,ut);return r.jsx(r.Fragment,{children:me===0?r.jsx("p",{children:"No recipients found"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:Mt.map(xe=>r.jsx("div",{style:{padding:"20px",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fafafa"},children:Me===xe.id?r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#1976d2"},children:"Edit Recipient"}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"Name:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.name||"",onChange:Ke=>Ce(G(L({},ye),{name:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("common.email"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"email",value:ye.email||"",onChange:Ke=>Ce(G(L({},ye),{email:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("common.phone"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.phone||"",onChange:Ke=>Ce(G(L({},ye),{phone:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("common.address"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.address||"",onChange:Ke=>Ce(G(L({},ye),{address:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"City:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.city||"",onChange:Ke=>Ce(G(L({},ye),{city:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"Postcode:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.postcode||"",onChange:Ke=>Ce(G(L({},ye),{postcode:Ke.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"5px"},children:[r.jsx("label",{style:{fontWeight:"bold"},children:"ğŸ”‘ Reset Password (Optional):"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.reset_password||"",onChange:Ke=>Ce(G(L({},ye),{reset_password:Ke.target.value})),placeholder:i("common.enterNewPasswordOptional"),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:()=>Ai(xe.id),style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",flex:1},children:"Save"}),r.jsx("button",{onClick:()=>rt(null),style:{padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",flex:1},children:"Cancel"})]})]}):r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1976d2"},children:xe.name}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“§ ",i("admin.email"),":"]})," ",xe.email]}),xe.phone&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("admin.phone"),":"]})," ",xe.phone]}),xe.address&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("admin.address"),":"]})," ",xe.address,", ",xe.city," ",xe.postcode]}),r.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",fontWeight:"bold"},children:["ğŸ« ",i("admin.totalVouchers"),": ",xe.total_vouchers]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:["âœ… ",i("admin.active"),": ",xe.active_vouchers," | âœ“ ",i("admin.redeemed"),": ",xe.redeemed_vouchers]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",fontWeight:"bold",color:"#4CAF50"},children:["ğŸ’° ",i("admin.activeValue"),": Â£",xe.total_active_value.toFixed(2)]})]}),r.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[r.jsxs("button",{onClick:()=>{rt(xe.id),Ce({name:xe.name,email:xe.email,phone:xe.phone||"",address:xe.address||"",city:xe.city||"",postcode:xe.postcode||"",reset_password:""})},style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",flex:1},children:["âœï¸ ",i("admin.edit")]}),r.jsxs("button",{onClick:()=>or(xe.id),style:{padding:"10px 20px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",flex:1},children:["ğŸ—‘ï¸ ",i("admin.delete")]})]})]})},xe.id))}),r.jsx(zs,{currentPage:ze,totalItems:me,itemsPerPage:Ie,onPageChange:bt})]})})})()})]}),s==="vouchers"&&r.jsxs("div",{children:[r.jsxs("h2",{children:[i("admin.allVouchers")," (",U.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ” ",i("dashboard.searchVouchers")]}),r.jsx("input",{type:"text",placeholder:i("common.searchPlaceholder"),value:qe||"",onChange:P=>Xe(P.target.value),style:G(L({},$.input),{width:"100%"})})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ“‹ ",i("dashboard.statusFilter")]}),r.jsxs("select",{value:_t||"all",onChange:P=>zt(P.target.value),style:G(L({},$.input),{width:"100%"}),children:[r.jsx("option",{value:"all",children:i("voucher.allStatus")}),r.jsx("option",{value:"active",children:i("voucher.active")}),r.jsx("option",{value:"redeemed",children:i("voucher.redeemed")}),r.jsx("option",{value:"expired",children:i("voucher.expired")})]})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ“Š ",i("admin.sortBy")]}),r.jsxs("select",{value:ft||"recent",onChange:P=>Zt(P.target.value),style:G(L({},$.input),{width:"100%"}),children:[r.jsx("option",{value:"recent",children:"Most Recent"}),r.jsx("option",{value:"value_high",children:"Highest Value"}),r.jsx("option",{value:"value_low",children:"Lowest Value"}),r.jsx("option",{value:"expiry",children:"Expiring Soon"}),r.jsx("option",{value:"code",children:"Code (A-Z)"})]})]}),r.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:r.jsxs("button",{onClick:()=>{Xe(""),zt("all"),Zt("recent")},style:G(L({},$.secondaryButton),{width:"100%"}),children:["âœ–ï¸ ",i("dashboard.clearFilters")]})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:(()=>{const P=U.filter(xe=>{var Ke,Kt;if(_t!=="all"&&xe.status!==_t)return!1;if(qe){const Fi=qe.toLowerCase();return xe.code.toLowerCase().includes(Fi)||(((Ke=xe.recipient)==null?void 0:Ke.name)||"").toLowerCase().includes(Fi)||(((Kt=xe.recipient)==null?void 0:Kt.email)||"").toLowerCase().includes(Fi)}return!0}).sort((xe,Ke)=>ft==="recent"?new Date(Ke.created_at||0)-new Date(xe.created_at||0):ft==="value_high"?Ke.value-xe.value:ft==="value_low"?xe.value-Ke.value:ft==="expiry"?new Date(xe.expiry_date)-new Date(Ke.expiry_date):ft==="code"?xe.code.localeCompare(Ke.code):0),me=P.length,wt=(Et-1)*Ie,ut=wt+Ie,Mt=P.slice(wt,ut);return r.jsx(r.Fragment,{children:me===0?r.jsx("p",{children:"No vouchers found"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{children:Mt.map(xe=>{var Ke,Kt;return r.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #eee"},children:[r.jsxs("strong",{children:["Code: ",xe.code]})," - Â£",xe.value.toFixed(2),r.jsx("br",{}),"Status: ",r.jsx("span",{style:{color:xe.status==="active"?"#2e7d32":"#757575",fontWeight:"bold"},children:xe.status.toUpperCase()}),r.jsx("br",{}),xe.recipient&&r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"5px"},children:[r.jsx("strong",{children:"ğŸ“‹ Recipient Details:"}),r.jsx("br",{}),"Name: ",xe.recipient.name,r.jsx("br",{}),"Email: ",xe.recipient.email,r.jsx("br",{}),"Phone: ",xe.recipient.phone,r.jsx("br",{}),"Address: ",xe.recipient.address]}),r.jsx("br",{}),"Issued by: ",((Ke=xe.issued_by)==null?void 0:Ke.name)||"N/A"," (",((Kt=xe.issued_by)==null?void 0:Kt.organization)||"N/A",")",r.jsx("br",{}),"Expires: ",new Date(xe.expiry_date).toLocaleDateString()]},xe.id)})}),r.jsx(zs,{currentPage:Et,totalItems:me,itemsPerPage:Ie,onPageChange:Qt})]})})})()})]}),s==="shops"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸª ",i("admin.localShops")," (",I.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:(()=>{const P=I.length,me=(ct-1)*Ie,wt=me+Ie,ut=I.slice(me,wt);return r.jsx(r.Fragment,{children:P===0?r.jsx("p",{children:i("admin.noShops")}):r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:ut.map(Mt=>r.jsx("div",{style:{padding:"20px",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fafafa"},children:ce===Mt.id?r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#1976d2"},children:"Edit Shop"}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"Shop Name:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.shop_name||"",onChange:xe=>Ce(G(L({},ye),{shop_name:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("common.address"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.address||"",onChange:xe=>Ce(G(L({},ye),{address:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"City:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.city||"",onChange:xe=>Ce(G(L({},ye),{city:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"Postcode:"}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.postcode||"",onChange:xe=>Ce(G(L({},ye),{postcode:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{children:"Town:"}),r.jsx("br",{}),r.jsxs("select",{value:ye.town||"",onChange:xe=>Ce(G(L({},ye),{town:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"},children:[r.jsx("option",{value:"",children:"Select town"}),r.jsxs("optgroup",{label:"North Northamptonshire",children:[r.jsx("option",{value:"Wellingborough",children:"Wellingborough"}),r.jsx("option",{value:"Kettering",children:"Kettering"}),r.jsx("option",{value:"Corby",children:"Corby"})]}),r.jsxs("optgroup",{label:"East Northamptonshire",children:[r.jsx("option",{value:"Rushden",children:"Rushden"}),r.jsx("option",{value:"Higham Ferrers",children:"Higham Ferrers"}),r.jsx("option",{value:"Raunds",children:"Raunds"}),r.jsx("option",{value:"Irthlingborough",children:"Irthlingborough"}),r.jsx("option",{value:"Oundle",children:"Oundle"}),r.jsx("option",{value:"Thrapston",children:"Thrapston"})]}),r.jsxs("optgroup",{label:"West Northamptonshire",children:[r.jsx("option",{value:"Northampton",children:"Northampton"}),r.jsx("option",{value:"Daventry",children:"Daventry"}),r.jsx("option",{value:"Brackley",children:"Brackley"}),r.jsx("option",{value:"Towcester",children:"Towcester"})]})]})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("common.phone"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.phone||"",onChange:xe=>Ce(G(L({},ye),{phone:xe.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:Hr,style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:"Save"}),r.jsx("button",{onClick:()=>{Ve(null),Ce({})},style:G(L({},$.primaryButton),{backgroundColor:"#757575"}),children:"Cancel"})]})]}):r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1976d2"},children:Mt.shop_name}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("common.address"),":"]})," ",Mt.address,", ",Mt.city," ",Mt.postcode]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("common.phone"),":"]})," ",Mt.phone]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ‘¤ ",i("common.shopOwner"),":"]})," ",Mt.vendor_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“§ ",i("common.email"),":"]})," ",Mt.vendor_email]}),r.jsxs("p",{style:{margin:"10px 0 0 0",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px",fontWeight:"bold",color:"#1976d2"},children:["ğŸ ",i("common.foodToGoItems"),": ",Mt.to_go_items_count]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[r.jsxs("button",{onClick:()=>gi(Mt),style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px",flex:1},children:["âœï¸ ",i("common.edit")]}),r.jsxs("button",{onClick:()=>Gr(Mt.id,Mt.shop_name),style:{padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px",flex:1},children:["ğŸ—‘ï¸ ",i("common.delete")]})]})]})},Mt.id))}),r.jsx(zs,{currentPage:ct,totalItems:P,itemsPerPage:Ie,onPageChange:Ye})]})})})()})]}),s==="schools"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“ ",i("admin.schoolsOrganizations")," (",x.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:x.length===0?r.jsx("p",{children:i("admin.noSchools")}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:x.map(P=>r.jsx("div",{style:{padding:"20px",border:"2px solid #9C27B0",borderRadius:"10px",backgroundColor:"#fafafa"},children:ve===P.id?r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#9C27B0"},children:i("admin.editSchool")}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.organizationName"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.organization_name||"",onChange:me=>Ce(G(L({},ye),{organization_name:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.firstName"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.first_name||"",onChange:me=>Ce(G(L({},ye),{first_name:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.lastName"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.last_name||"",onChange:me=>Ce(G(L({},ye),{last_name:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.email"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"email",value:ye.email||"",onChange:me=>Ce(G(L({},ye),{email:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.phone"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.phone||"",onChange:me=>Ce(G(L({},ye),{phone:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.address"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.address||"",onChange:me=>Ce(G(L({},ye),{address:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.city"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.city||"",onChange:me=>Ce(G(L({},ye),{city:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.postcode"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",value:ye.postcode||"",onChange:me=>Ce(G(L({},ye),{postcode:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("label",{children:[i("admin.allocatedBalance"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"number",step:"0.01",value:ye.allocated_balance||"",onChange:me=>Ce(G(L({},ye),{allocated_balance:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),r.jsxs("div",{style:{marginBottom:"10px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"},children:[r.jsxs("label",{style:{fontWeight:"bold",color:"#856404"},children:["ğŸ” ",i("admin.resetPassword"),":"]}),r.jsx("br",{}),r.jsx("input",{type:"text",placeholder:i("common.enterNewPasswordOptional"),value:ye.new_password||"",onChange:me=>Ce(G(L({},ye),{new_password:me.target.value})),style:{width:"100%",padding:"8px",marginTop:"5px",border:"1px solid #ffc107"}}),r.jsx("small",{style:{color:"#856404",display:"block",marginTop:"5px"},children:"âš ï¸ Only fill this if you want to change the password"})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[r.jsx("button",{onClick:He,style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:i("admin.save")}),r.jsx("button",{onClick:()=>{Se(null),Ce({})},style:G(L({},$.primaryButton),{backgroundColor:"#757575"}),children:i("admin.cancel")})]})]}):r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#9C27B0"},children:P.organization_name}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"ğŸ‘¤ Contact:"})," ",P.first_name," ",P.last_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“§ ",i("common.email"),":"]})," ",P.email]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("common.phone"),":"]})," ",P.phone]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("common.address"),":"]})," ",P.address,", ",P.city," ",P.postcode]}),r.jsx("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#E1BEE7",borderRadius:"8px"},children:r.jsxs("p",{style:{margin:"0",fontWeight:"bold",fontSize:"22px",color:"#6A1B9A"},children:["ğŸ’° ",i("admin.allocatedBalance"),": Â£",(P.allocated_balance||0).toFixed(2)]})}),r.jsx("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#F3E5F5",borderRadius:"8px"},children:r.jsx("p",{style:{margin:"0",fontSize:"16px",color:"#6A1B9A",fontStyle:"italic"},children:"ğŸ¯ Supporting families from underrepresented communities"})}),r.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[r.jsx("button",{onClick:()=>Be(P),style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px"},children:"âœ’ï¸ Edit"}),r.jsxs("button",{onClick:()=>se(null,null,function*(){if(window.confirm(`Are you sure you want to delete ${P.organization_name}?`))try{yield be(`/admin/schools/${P.id}`,{method:"DELETE"}),alert(i("alerts.schoolDeleted")),kt()}catch(me){alert("Error deleting school: "+me.message)}}),style:{padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px"},children:["ğŸ—‘ï¸ ",i("admin.delete")]})]})]})},P.id))})})]}),s==="togo"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ ",i("dashboard.headings.allToGoItems")," (",J.length,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:J.length===0?r.jsx("p",{children:i("admin.noToGoItems")}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"15px"},children:J.map(P=>r.jsxs("div",{style:{padding:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:P.status==="available"?"#f1f8e9":"#fafafa"},children:[r.jsx("h4",{style:{margin:"0 0 10px 0",color:"#2e7d32"},children:P.item_name}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Quantity:"})," ",P.quantity," ",P.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Price:"})," Â£",P.price.toFixed(2)," per ",P.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("discount.category"),":"]})," ",P.category]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Status:"})," ",r.jsx("span",{style:{color:P.collection_status==="available"?"#2e7d32":P.collection_status==="accepted"?"#FF9800":"#2196F3",fontWeight:"bold"},children:(P.collection_status||P.status||"available").toUpperCase()})]}),P.collection_status==="accepted"&&r.jsxs("div",{style:{margin:"10px 0",padding:"10px",backgroundColor:"#FFF3E0",borderRadius:"5px",borderLeft:"4px solid #FF9800"},children:[r.jsx("p",{style:{margin:"2px 0",fontSize:"17px",fontWeight:"bold",color:"#E65100"},children:"âœ… Accepted for Collection"}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"16px"},children:[r.jsx("strong",{children:"By:"})," ",P.accepted_by_vcse_name||"VCSE Organization"]}),P.collection_time&&r.jsxs("p",{style:{margin:"2px 0",fontSize:"16px"},children:[r.jsx("strong",{children:"Collection Time:"})," ",new Date(P.collection_time).toLocaleString()]})]}),P.collection_status==="collected"&&r.jsxs("div",{style:{margin:"10px 0",padding:"10px",backgroundColor:"#E3F2FD",borderRadius:"5px",borderLeft:"4px solid #2196F3"},children:[r.jsx("p",{style:{margin:"2px 0",fontSize:"17px",fontWeight:"bold",color:"#1565C0"},children:"âœ“ Collected"}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"16px"},children:[r.jsx("strong",{children:"By:"})," ",P.accepted_by_vcse_name||"VCSE Organization"]})]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Description:"})," ",P.description||"N/A"]}),r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸª Shop:"})," ",P.shop_name]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸ“ Location:"})," ",P.shop_address]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsxs("strong",{children:["ğŸ‘¤ ",i("common.shopOwner"),":"]})," ",P.vendor_name]})]})]},P.id))})})]}),s==="analytics"&&r.jsx(Yy,{apiCall:be}),s==="reports"&&r.jsxs("div",{children:[r.jsx("h2",{children:"ğŸ“Š System Reports & Analytics"}),r.jsx("p",{style:{marginBottom:"30px",color:"#666"},children:"Generate comprehensive reports for system oversight and compliance"}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"20px"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ“„ Generate System Report"}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Comprehensive report including all vouchers, organizations, and transactions"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"From Date"}),r.jsx("input",{type:"date",id:"adminReportDateFrom",style:$.input,defaultValue:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"To Date"}),r.jsx("input",{type:"date",id:"adminReportDateTo",style:$.input,defaultValue:new Date().toISOString().split("T")[0]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsx("button",{onClick:()=>se(null,null,function*(){try{const P=document.getElementById("adminReportDateFrom").value,me=document.getElementById("adminReportDateTo").value,wt=yield fetch("/api/admin/reports/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({date_from:P,date_to:me})});if(wt.ok){const ut=yield wt.json();alert(i("alerts.reportGenerated")),console.log("Admin Report Data:",ut)}else alert(i("alerts.reportFailed"))}catch(P){alert("Error generating report: "+P.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:"ğŸ“Š Generate Report"}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const P=document.getElementById("adminReportDateFrom").value,me=document.getElementById("adminReportDateTo").value,wt=yield fetch(`/api/admin/export/financial-report?start_date=${P}&end_date=${me}`,{credentials:"include"});if(wt.ok){const ut=yield wt.blob(),Mt=window.URL.createObjectURL(ut),xe=document.createElement("a");xe.href=Mt,xe.download=`financial_report_${P}_to_${me}.csv`,document.body.appendChild(xe),xe.click(),window.URL.revokeObjectURL(Mt),document.body.removeChild(xe)}else alert(i("alerts.financialReportFailed"))}catch(P){alert("Error downloading report: "+P.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#2196F3"}),children:"ğŸ’° Download Financial Report (CSV)"}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const P=yield fetch("/api/admin/export/impact-report",{credentials:"include"});if(P.ok){const me=yield P.blob(),wt=window.URL.createObjectURL(me),ut=document.createElement("a");ut.href=wt,ut.download=`impact_report_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ut),ut.click(),window.URL.revokeObjectURL(wt),document.body.removeChild(ut)}else alert(i("alerts.impactReportFailed"))}catch(P){alert("Error downloading report: "+P.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#FF9800"}),children:"ğŸŒ Download Impact Report (CSV)"})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ“… Expired Vouchers Report"}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Track expired vouchers and identify trends"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"From Date"}),r.jsx("input",{type:"date",id:"expiredReportDateFrom",style:$.input,defaultValue:new Date(Date.now()-2160*60*60*1e3).toISOString().split("T")[0]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"To Date"}),r.jsx("input",{type:"date",id:"expiredReportDateTo",style:$.input,defaultValue:new Date().toISOString().split("T")[0]})]})]}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const P=document.getElementById("expiredReportDateFrom").value,me=document.getElementById("expiredReportDateTo").value,wt=yield fetch(`/api/admin/expired-report?start_date=${P}&end_date=${me}`,{credentials:"include"});if(wt.ok){const ut=yield wt.json();alert(`Expired Vouchers Report:

Total Expired: ${ut.total_expired}
Total Value Lost: Â£${ut.total_value_lost}

Check console for details.`),console.log("Expired Vouchers Report:",ut)}else alert(i("alerts.expiredVouchersReportFailed"))}catch(P){alert("Error generating report: "+P.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#f44336"}),children:"ğŸ“… Generate Expired Vouchers Report"})]})]}),s==="payouts"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ’° ",i("payout.managePayout")]}),q&&r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#2196F3"},children:q.pending}),r.jsx("div",{style:{color:"#666"},children:i("payout.pending")}),r.jsxs("div",{style:{fontSize:"24px",color:"#2196F3",marginTop:"5px"},children:["Â£",q.total_amount_pending.toFixed(2)]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#FF9800"},children:q.approved}),r.jsx("div",{style:{color:"#666"},children:i("payout.approved")}),r.jsxs("div",{style:{fontSize:"24px",color:"#FF9800",marginTop:"5px"},children:["Â£",q.total_amount_approved.toFixed(2)]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50"},children:q.paid}),r.jsx("div",{style:{color:"#666"},children:i("payout.paid")}),r.jsxs("div",{style:{fontSize:"24px",color:"#4CAF50",marginTop:"5px"},children:["Â£",q.total_amount_paid.toFixed(2)]})]})]}),r.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"10px"},children:[r.jsxs("label",{style:{marginRight:"10px",fontWeight:"bold"},children:[i("payout.filterByStatus"),":"]}),r.jsxs("select",{value:Te,onChange:P=>{Ht(P.target.value),setTimeout(()=>T(),100)},style:{padding:"8px 15px",borderRadius:"5px",border:"1px solid #ddd"},children:[r.jsx("option",{value:"all",children:i("payout.allStatuses")}),r.jsx("option",{value:"pending",children:i("payout.pending")}),r.jsx("option",{value:"approved",children:i("payout.approved")}),r.jsx("option",{value:"rejected",children:i("payout.rejected")}),r.jsx("option",{value:"paid",children:i("payout.paid")})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:si.length===0?r.jsx("p",{style:{textAlign:"center",color:"#666",padding:"40px"},children:i("payout.noPayoutRequests")}):r.jsx("div",{style:{display:"grid",gap:"20px"},children:si.map(P=>r.jsxs("div",{style:{padding:"25px",border:"2px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fafafa"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",P.amount.toFixed(2)]}),r.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",marginTop:"5px"},children:P.vendor_name}),r.jsx("div",{style:{fontSize:"18px",color:"#666"},children:P.shop_name})]}),r.jsx("div",{style:{padding:"8px 20px",borderRadius:"25px",fontSize:"18px",fontWeight:"bold",backgroundColor:P.status==="paid"?"#e8f5e9":P.status==="approved"?"#fff3e0":P.status==="rejected"?"#ffebee":"#e3f2fd",color:P.status==="paid"?"#2e7d32":P.status==="approved"?"#e65100":P.status==="rejected"?"#c62828":"#1565c0"},children:P.status.toUpperCase()})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.bankName"),":"]})," ",P.bank_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.accountNumber"),":"]})," ",P.account_number]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.sortCode"),":"]})," ",P.sort_code]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.accountHolderName"),":"]})," ",P.account_holder_name]})]}),r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.vendorName"),":"]})," ",P.vendor_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("common.email"),":"]})," ",P.vendor_email]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("common.phone"),":"]})," ",P.vendor_phone]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("payout.requestedAt"),":"]})," ",new Date(P.requested_at).toLocaleString()]})]})]}),P.notes&&r.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[r.jsx("strong",{children:"Vendor Notes:"}),r.jsx("p",{style:{margin:"5px 0"},children:P.notes})]}),P.status==="pending"&&r.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[r.jsxs("button",{onClick:()=>{const me=prompt(i("prompts.adminNotes"))||"";he(P.id,"approve",me)},style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:["âœ… ",i("payout.approve")]}),r.jsxs("button",{onClick:()=>{const me=prompt(i("prompts.rejectionReason"))||"";he(P.id,"reject",me)},style:{padding:"10px 20px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:["âŒ ",i("payout.reject")]})]}),P.status==="approved"&&r.jsxs("button",{onClick:()=>ke(P.id),style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",marginTop:"15px"},children:["ğŸ’° ",i("payout.markAsPaid")]}),P.admin_notes&&r.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff3cd",borderRadius:"5px"},children:[r.jsxs("strong",{children:[i("payout.adminNotes"),":"]}),r.jsx("p",{style:{margin:"5px 0"},children:P.admin_notes})]})]},P.id))})})]}),s==="settings"&&r.jsx(yw,{user:o}),s==="changelog"&&r.jsx(bw,{})]})]})}function yw({user:o}){const{t:e}=Nt(),[i,s]=D.useState("password"),[l,d]=D.useState({current_password:"",new_password:"",confirm_password:""}),[f,x]=D.useState(""),[g,y]=D.useState([]),[w,C]=D.useState(!1),[S,j]=D.useState({email:"",password:"",first_name:"",last_name:""}),[k,R]=D.useState(""),[O,F]=D.useState(null);D.useEffect(()=>{i==="admins"?M():i==="loginstats"&&Y()},[i]);const Y=()=>se(null,null,function*(){try{const I=yield be("/admin/login-stats");F(I)}catch(I){console.error("Error loading login stats:",I)}}),M=()=>se(null,null,function*(){try{const I=yield be("/admin/admins");y(I.admins||[])}catch(I){R(`Error: ${I.message}`)}}),ee=I=>se(null,null,function*(){if(I.preventDefault(),x(""),l.new_password!==l.confirm_password){x("Error: New passwords do not match");return}if(l.new_password.length<8){x("Error: Password must be at least 8 characters long");return}try{const Z=yield be("/change-password",{method:"POST",body:JSON.stringify({current_password:l.current_password,new_password:l.new_password})});x("Success: "+Z.message),d({current_password:"",new_password:"",confirm_password:""})}catch(Z){x("Error: "+Z.message)}}),U=I=>se(null,null,function*(){I.preventDefault(),R("");try{const Z=yield be("/admin/admins",{method:"POST",body:JSON.stringify(S)});R("Success: "+Z.message),j({email:"",password:"",first_name:"",last_name:""}),C(!1),M()}catch(Z){R("Error: "+Z.message)}}),W=(I,Z)=>se(null,null,function*(){if(confirm(`Are you sure you want to delete admin account: ${Z}?`))try{const J=yield be(`/admin/admins/${I}`,{method:"DELETE"});R("Success: "+J.message),M()}catch(J){R("Error: "+J.message)}});return r.jsxs("div",{children:[r.jsxs("h2",{children:["âš™ï¸ ",e("dashboard.headings.settings")]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[r.jsxs("button",{onClick:()=>s("password"),style:i==="password"?$.activeTab:$.tab,children:["ğŸ”’ ",e("dashboard.buttons.changePassword")]}),r.jsxs("button",{onClick:()=>s("admins"),style:i==="admins"?$.activeTab:$.tab,children:["ğŸ‘¥ ",e("dashboard.buttons.manageAdmins")]}),r.jsxs("button",{onClick:()=>s("loginstats"),style:i==="loginstats"?$.activeTab:$.tab,children:["ğŸ“Š ",e("dashboard.buttons.loginStatistics")]})]}),i==="password"&&r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"600px"},children:[r.jsx("h3",{children:e("admin.changePassword")}),f&&r.jsx("div",{style:{backgroundColor:f.includes("Error")?"#ffebee":"#e8f5e9",color:f.includes("Error")?"#c62828":"#2e7d32",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:f}),r.jsxs("form",{onSubmit:ee,children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.currentPassword")}),r.jsx("input",{type:"password",value:l.current_password,onChange:I=>d(G(L({},l),{current_password:I.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.newPassword")}),r.jsx("input",{type:"password",value:l.new_password,onChange:I=>d(G(L({},l),{new_password:I.target.value})),style:$.input,required:!0,minLength:"8"}),r.jsx("small",{style:{color:"#666"},children:"Minimum 8 characters"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.confirmPassword")}),r.jsx("input",{type:"password",value:l.confirm_password,onChange:I=>d(G(L({},l),{confirm_password:I.target.value})),style:$.input,required:!0})]}),r.jsx("button",{type:"submit",style:$.button,children:e("admin.changePassword")})]})]}),i==="admins"&&r.jsxs("div",{children:[k&&r.jsx("div",{style:{backgroundColor:k.includes("Error")?"#ffebee":"#e8f5e9",color:k.includes("Error")?"#c62828":"#2e7d32",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:k}),r.jsx("div",{style:{marginBottom:"20px"},children:r.jsx("button",{onClick:()=>C(!w),style:G(L({},$.button),{backgroundColor:"#4CAF50"}),children:w?"âœ• "+e("admin.cancel"):"+ "+e("admin.createAdmin")})}),w&&r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px",maxWidth:"600px"},children:[r.jsx("h3",{children:e("admin.createAdminAccount")}),r.jsxs("form",{onSubmit:U,children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.firstName")}),r.jsx("input",{type:"text",value:S.first_name,onChange:I=>j(G(L({},S),{first_name:I.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.lastName")}),r.jsx("input",{type:"text",value:S.last_name,onChange:I=>j(G(L({},S),{last_name:I.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.email")}),r.jsx("input",{type:"email",value:S.email,onChange:I=>j(G(L({},S),{email:I.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:e("admin.password")}),r.jsx("input",{type:"password",value:S.password,onChange:I=>j(G(L({},S),{password:I.target.value})),style:$.input,required:!0,minLength:"8"}),r.jsx("small",{style:{color:"#666"},children:"Minimum 8 characters"})]}),r.jsx("button",{type:"submit",style:$.button,children:e("admin.createAdmin")})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:[r.jsxs("h3",{children:[e("admin.adminAccounts")," (",g.length,")"]}),g.length===0?r.jsx("p",{children:e("admin.noAdmins")}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:e("admin.name")}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:e("admin.email")}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:e("admin.created")}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:e("admin.lastLogin")}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:e("admin.logins")}),r.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd"},children:e("admin.actions")})]})}),r.jsx("tbody",{children:g.map(I=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsxs("td",{style:{padding:"12px"},children:[I.first_name," ",I.last_name]}),r.jsx("td",{style:{padding:"12px"},children:I.email}),r.jsx("td",{style:{padding:"12px"},children:I.created_at||"N/A"}),r.jsx("td",{style:{padding:"12px"},children:I.last_login||"Never"}),r.jsx("td",{style:{padding:"12px"},children:I.login_count||0}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:I.id!==o.id?r.jsx("button",{onClick:()=>W(I.id,I.email),style:G(L({},$.button),{backgroundColor:"#f44336",padding:"8px 16px",fontSize:"18px"}),children:e("admin.delete")}):r.jsx("span",{style:{color:"#999",fontSize:"18px"},children:e("admin.currentUser")})})]},I.id))})]})})]})]}),i==="loginstats"&&r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px"},children:[r.jsxs("h3",{children:["ğŸ“Š ",e("admin.loginStatistics")]}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Track user activity and engagement across all portals"}),O?r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"20px",borderRadius:"10px"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50"},children:O.total_users}),r.jsx("div",{style:{color:"#666"},children:"Total Users"})]}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#2196F3"},children:O.active_users}),r.jsx("div",{style:{color:"#666"},children:"Active Users (30 days)"})]}),r.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"20px",borderRadius:"10px"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#FF9800"},children:O.total_logins}),r.jsx("div",{style:{color:"#666"},children:"Total Logins"})]})]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Name"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Email"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Role"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Last Login"}),r.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd"},children:"Login Count"}),r.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd"},children:"Status"})]})}),r.jsx("tbody",{children:O.users.map(I=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsxs("td",{style:{padding:"12px"},children:[I.first_name," ",I.last_name]}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:I.email}),r.jsx("td",{style:{padding:"12px"},children:r.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",backgroundColor:I.role==="admin"?"#e8f5e9":I.role==="vcse"?"#e3f2fd":I.role==="vendor"?"#fff3e0":"#f3e5f5",color:I.role==="admin"?"#2e7d32":I.role==="vcse"?"#1565c0":I.role==="vendor"?"#e65100":"#6a1b9a"},children:I.role.toUpperCase()})}),r.jsx("td",{style:{padding:"12px"},children:I.last_login?new Date(I.last_login).toLocaleString():"Never"}),r.jsx("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold"},children:I.login_count||0}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:I.days_since_login===null?r.jsx("span",{style:{color:"#999"},children:"Never logged in"}):I.days_since_login<=7?r.jsx("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:"âœ“ Active"}):I.days_since_login<=30?r.jsx("span",{style:{color:"#FF9800"},children:"âš  Inactive"}):r.jsx("span",{style:{color:"#f44336"},children:"âœ— Dormant"})})]},I.id))})]})})]}):r.jsx("p",{children:"Loading statistics..."})]})]})}function bw(){const{t:o,i18n:e}=Nt(),[i,s]=D.useState(null),[l,d]=D.useState(!0),[f,x]=D.useState("all"),[g,y]=D.useState("all");if(D.useEffect(()=>{fetch("/SYSTEM_CHANGELOG.json").then(j=>j.json()).then(j=>{s(j),d(!1)}).catch(j=>{console.error("Failed to load changelog:",j),d(!1)})},[]),l)return r.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"â³"}),r.jsx("p",{style:{fontSize:"20px",color:"#666"},children:"Loading changelog..."})]});if(!i)return r.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"âŒ"}),r.jsx("p",{style:{fontSize:"20px",color:"#666"},children:"Failed to load changelog"})]});const w=i.changes.filter(j=>!(f!=="all"&&j.category!==f||g!=="all"&&j.priority!==g)),C=j=>({"Bug Fix":"#f44336",Feature:"#9C27B0",Internationalization:"#2196F3","UI Enhancement":"#4CAF50",Configuration:"#FF9800",Security:"#E91E63",Deployment:"#607D8B"})[j]||"#666",S=j=>({Critical:"ğŸ”´",High:"ğŸŸ ",Medium:"ğŸŸ¡",Low:"ğŸŸ¢"})[j]||"âšª";return r.jsxs("div",{children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",padding:"40px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 8px 16px rgba(0,0,0,0.2)"},children:[r.jsxs("h1",{style:{margin:"0 0 10px 0",fontSize:"36px",fontWeight:"bold"},children:["ğŸ“ ",o("changelog.title")]}),r.jsxs("p",{style:{margin:"0 0 20px 0",fontSize:"18px",opacity:.9},children:[o("changelog.version")," ",i.version," - ",o("changelog.lastUpdated"),": ",i.lastUpdated]}),r.jsxs("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap",marginTop:"20px"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:i.summary.totalChanges}),r.jsx("div",{style:{fontSize:"16px",opacity:.9},children:o("changelog.totalChanges")})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:i.summary.categories["Bug Fix"]||0}),r.jsx("div",{style:{fontSize:"16px",opacity:.9},children:o("changelog.bugFixes")})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:i.summary.categories.Internationalization||0}),r.jsx("div",{style:{fontSize:"16px",opacity:.9},children:o("changelog.i18nUpdates")})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:i.summary.categories["UI Enhancement"]||0}),r.jsx("div",{style:{fontSize:"16px",opacity:.9},children:o("changelog.uiEnhancements")})]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",gap:"20px",flexWrap:"wrap",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"16px"},children:[o("changelog.filterByCategory"),":"]}),r.jsxs("select",{value:f,onChange:j=>x(j.target.value),style:{padding:"10px 15px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"16px",cursor:"pointer"},children:[r.jsx("option",{value:"all",children:o("changelog.allCategories")}),r.jsx("option",{value:"Bug Fix",children:o("changelog.categories.bugFix")}),r.jsx("option",{value:"Feature",children:o("changelog.categories.feature")}),r.jsx("option",{value:"Internationalization",children:o("changelog.categories.internationalization")}),r.jsx("option",{value:"UI Enhancement",children:o("changelog.categories.uiEnhancement")}),r.jsx("option",{value:"Configuration",children:o("changelog.categories.configuration")}),r.jsx("option",{value:"Security",children:o("changelog.categories.security")}),r.jsx("option",{value:"Deployment",children:o("changelog.categories.deployment")})]})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"16px"},children:[o("changelog.filterByPriority"),":"]}),r.jsxs("select",{value:g,onChange:j=>y(j.target.value),style:{padding:"10px 15px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"16px",cursor:"pointer"},children:[r.jsx("option",{value:"all",children:o("changelog.allPriorities")}),r.jsxs("option",{value:"Critical",children:["ğŸ”´ ",o("changelog.priorities.critical")]}),r.jsxs("option",{value:"High",children:["ğŸŸ  ",o("changelog.priorities.high")]}),r.jsxs("option",{value:"Medium",children:["ğŸŸ¡ ",o("changelog.priorities.medium")]}),r.jsxs("option",{value:"Low",children:["ğŸŸ¢ ",o("changelog.priorities.low")]})]})]}),r.jsxs("div",{style:{marginLeft:"auto",fontSize:"16px",color:"#666"},children:[o("changelog.showing")," ",w.length," ",o("changelog.of")," ",i.changes.length," ",o("changelog.changes")]})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:w.map(j=>r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"25px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderLeft:`5px solid ${C(j.category)}`,transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-2px)",k.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:r.jsxs("div",{style:{flex:1},children:[r.jsxs("h3",{style:{margin:"0 0 8px 0",fontSize:"22px",color:"#000"},children:[S(j.priority)," ",j[`title_${e.language}`]||j.title]}),r.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"center"},children:[r.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold",backgroundColor:C(j.category),color:"white"},children:o(`changelog.categories.${j.category.replace(" ","").replace(/^(.)/,k=>k.toLowerCase())}`)||j.category}),r.jsxs("span",{style:{fontSize:"15px",color:"#666",fontWeight:"600"},children:[o("changelog.version")," ",j.version]}),r.jsxs("span",{style:{fontSize:"15px",color:"#666"},children:["ğŸ“… ",j.date]}),r.jsxs("span",{style:{fontSize:"15px",color:"#666"},children:["ğŸ”– ",j.commit]})]})]})}),r.jsx("p",{style:{fontSize:"17px",color:"#333",marginBottom:"15px",lineHeight:"1.6"},children:j[`description_${e.language}`]||j.description}),j.details&&j.details.length>0&&r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("h4",{style:{fontSize:"18px",marginBottom:"10px",color:"#000"},children:[o("changelog.details"),":"]}),r.jsx("ul",{style:{margin:0,paddingLeft:"20px",color:"#555"},children:(j[`details_${e.language}`]||j.details).map((k,R)=>r.jsx("li",{style:{marginBottom:"8px",fontSize:"16px",lineHeight:"1.5"},children:k},R))})]}),r.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"15px"},children:[r.jsxs("h4",{style:{fontSize:"16px",marginBottom:"8px",color:"#000"},children:["ğŸ’¡ ",o("changelog.impact"),":"]}),r.jsx("p",{style:{margin:0,fontSize:"16px",color:"#555",lineHeight:"1.5"},children:j[`impact_${e.language}`]||j.impact})]}),r.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",fontSize:"15px",color:"#666"},children:[r.jsxs("div",{children:[r.jsxs("strong",{children:["ğŸ“¦ ",o("changelog.components"),":"]})," ",j[`affectedComponents_${e.language}`]||j.affectedComponents.join(", ")]}),r.jsxs("div",{children:[r.jsxs("strong",{children:["ğŸ‘¥ ",o("changelog.userTypes"),":"]})," ",j.userTypes.join(", ")]})]})]},j.id))}),w.length===0&&r.jsxs("div",{style:{textAlign:"center",padding:"60px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"ğŸ”"}),r.jsx("h3",{style:{fontSize:"24px",color:"#666",margin:0},children:o("changelog.noChangesMatch")}),r.jsx("p",{style:{fontSize:"18px",color:"#999",marginTop:"10px"},children:"Try adjusting your filter criteria"})]})]})}function ww({item:o,onOrderPlaced:e}){const{t:i}=Nt(),[s,l]=D.useState(!1),[d,f]=D.useState({client_name:"",client_mobile:"",client_email:"",quantity:1}),[x,g]=D.useState(""),y=w=>se(null,null,function*(){w.preventDefault();try{yield be("/vcse/place-order",{method:"POST",body:JSON.stringify({surplus_item_id:o.id,client_name:d.client_name,client_mobile:d.client_mobile,client_email:d.client_email,quantity:d.quantity})}),g("Order placed successfully!"),f({client_name:"",client_mobile:"",client_email:"",quantity:1}),l(!1),setTimeout(()=>g(""),3e3),e&&e()}catch(C){g("Error: "+C.message)}});return r.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"15px",backgroundColor:"#fafafa"},children:[x&&r.jsx("div",{style:{backgroundColor:x.includes("Error")?"#ffebee":"#e8f5e9",color:x.includes("Error")?"#c62828":"#2e7d32",padding:"8px",borderRadius:"5px",marginBottom:"10px",fontSize:"18px"},children:x}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("h3",{style:{margin:"0 0 8px 0",fontSize:"22px"},children:[o.item_name||o.title,o.batch_count>1&&r.jsxs("span",{style:{marginLeft:"10px",fontSize:"16px",backgroundColor:"#4CAF50",color:"white",padding:"2px 8px",borderRadius:"12px"},children:[o.batch_count," batches"]})]}),r.jsxs("div",{style:{fontSize:"18px",color:"#666"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:i("product.shop")})," ",o.shop_name]}),r.jsxs("div",{children:[r.jsx("strong",{children:i("product.category")})," ",o.category]}),r.jsxs("div",{children:[r.jsx("strong",{children:i("product.available")})," ",o.quantity,o.batch_count>1&&` (combined from ${o.batch_count} batches)`]}),o.expiry_date&&r.jsxs("div",{children:[r.jsx("strong",{children:i("product.expiry")})," ",new Date(o.expiry_date).toLocaleDateString()]}),o.description&&r.jsx("div",{style:{marginTop:"8px"},children:o.description})]})]}),s?r.jsxs("form",{onSubmit:y,style:{marginTop:"15px"},children:[r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Client Full Name *"}),r.jsx("input",{type:"text",value:d.client_name,onChange:w=>f(G(L({},d),{client_name:w.target.value})),placeholder:"e.g., John Smith",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Mobile Number *"}),r.jsx("input",{type:"tel",value:d.client_mobile,onChange:w=>f(G(L({},d),{client_mobile:w.target.value})),placeholder:"e.g., 07700900000",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Email Address *"}),r.jsx("input",{type:"email",value:d.client_email,onChange:w=>f(G(L({},d),{client_email:w.target.value})),placeholder:"e.g., client@example.com",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Quantity"}),r.jsx("select",{value:d.quantity,onChange:w=>f(G(L({},d),{quantity:parseInt(w.target.value)})),style:G(L({},$.input),{fontSize:"18px"}),children:[...Array(Math.min(10,Math.max(1,parseInt(o.quantity)||1)))].map((w,C)=>r.jsx("option",{value:C+1,children:C+1},C+1))})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{type:"submit",style:G(L({},$.primaryButton),{flex:1,fontSize:"18px"}),children:"âœ… Place Order"}),r.jsx("button",{type:"button",onClick:()=>l(!1),style:G(L({},$.secondaryButton),{flex:1,fontSize:"18px"}),children:"Cancel"})]})]}):r.jsxs("button",{onClick:()=>l(!0),style:G(L({},$.primaryButton),{width:"100%",backgroundColor:"#4CAF50"}),children:["ğŸ“ ",i("buttons.orderForClient")]})]})}function vw({user:o,onLogout:e}){const{t:i}=Nt(),[s,l]=D.useState("overview"),[d,f]=D.useState(0),[x,g]=D.useState({recipientFirstName:"",recipientLastName:"",recipientEmail:"",recipientDateOfBirth:"",recipientPhone:"",recipientAddress:"",recipientCity:"",recipientPostcode:"",value:"",expiryDays:"30"}),[y,w]=D.useState(""),[C,S]=D.useState([]),[j,k]=D.useState([]),[R,O]=D.useState([]),[F,Y]=D.useState(null),[M,ee]=D.useState("all"),[U,W]=D.useState(""),[I,Z]=D.useState(!1),[J,le]=D.useState(!1),[fe,oe]=D.useState([]),[ve,Se]=D.useState("all"),[Q,Ae]=D.useState(!1),[ce,Ve]=D.useState(null),[Me,rt]=D.useState(""),[ye,Ce]=D.useState(""),[Oe,Ue]=D.useState(!0),[Je,we]=D.useState(0),[qe,Xe]=D.useState("all"),[_t,zt]=D.useState([]),[ft,Zt]=D.useState(!1),[ze,bt]=D.useState(null),[Et,Qt]=D.useState(""),[ct,Ye]=D.useState(""),[Ie,si]=D.useState([]);D.useEffect(()=>(V(),Te(),Ht(),q(),Ft(),K(),kt(),$i.emit("join_room",{user_type:"vcse"}),$i.on("new_item_notification",T=>{var He;console.log("Received notification:",T),Oe&&Nr();const he={free_item:{en:`New free item available for collection: ${T.item_name} at ${T.shop_name}`,ar:`Ø¹Ù†ØµØ± Ù…Ø¬Ø§Ù†ÙŠ Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­ Ù„Ù„ØªØ­ØµÙŠÙ„: ${T.item_name} ÙÙŠ ${T.shop_name}`,ro:`Articol gratuit nou disponibil pentru colectare: ${T.item_name} la ${T.shop_name}`,pl:`Nowy darmowy artykuÅ‚ dostÄ™pny do odbioru: ${T.item_name} w ${T.shop_name}`},discounted_item:{en:`New discounted item available: ${T.item_name} at ${T.shop_name}`,ar:`Ø¹Ù†ØµØ± Ù…Ø®ÙØ¶ Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­: ${T.item_name} ÙÙŠ ${T.shop_name}`,ro:`Articol nou redus disponibil: ${T.item_name} la ${T.shop_name}`,pl:`Nowy przeceniony artykuÅ‚ dostÄ™pny: ${T.item_name} w ${T.shop_name}`}},ke=i18n.language||"en",Pe=((He=he[T.type])==null?void 0:He[ke])||T.message,Be=document.createElement("div");Be.style.cssText="position: fixed; top: 20px; right: 20px; background: #4CAF50; color: white; padding: 15px 20px; borderRadius: 8px; boxShadow: 0 4px 12px rgba(0,0,0,0.3); zIndex: 10000; fontSize: 20px; fontWeight: bold;",Be.textContent=`ğŸ”” ${Pe}`,document.body.appendChild(Be),setTimeout(()=>Be.remove(),5e3),T.type==="free_item"?Te():T.type==="discounted_item"&&Ht()}),()=>{$i.off("new_item_notification"),$i.emit("leave_room",{user_type:"vcse"})}),[Oe]),D.useEffect(()=>{if(s!=="togo")return;const T=()=>se(null,null,function*(){try{const Pe=(yield be("/vcse/to-go-items")).items||[];if(Je>0&&Pe.length>Je&&Oe){Nr();const Be=document.createElement("div");Be.style.cssText="position: fixed; top: 20px; right: 20px; background: #4CAF50; color: white; padding: 15px 20px; borderRadius: 8px; boxShadow: 0 4px 12px rgba(0,0,0,0.3); zIndex: 10000; fontSize: 20px; fontWeight: bold;",Be.textContent=`ğŸ”” ${Pe.length-Je} new FREE Food To Go item(s) available!`,document.body.appendChild(Be),setTimeout(()=>Be.remove(),5e3)}S(Pe),we(Pe.length)}catch(ke){console.error("Failed to check for new items:",ke)}});T();const he=setInterval(T,3e4);return()=>clearInterval(he)},[s,Je,Oe]),D.useEffect(()=>{Ft()},[M,U]),D.useEffect(()=>{if(qe==="all")zt(C);else{const T=C.filter(he=>(he.shop_city||he.shop_town||"").toLowerCase()===qe.toLowerCase());zt(T)}},[C,qe]);const V=()=>se(null,null,function*(){try{const T=yield be("/vcse/balance"),he=(T.balance||0)+(T.allocated_balance||0);f(he)}catch(T){console.error("Failed to load balance:",T)}}),Te=()=>se(null,null,function*(){try{const T=yield be("/vcse/to-go-items");S(T.items||[])}catch(T){console.error("Failed to load Food to Go Items:",T)}}),Ht=()=>se(null,null,function*(){try{const T=yield be("/vcse/discounted-items");k(T.items||[])}catch(T){console.error("Failed to load discounted items:",T)}}),q=()=>se(null,null,function*(){try{const T=yield be("/vcse/accepted-items");si(T.items||[])}catch(T){console.error("Failed to load accepted items:",T)}}),et=T=>{bt(T);const he=new Date().toISOString().split("T")[0];Qt(he);const ke=new Date(Date.now()+7200*1e3),Pe=String(ke.getHours()).padStart(2,"0"),Be=String(ke.getMinutes()).padStart(2,"0");Ye(`${Pe}:${Be}`),Zt(!0)},dt=()=>se(null,null,function*(){if(!Et||!ct){w("Please select collection date and time");return}try{const T=`${Et}T${ct}:00`;yield be("/vcse/accept-food-item",{method:"POST",body:JSON.stringify({item_id:ze.id,collection_time:T})}),w(`Successfully accepted ${ze.item_name} for collection!`),Zt(!1),bt(null),Qt(""),Ye(""),Te(),q(),setTimeout(()=>w(""),3e3)}catch(T){w("Error: "+T.message)}}),tt=T=>se(null,null,function*(){if(confirm("Mark this item as collected?"))try{yield be("/vcse/mark-collected",{method:"POST",body:JSON.stringify({item_id:T})}),w("Item marked as collected!"),q(),setTimeout(()=>w(""),3e3)}catch(he){w("Error: "+he.message)}}),Ft=()=>se(null,null,function*(){try{const T=new URLSearchParams;M!=="all"&&T.append("status",M),U&&T.append("search",U);const he=yield be(`/vcse/vouchers?${T.toString()}`);O(he.vouchers||[])}catch(T){console.error("Failed to load vouchers:",T)}}),kt=()=>se(null,null,function*(){try{const T=yield be("/vendor/shops/all");oe(T||[])}catch(T){console.error("Failed to load vendor shops:",T)}}),K=()=>se(null,null,function*(){try{const T=yield be("/vcse/analytics");Y(T)}catch(T){console.error("Failed to load analytics:",T)}}),ge=T=>se(null,null,function*(){T.preventDefault();try{yield be("/vcse/issue-voucher",{method:"POST",body:JSON.stringify({recipient_first_name:x.recipientFirstName,recipient_last_name:x.recipientLastName,recipient_email:x.recipientEmail,recipient_date_of_birth:x.recipientDateOfBirth,recipient_phone:x.recipientPhone,recipient_address:x.recipientAddress,recipient_city:x.recipientCity,recipient_postcode:x.recipientPostcode,value:parseFloat(x.value),expiry_days:parseInt(x.expiryDays),selected_shops:ve==="all"?"all":ve,assign_shop_method:x.assignShopMethod||"none",specific_shop_id:x.assignShopMethod==="specific_shop"?parseInt(x.specificShopId):null})}),w("Voucher issued successfully!"),g({recipientFirstName:"",recipientLastName:"",recipientEmail:"",recipientDateOfBirth:"",recipientPhone:"",recipientAddress:"",recipientCity:"",recipientPostcode:"",value:"",expiryDays:"30"}),Se("all"),V(),Ft(),setTimeout(()=>w(""),3e3)}catch(he){w("Error: "+he.message)}}),xt=T=>se(null,null,function*(){T.preventDefault();try{yield be("/voucher/reassign",{method:"POST",body:JSON.stringify({voucher_id:ce.id,new_recipient_email:Me,reason:ye})}),w(`Voucher ${ce.code} reassigned successfully!`),Ae(!1),Ve(null),rt(""),Ce(""),Ft(),setTimeout(()=>w(""),3e3)}catch(he){w("Error: "+he.message)}}),We=T=>se(null,null,function*(){if(confirm(`Are you sure you want to unassign voucher ${T.code}?

This will:
- Cancel the voucher
- Return Â£${T.value.toFixed(2)} to your wallet
- Remove access from ${T.recipient.name}

This action cannot be undone.`))try{yield be("/voucher/unassign",{method:"POST",body:JSON.stringify({voucher_id:T.id})}),w(`Voucher ${T.code} unassigned successfully! Â£${T.value.toFixed(2)} returned to wallet.`),Ft(),V(),setTimeout(()=>w(""),5e3)}catch(he){w("Error: "+he.message),setTimeout(()=>w(""),5e3)}});return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsxs("div",{style:{backgroundColor:"#4CAF50",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("h1",{style:{margin:0,fontSize:"1.5rem"},children:[i("dashboard.welcome"),", ",o.name]}),r.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[r.jsx(Jo,{apiCall:be,userType:"vcse"}),r.jsxs("button",{onClick:()=>{le(!J),typeof setSidebarOpen!="undefined"&&setSidebarOpen(!1)},style:{background:"none",border:"none",color:"white",fontSize:"32px",cursor:"pointer",padding:"10px",display:"flex",flexDirection:"column",gap:"5px",alignItems:"center",justifyContent:"center"},children:[r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}})]})]})]}),J&&r.jsxs("div",{style:{position:"absolute",top:"70px",right:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"250px",overflow:"hidden"},children:[r.jsxs("button",{onClick:()=>{Z(!0),le(!1)},style:{width:"100%",padding:"15px 20px",border:"none",backgroundColor:"white",textAlign:"left",cursor:"pointer",fontSize:"20px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",gap:"10px"},onMouseEnter:T=>T.target.style.backgroundColor="#f5f5f5",onMouseLeave:T=>T.target.style.backgroundColor="white",children:["ğŸ”’ ",i("common.password")]}),r.jsxs("div",{style:{padding:"15px 20px",borderBottom:"1px solid #eee"},children:[r.jsxs("div",{style:{marginBottom:"5px",fontSize:"18px",color:"#666"},children:["ğŸŒ ",i("common.changeLanguage")]}),r.jsx(la,{})]}),r.jsxs("button",{onClick:()=>{e(),le(!1)},style:{width:"100%",padding:"15px 20px",border:"none",backgroundColor:"white",textAlign:"left",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",gap:"10px",color:"#d32f2f"},onMouseEnter:T=>T.target.style.backgroundColor="#ffebee",onMouseLeave:T=>T.target.style.backgroundColor="white",children:["ğŸšª ",i("common.signOut")]})]}),I&&r.jsx(es,{onClose:()=>Z(!1)}),r.jsxs("div",{style:{padding:"20px"},children:[r.jsx(Ia,{tabs:[{label:i("dashboard.overview"),value:"overview",icon:"ğŸ“Š"},{label:i("tabs.voucherOrders"),value:"orders",icon:"ğŸ“‹"},{label:i("tabs.reports"),value:"reports",icon:"ğŸ“ˆ"},{label:i("dashboard.issueVouchers"),value:"issue",icon:"ğŸ«"},{label:i("tabs.recipientsVouchers"),value:"recipients",icon:"ğŸ‘¥"},{label:i("dashboard.toGo"),value:"togo",icon:"ğŸ“¦"},{label:i("tabs.discountedItems"),value:"discounted",icon:"ğŸ’°"},{label:"Surplus Food Collection",value:"surplus-collection",icon:"ğŸ"}],activeTab:s,onTabChange:l,backgroundColor:"#4CAF50"}),s==="overview"&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"25px",borderRadius:"15px"},children:[r.jsx("h3",{style:{marginTop:0,color:"#1565c0"},children:"ğŸ’¼ Admin Allocated Funds"}),r.jsx("p",{style:{fontSize:"18px",color:"#666"},children:"Funds allocated by administrator"}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",textAlign:"center"},children:r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#1976d2"},children:["Â£",d.toFixed(2)]})})]}),r.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"25px",borderRadius:"15px"},children:[r.jsx("h3",{style:{marginTop:0,color:"#2e7d32"},children:"ğŸ’³ Self-Loaded Funds"}),r.jsx("p",{style:{fontSize:"18px",color:"#666"},children:"Funds loaded via payment"}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",textAlign:"center"},children:r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",(o.balance||0).toFixed(2)]})}),r.jsx("button",{onClick:()=>l("payment"),style:G(L({},$.primaryButton),{width:"100%",marginTop:"15px",backgroundColor:"#4CAF50"}),children:"ğŸ’³ Load Funds"})]}),r.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"25px",borderRadius:"15px"},children:[r.jsx("h3",{style:{marginTop:0,color:"#e65100"},children:"ğŸ’° Total Available"}),r.jsx("p",{style:{fontSize:"18px",color:"#666"},children:"Combined balance for vouchers"}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",textAlign:"center"},children:r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#FF9800"},children:["Â£",((o.balance||0)+d).toFixed(2)]})})]})]}),r.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px"},children:r.jsxs("p",{style:{margin:0,color:"#1565c0"},children:["â„¹ï¸ ",r.jsx("strong",{children:"Note:"})," You can load funds directly using a credit/debit card, or receive allocated funds from the administrator."]})}),r.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"25px",borderRadius:"12px",marginTop:"20px",border:"2px solid #4CAF50"},children:[r.jsxs("h3",{style:{marginTop:0,color:"#2e7d32"},children:["ğŸ¤ ",i("vcseWelcome.title")]}),r.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",color:"#333"},children:i("vcseWelcome.paragraph1")}),r.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",color:"#333"},children:i("vcseWelcome.paragraph2")}),r.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.6",fontSize:"1.25em",color:"#555"},children:["ğŸŒŸ ",i("vcseWelcome.paragraph3")]})]})]}),s==="orders"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“‹ ",i("tabs.voucherOrders")]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[r.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Filter by Status"}),r.jsxs("select",{value:M,onChange:T=>ee(T.target.value),style:$.input,children:[r.jsx("option",{value:"all",children:"All Vouchers"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"redeemed",children:"Redeemed"}),r.jsx("option",{value:"expired",children:"Expired"})]})]}),r.jsxs("div",{style:{flex:"2",minWidth:"300px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Search"}),r.jsx("input",{type:"text",value:U,onChange:T=>W(T.target.value),placeholder:"Search by code, recipient name, or email...",style:$.input})]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("strong",{children:["Total Vouchers: ",R.length]}),r.jsx("a",{href:"/api/vcse/export-vouchers",download:!0,style:G(L({},$.primaryButton),{textDecoration:"none",display:"inline-block",backgroundColor:"#2e7d32"}),children:"ğŸ“„ Export to Excel"})]}),R.length===0?r.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:r.jsx("p",{children:"No vouchers found matching your criteria"})}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Code"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Recipient"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Email"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Phone"}),r.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Value"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Status"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Issued"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Expiry"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Redeemed"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Actions"})]})}),r.jsx("tbody",{children:R.map(T=>{var he,ke,Pe;return r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"12px",fontFamily:"monospace",fontWeight:"bold"},children:T.code}),r.jsx("td",{style:{padding:"12px"},children:((he=T.recipient)==null?void 0:he.name)||"Unknown"}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:((ke=T.recipient)==null?void 0:ke.email)||""}),r.jsx("td",{style:{padding:"12px"},children:((Pe=T.recipient)==null?void 0:Pe.phone)||""}),r.jsxs("td",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",color:"#4CAF50"},children:["Â£",T.value.toFixed(2)]}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",backgroundColor:T.status==="active"?"#e8f5e9":T.status==="redeemed"?"#e3f2fd":"#ffebee",color:T.status==="active"?"#2e7d32":T.status==="redeemed"?"#1565c0":"#c62828"},children:T.status.toUpperCase()})}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:new Date(T.created_at).toLocaleDateString()}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:new Date(T.expiry_date).toLocaleDateString()}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:T.redeemed_date?new Date(T.redeemed_date).toLocaleDateString():"-"}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[r.jsx("a",{href:`/api/vcse/voucher-pdf/${T.id}`,target:"_blank",rel:"noopener noreferrer",style:G(L({},$.primaryButton),{fontSize:"16px",padding:"6px 12px",textDecoration:"none",display:"inline-block",backgroundColor:"#1976d2"}),children:"ğŸ“ PDF"}),(T.status==="active"||T.status==="expired")&&T.reassignment_count<3&&r.jsx("button",{onClick:()=>{Ve(T),Ae(!0)},style:G(L({},$.primaryButton),{fontSize:"16px",padding:"6px 12px",backgroundColor:"#FF9800"}),children:"ğŸ”„ Reassign"}),T.status==="active"&&r.jsx("button",{onClick:()=>We(T),style:G(L({},$.primaryButton),{fontSize:"16px",padding:"6px 12px",backgroundColor:"#f44336"}),title:"Unassign voucher and return funds to wallet",children:"âŒ Unassign"})]})})]},T.id)})})]})})]})]}),s==="reports"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“ˆ ",i("tabs.reports")," & ",i("dashboard.tabs.analytics","Analytics")]}),r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Visual insights into your voucher distribution and impact"}),F?r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"8px"},children:i("dashboard.totalVouchersIssued")}),r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#4CAF50"},children:F.total_vouchers})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"8px"},children:i("vcse.totalValueDistributed")}),r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#1976d2"},children:["Â£",F.total_value.toFixed(2)]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"8px"},children:i("dashboard.activeVouchers")}),r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#2e7d32"},children:F.active_vouchers})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"8px"},children:i("dashboard.redeemedVouchers")}),r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#1565c0"},children:F.redeemed_vouchers})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"Voucher Status Breakdown"}),r.jsxs("div",{style:{padding:"20px 0"},children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸŸ¢ Active"}),r.jsxs("strong",{children:[F.status_breakdown.active," (",F.total_vouchers>0?(F.status_breakdown.active/F.total_vouchers*100).toFixed(1):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#e0e0e0",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#4CAF50",height:"100%",width:`${F.total_vouchers>0?F.status_breakdown.active/F.total_vouchers*100:0}%`}})})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸ”µ Redeemed"}),r.jsxs("strong",{children:[F.status_breakdown.redeemed," (",F.total_vouchers>0?(F.status_breakdown.redeemed/F.total_vouchers*100).toFixed(1):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#e0e0e0",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#2196F3",height:"100%",width:`${F.total_vouchers>0?F.status_breakdown.redeemed/F.total_vouchers*100:0}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸ”´ Expired"}),r.jsxs("strong",{children:[F.status_breakdown.expired," (",F.total_vouchers>0?(F.status_breakdown.expired/F.total_vouchers*100).toFixed(1):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#e0e0e0",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#f44336",height:"100%",width:`${F.total_vouchers>0?F.status_breakdown.expired/F.total_vouchers*100:0}%`}})})]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"Value by Status"}),r.jsxs("div",{style:{padding:"20px 0"},children:[r.jsx("div",{style:{marginBottom:"20px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"ğŸŸ¢ Active Value"}),r.jsxs("strong",{style:{fontSize:"24px",color:"#4CAF50"},children:["Â£",F.value_by_status.active.toFixed(2)]})]})}),r.jsx("div",{style:{marginBottom:"20px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"ğŸ”µ Redeemed Value"}),r.jsxs("strong",{style:{fontSize:"24px",color:"#2196F3"},children:["Â£",F.value_by_status.redeemed.toFixed(2)]})]})}),r.jsx("div",{children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"ğŸ”´ Expired Value"}),r.jsxs("strong",{style:{fontSize:"24px",color:"#f44336"},children:["Â£",F.value_by_status.expired.toFixed(2)]})]})})]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"Voucher Issuance Trend (Last 30 Days)"}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsx("div",{style:{display:"flex",alignItems:"flex-end",height:"200px",gap:"4px",minWidth:"600px"},children:F.issuance_trend.map((T,he)=>{const ke=Math.max(...F.issuance_trend.map(Be=>Be.count),1),Pe=T.count/ke*180;return r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("div",{style:{backgroundColor:"#4CAF50",width:"100%",height:`${Pe}px`,borderRadius:"4px 4px 0 0",position:"relative",minHeight:T.count>0?"2px":"0"},title:`${T.date}: ${T.count} vouchers`,children:T.count>0&&r.jsx("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",fontSize:"14px",fontWeight:"bold"},children:T.count})}),he%5===0&&r.jsx("div",{style:{fontSize:"13px",marginTop:"5px",transform:"rotate(-45deg)",transformOrigin:"top left",whiteSpace:"nowrap"},children:new Date(T.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},he)})})})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginTop:"30px"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ“„ Generate Detailed Report"}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Generate and download comprehensive reports for your funders and stakeholders"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"From Date"}),r.jsx("input",{type:"date",id:"reportDateFrom",style:$.input,defaultValue:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"To Date"}),r.jsx("input",{type:"date",id:"reportDateTo",style:$.input,defaultValue:new Date().toISOString().split("T")[0]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsx("button",{onClick:()=>se(null,null,function*(){try{const T=document.getElementById("reportDateFrom").value,he=document.getElementById("reportDateTo").value,ke=yield fetch("/api/vcse/reports/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({date_from:T,date_to:he})});if(ke.ok){const Pe=yield ke.json();alert("Report generated successfully! Check the console for details."),console.log("Report Data:",Pe)}else alert(i("alerts.reportFailed"))}catch(T){alert("Error generating report: "+T.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:"ğŸ“Š Generate Report"}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const T=document.getElementById("reportDateFrom").value,he=document.getElementById("reportDateTo").value,ke=yield fetch(`/api/vcse/reports/pdf?date_from=${T}&date_to=${he}`,{credentials:"include"});if(ke.ok){const Pe=yield ke.blob(),Be=window.URL.createObjectURL(Pe),He=document.createElement("a");He.href=Be,He.download=`vcse_report_${T}_to_${he}.pdf`,document.body.appendChild(He),He.click(),window.URL.revokeObjectURL(Be),document.body.removeChild(He)}else alert("Failed to download PDF report")}catch(T){alert("Error downloading PDF: "+T.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#f44336"}),children:"ğŸ“¥ Download PDF"}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const T=document.getElementById("reportDateFrom").value,he=document.getElementById("reportDateTo").value,ke=yield fetch("/api/vcse/reports/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({date_from:T,date_to:he})});if(ke.ok){const Be=(yield ke.json()).report;let He=`VCFSE Organization Report

`;He+=`Organization,${Be.organization_name}
`,He+=`Period,${Be.date_from} to ${Be.date_to}

`,He+=`Metric,Value
`,He+=`Vouchers Issued,${Be.vouchers_issued}
`,He+=`Total Value Distributed,Â£${Be.total_value_distributed}
`,He+=`Active Vouchers,${Be.active_vouchers}
`,He+=`Redeemed Vouchers,${Be.redeemed_vouchers}
`,He+=`Families Supported,${Be.families_supported}
`,He+=`Surplus Items Claimed,${Be.surplus_items_claimed}
`,He+=`Surplus Items Collected,${Be.surplus_items_collected}
`;const Jt=new Blob([He],{type:"text/csv"}),Ze=window.URL.createObjectURL(Jt),gi=document.createElement("a");gi.href=Ze,gi.download=`vcse_report_${T}_to_${he}.csv`,document.body.appendChild(gi),gi.click(),window.URL.revokeObjectURL(Ze),document.body.removeChild(gi)}else alert("Failed to generate CSV report")}catch(T){alert("Error generating CSV: "+T.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#2196F3"}),children:"ğŸ“¥ Download Excel (CSV)"})]})]})]}):r.jsx("div",{style:{textAlign:"center",padding:"40px"},children:r.jsx("p",{children:"Loading analytics..."})})]}),s==="issue"&&r.jsxs("div",{children:[r.jsx("h2",{children:"Issue Vouchers"}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("strong",{children:["ğŸ’° Total Available Funds: Â£",d.toFixed(2)]}),r.jsx("p",{style:{margin:"10px 0 0"},children:"Combined balance from admin allocation and self-loaded funds"})]}),r.jsxs("div",{style:{backgroundColor:"#f3e5f5",border:"2px solid #9C27B0",borderRadius:"10px",padding:"20px",marginBottom:"20px"},children:[r.jsx("h3",{style:{color:"#7B1FA2",marginTop:0,marginBottom:"15px",fontSize:"22px"},children:"â„¹ï¸ How to Issue Vouchers"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[r.jsxs("div",{children:[r.jsx("h4",{style:{color:"#9C27B0",marginBottom:"10px",fontSize:"19px"},children:"ğŸ‘¥ Single Recipient"}),r.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#555",fontSize:"18px",lineHeight:"1.8"},children:[r.jsx("li",{children:"Fill in recipient details in the form below"}),r.jsx("li",{children:"Enter voucher value and expiry days"}),r.jsx("li",{children:"Select which shops can accept the voucher"}),r.jsx("li",{children:'Click "Issue Voucher"'})]})]}),r.jsxs("div",{children:[r.jsx("h4",{style:{color:"#9C27B0",marginBottom:"10px",fontSize:"19px"},children:"ğŸ“„ Bulk Upload"}),r.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#555",fontSize:"18px",lineHeight:"1.8"},children:[r.jsx("li",{children:"Download the CSV template"}),r.jsx("li",{children:"Fill in recipient details in Excel/Sheets"}),r.jsx("li",{children:"Upload the completed CSV file"}),r.jsx("li",{children:"Recipients will be created automatically"})]})]})]}),r.jsxs("p",{style:{margin:"15px 0 0 0",fontSize:"17px",color:"#666",backgroundColor:"#fff",padding:"10px",borderRadius:"5px"},children:["ğŸ’¡ ",r.jsx("strong",{children:"Tips:"})," Recipients receive email & SMS notifications automatically. If an email already exists, the existing account will be used."]})]}),r.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"20px",borderRadius:"10px",marginBottom:"30px",border:"2px solid #ff9800"},children:[r.jsx("h3",{style:{marginTop:0,color:"#e65100"},children:"ğŸ“¤ Bulk Upload Recipients"}),r.jsx("p",{style:{marginBottom:"15px",color:"#666"},children:"Upload multiple recipients at once using a CSV file. Download the template below to get started."}),r.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"},children:[r.jsx("a",{href:"/api/vcse/download-recipient-template",download:!0,style:G(L({},$.primaryButton),{textDecoration:"none",backgroundColor:"#4CAF50"}),children:"ğŸ“¥ Download CSV Template"}),r.jsxs("label",{style:G(L({},$.primaryButton),{backgroundColor:"#ff9800",cursor:"pointer"}),children:["ğŸ“ Choose CSV File",r.jsx("input",{type:"file",accept:".csv",style:{display:"none"},onChange:T=>se(null,null,function*(){const he=T.target.files[0];if(!he)return;const ke=new FormData;ke.append("file",he);try{const Pe=yield fetch("/api/vcse/bulk-upload-recipients",{method:"POST",credentials:"include",body:ke}),Be=yield Pe.json();if(Pe.ok){const He=Be.summary;let Jt=`âœ… Bulk upload completed!

`;Jt+=`Created: ${He.created} recipients
`,He.duplicates>0&&(Jt+=`Skipped (duplicates): ${He.duplicates}
`),He.failed>0&&(Jt+=`Failed: ${He.failed}
`),Be.created.length>0&&(Jt+=`
New recipients:
`,Be.created.slice(0,5).forEach(Ze=>{Jt+=`- ${Ze.name} (${Ze.email})
`}),Be.created.length>5&&(Jt+=`... and ${Be.created.length-5} more
`)),alert(Jt),T.target.value=""}else{let He=`âŒ Upload failed: ${Be.error}

`;Be.validation_errors&&Be.validation_errors.length>0&&(He+=`Validation errors found in ${Be.validation_errors.length} rows:

`,Be.validation_errors.slice(0,5).forEach(Jt=>{He+=`Row ${Jt.row}: ${Jt.errors.join(", ")}
`}),Be.validation_errors.length>5&&(He+=`... and ${Be.validation_errors.length-5} more errors
`)),Be.duplicates&&Be.duplicates.length>0&&(He+=`
Duplicate emails (${Be.duplicates.length}):
`,Be.duplicates.slice(0,3).forEach(Jt=>{He+=`- ${Jt.email}
`})),alert(He),T.target.value=""}}catch(Pe){alert(`Error uploading file: ${Pe.message}`),T.target.value=""}})})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"8px"},children:[r.jsx("strong",{style:{display:"block",marginBottom:"10px"},children:"ğŸ“‹ CSV Format Requirements:"}),r.jsxs("ul",{style:{margin:"5px 0",paddingLeft:"20px",color:"#666"},children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Required columns:"})," email, first_name, last_name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Optional columns:"})," phone, address, city, postcode"]}),r.jsx("li",{children:"First row must be the header with column names"}),r.jsx("li",{children:"Each recipient will receive a welcome email with login credentials"}),r.jsx("li",{children:"Duplicate emails will be automatically skipped"})]})]})]}),y&&r.jsx("div",{style:{backgroundColor:y.includes("Error")?"#ffebee":"#e8f5e9",color:y.includes("Error")?"#c62828":"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:y}),r.jsx("h3",{style:{marginTop:"20px",marginBottom:"15px"},children:"ğŸ“ Issue Single Voucher"}),r.jsxs("form",{onSubmit:ge,style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"First Name"}),r.jsx("input",{type:"text",value:x.recipientFirstName,onChange:T=>g(G(L({},x),{recipientFirstName:T.target.value})),placeholder:i("common.firstNamePlaceholder"),style:$.input,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Surname"}),r.jsx("input",{type:"text",value:x.recipientLastName,onChange:T=>g(G(L({},x),{recipientLastName:T.target.value})),placeholder:"Smith",style:$.input,required:!0})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Email Address"}),r.jsx("input",{type:"email",value:x.recipientEmail,onChange:T=>g(G(L({},x),{recipientEmail:T.target.value})),placeholder:"recipient@example.com",style:$.input,required:!0}),r.jsx("small",{style:{color:"#666",fontSize:"16px"},children:"The recipient will receive voucher details at this email"})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Date of Birth"}),r.jsx("input",{type:"date",value:x.recipientDateOfBirth,onChange:T=>g(G(L({},x),{recipientDateOfBirth:T.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Phone Number"}),r.jsx("input",{type:"tel",value:x.recipientPhone,onChange:T=>g(G(L({},x),{recipientPhone:T.target.value})),placeholder:"+44 7XXX XXXXXX",style:$.input,required:!0}),r.jsx("small",{style:{color:"#666",fontSize:"16px"},children:"Used for SMS notifications with voucher code"})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Address"}),r.jsx("input",{type:"text",value:x.recipientAddress,onChange:T=>g(G(L({},x),{recipientAddress:T.target.value})),placeholder:"Street address",style:$.input,required:!0})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Town/City"}),r.jsx("input",{type:"text",value:x.recipientCity,onChange:T=>g(G(L({},x),{recipientCity:T.target.value})),placeholder:"e.g., Northampton",style:$.input,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Postcode"}),r.jsx("input",{type:"text",value:x.recipientPostcode,onChange:T=>g(G(L({},x),{recipientPostcode:T.target.value})),placeholder:"e.g., NN1 1AA",style:$.input,required:!0})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Voucher Value (Â£)"}),r.jsx("input",{type:"number",step:"0.01",value:x.value,onChange:T=>g(G(L({},x),{value:T.target.value})),placeholder:"20.00",style:$.input,required:!0}),r.jsxs("small",{style:{color:"#666",fontSize:"16px"},children:["Amount will be deducted from your balance (Â£",d.toFixed(2)," available)"]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Accepted At (Local Food Shops)"}),r.jsxs("select",{value:ve,onChange:T=>{const he=T.target.value;Se(he==="all"?"all":[parseInt(he)])},style:$.input,children:[r.jsx("option",{value:"all",children:"All Local Food Shops"}),fe.map(T=>r.jsxs("option",{value:T.id,children:[T.shop_name," - ",T.city]},T.id))]}),r.jsx("small",{style:{color:"#666",display:"block",marginTop:"5px"},children:"Select which shop(s) can accept this voucher"})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Expiry (Days)"}),r.jsx("input",{type:"number",value:x.expiryDays,onChange:T=>g(G(L({},x),{expiryDays:T.target.value})),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1976d2"},children:"ğŸ Food To Go at a Discount - Shop Assignment"}),r.jsxs("select",{value:x.assignShopMethod||"none",onChange:T=>g(G(L({},x),{assignShopMethod:T.target.value})),style:$.input,children:[r.jsx("option",{value:"none",children:"No shop assignment (regular voucher)"}),r.jsx("option",{value:"recipient_choice",children:"Recipient to choose shop"}),r.jsx("option",{value:"specific_shop",children:"Assign specific shop"})]}),r.jsx("small",{style:{color:"#666",display:"block",marginTop:"5px",wordWrap:"break-word",whiteSpace:"normal"},children:"Choose how the shop will be assigned for discounted food items"}),x.assignShopMethod==="specific_shop"&&r.jsxs("div",{style:{marginTop:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Select Shop"}),r.jsxs("select",{value:x.specificShopId||"",onChange:T=>g(G(L({},x),{specificShopId:T.target.value})),style:$.input,required:!0,children:[r.jsx("option",{value:"",children:"-- Select a shop --"}),fe.map(T=>r.jsxs("option",{value:T.id,children:[T.shop_name," - ",T.city]},T.id))]})]})]}),r.jsx("button",{type:"submit",style:$.primaryButton,children:"Issue Voucher"})]})]}),s==="togo"&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsxs("h2",{style:{margin:0},children:["ğŸ›ï¸ ",i("pages.foodToGoOrderTitle")]}),r.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:i("pages.foodToGoOrderDesc")})]}),r.jsx("button",{onClick:()=>Ue(!Oe),style:{padding:"10px 20px",backgroundColor:Oe?"#4CAF50":"#9E9E9E",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:Oe?"ğŸ”” "+i("sound.on"):"ğŸ”• "+i("sound.off")})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"ğŸ“ Filter by Town/City:"}),r.jsxs("select",{value:qe,onChange:T=>Xe(T.target.value),style:{padding:"10px",borderRadius:"8px",border:"2px solid #ddd",fontSize:"18px",width:"300px",cursor:"pointer"},children:[r.jsx("option",{value:"all",children:"All Towns/Cities"}),r.jsx("option",{value:"Northampton",children:"Northampton"}),r.jsx("option",{value:"Daventry",children:"Daventry"}),r.jsx("option",{value:"Brackley",children:"Brackley"}),r.jsx("option",{value:"Towcester",children:"Towcester"}),r.jsx("option",{value:"Wellingborough",children:"Wellingborough"}),r.jsx("option",{value:"Kettering",children:"Kettering"}),r.jsx("option",{value:"Corby",children:"Corby"})]}),qe!=="all"&&r.jsxs("span",{style:{marginLeft:"10px",color:"#666",fontSize:"18px"},children:["Showing items from ",qe," (",_t.length," items)"]})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:_t.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsxs("p",{children:["No Food to Go Items available ",qe!=="all"?`in ${qe}`:"at the moment"]}),r.jsx("p",{style:{fontSize:"18px"},children:qe!=="all"?'Try selecting a different town or "All Towns/Cities"':"Check back later for surplus Food to Go Items from local shops"})]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:_t.map(T=>r.jsx(ww,{item:T,onOrderPlaced:Te},T.id))})})]}),s==="discounted"&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("h2",{style:{margin:0},children:["ğŸ’° ",i("discount.title")]}),r.jsx("p",{style:{margin:"10px 0 0 0",color:"#666"},children:i("discount.description")})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:j.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsx("p",{children:"No discounted items available at the moment"}),r.jsx("p",{style:{fontSize:"18px"},children:"Check back later for discounted surplus items from local shops"})]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:j.map(T=>r.jsxs("div",{style:{padding:"20px",border:"2px solid #4CAF50",borderRadius:"10px",backgroundColor:"#f1f8f4"},children:[r.jsxs("div",{style:{backgroundColor:"#4CAF50",color:"white",padding:"8px 12px",borderRadius:"5px",marginBottom:"10px",fontSize:"18px",fontWeight:"bold",textAlign:"center"},children:["ğŸ’° ",i("discount.badge")," - ",i("discount.save")," ",T.savings_percent,"%"]}),r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#2e7d32"},children:T.item_name}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"24px",fontWeight:"bold",color:"#4CAF50"},children:["ğŸ’° Â£",T.price.toFixed(2)," ",i("discount.per")," ",T.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#999",textDecoration:"line-through"},children:[i("discount.was"),": Â£",T.original_price.toFixed(2)]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"20px",fontWeight:"bold",color:"#FF9800"},children:["ğŸ‰ ",i("discount.save")," Â£",T.savings.toFixed(2)," (",T.savings_percent,"% ",i("discount.off"),")"]})]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("discount.available"),":"]})," ",T.quantity," ",T.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("discount.category"),":"]})," ",T.category]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("discount.description"),":"]})," ",T.description||i("discount.freshAndReady")]}),r.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[r.jsxs("p",{style:{margin:"3px 0",fontSize:"18px",fontWeight:"bold",color:"#1976d2"},children:["ğŸª ",T.shop_name]}),r.jsxs("p",{style:{margin:"3px 0",fontSize:"17px"},children:["ğŸ“ ",T.shop_address]}),r.jsxs("p",{style:{margin:"3px 0",fontSize:"17px"},children:["ğŸ“ ",T.shop_phone]})]}),r.jsx("div",{style:{marginTop:"15px"},children:r.jsxs("p",{style:{fontSize:"17px",color:"#666",fontStyle:"italic",textAlign:"center",margin:0},children:["ğŸ’³ ",i("discount.contactShop")]})})]},T.id))})})]}),s==="surplus-collection"&&r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"20px"},children:"ğŸ Surplus Food Collection"}),r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Accept surplus food items from local vendors for collection and distribution to your beneficiaries"}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("h3",{style:{color:"#2e7d32"},children:"âœ… Available for Collection"}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:C.filter(T=>!T.collection_status||T.collection_status==="available").length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsx("p",{children:"No surplus food items available at the moment"}),r.jsx("p",{style:{fontSize:"18px"},children:"Check back later for new items from local vendors"})]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:C.filter(T=>!T.collection_status||T.collection_status==="available").map(T=>r.jsxs("div",{style:{padding:"20px",border:"2px solid #4CAF50",borderRadius:"10px",backgroundColor:"#f1f8e9"},children:[r.jsxs("h4",{style:{margin:"0 0 10px 0",color:"#2e7d32"},children:["ğŸ ",T.item_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Quantity:"})," ",T.quantity," ",T.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Category:"})," ",T.category]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Description:"})," ",T.description||"N/A"]}),r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸª Shop:"})," ",T.shop_name]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸ“ Location:"})," ",T.shop_address]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸ“ Phone:"})," ",T.shop_phone]})]}),r.jsx("button",{onClick:()=>et(T),style:{width:"100%",marginTop:"15px",padding:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},onMouseEnter:he=>he.target.style.backgroundColor="#45a049",onMouseLeave:he=>he.target.style.backgroundColor="#4CAF50",children:"âœ… Accept for Collection"})]},T.id))})})]}),r.jsxs("div",{children:[r.jsx("h3",{style:{color:"#FF9800"},children:"ğŸ“¦ My Accepted Items"}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:Ie.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsx("p",{children:"You haven't accepted any items yet"}),r.jsx("p",{style:{fontSize:"18px"},children:'Accept items from the "Available for Collection" section above'})]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:Ie.map(T=>r.jsxs("div",{style:{padding:"20px",border:T.collection_status==="collected"?"2px solid #2196F3":"2px solid #FF9800",borderRadius:"10px",backgroundColor:T.collection_status==="collected"?"#e3f2fd":"#fff3e0"},children:[r.jsx("div",{style:{backgroundColor:T.collection_status==="collected"?"#2196F3":"#FF9800",color:"white",padding:"8px 12px",borderRadius:"5px",marginBottom:"10px",fontSize:"16px",fontWeight:"bold",textAlign:"center"},children:T.collection_status==="collected"?"âœ“ COLLECTED":"â° PENDING COLLECTION"}),r.jsxs("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:["ğŸ ",T.item_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Quantity:"})," ",T.quantity," ",T.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Collection Time:"})," ",new Date(T.collection_time).toLocaleString()]}),r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"white",borderRadius:"5px"},children:[r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸª Shop:"})," ",T.shop_name]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸ“ Address:"})," ",T.shop_address]}),r.jsxs("p",{style:{margin:"2px 0",fontSize:"17px"},children:[r.jsx("strong",{children:"ğŸ“ Phone:"})," ",T.shop_phone]})]}),T.collection_status==="accepted"&&r.jsx("button",{onClick:()=>tt(T.id),style:{width:"100%",marginTop:"15px",padding:"12px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},onMouseEnter:he=>he.target.style.backgroundColor="#1976d2",onMouseLeave:he=>he.target.style.backgroundColor="#2196F3",children:"âœ“ Mark as Collected"})]},T.id))})})]})]}),s==="recipients"&&r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"20px"},children:"ğŸ‘¥ Recipients & Voucher Management"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#1976d2"},children:R.length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.totalVouchersIssued")})]}),r.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50"},children:R.filter(T=>T.status==="active").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.activeVouchers")})]}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#2196F3"},children:R.filter(T=>T.status==="redeemed").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.redeemedVouchers")})]}),r.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#FF9800"},children:R.filter(T=>{if(T.status!=="active")return!1;const he=Math.ceil((new Date(T.expiry_date)-new Date)/(1e3*60*60*24));return he<=7&&he>0}).length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:"Expiring Soon (7 days)"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:[r.jsxs("button",{onClick:()=>ee("all"),style:L(L({},$.tab),M==="all"?$.activeTab:{}),children:["All Vouchers (",R.length,")"]}),r.jsxs("button",{onClick:()=>ee("active"),style:G(L(L({},$.tab),M==="active"?$.activeTab:{}),{backgroundColor:M==="active"?"#4CAF50":void 0}),children:["ğŸŸ¢ Active (",R.filter(T=>T.status==="active").length,")"]}),r.jsxs("button",{onClick:()=>ee("redeemed"),style:G(L(L({},$.tab),M==="redeemed"?$.activeTab:{}),{backgroundColor:M==="redeemed"?"#2196F3":void 0}),children:["ğŸ”µ Redeemed (",R.filter(T=>T.status==="redeemed").length,")"]}),r.jsxs("button",{onClick:()=>ee("expired"),style:G(L(L({},$.tab),M==="expired"?$.activeTab:{}),{backgroundColor:M==="expired"?"#f44336":void 0}),children:["ğŸ”´ Expired (",R.filter(T=>T.status==="expired").length,")"]}),r.jsxs("button",{onClick:()=>ee("expiring"),style:G(L(L({},$.tab),M==="expiring"?$.activeTab:{}),{backgroundColor:M==="expiring"?"#FF9800":void 0}),children:["âš ï¸ Expiring Soon (",R.filter(T=>{if(T.status!=="active")return!1;const he=Math.ceil((new Date(T.expiry_date)-new Date)/(1e3*60*60*24));return he<=7&&he>0}).length,")"]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",overflowX:"auto"},children:[r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{borderBottom:"2px solid #ddd"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Recipient"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Contact"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Code"}),r.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Value"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Status"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Issued"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Expires"})]})}),r.jsx("tbody",{children:R.filter(T=>{if(M==="all")return!0;if(M==="expiring"){if(T.status!=="active")return!1;const he=Math.ceil((new Date(T.expiry_date)-new Date)/(1e3*60*60*24));return he<=7&&he>0}return T.status===M}).map(T=>{var Pe,Be,He;const he=Math.ceil((new Date(T.expiry_date)-new Date)/864e5),ke=T.status==="active"&&he<=7&&he>0;return r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"12px"},children:r.jsx("strong",{children:((Pe=T.recipient)==null?void 0:Pe.name)||"Unknown"})}),r.jsxs("td",{style:{padding:"12px",fontSize:"17px",color:"#666"},children:[(Be=T.recipient)==null?void 0:Be.email,r.jsx("br",{}),(He=T.recipient)==null?void 0:He.phone]}),r.jsx("td",{style:{padding:"12px",fontFamily:"monospace",fontWeight:"bold"},children:T.code}),r.jsxs("td",{style:{padding:"12px",textAlign:"right",fontWeight:"bold"},children:["Â£",T.value.toFixed(2)]}),r.jsxs("td",{style:{padding:"12px",textAlign:"center"},children:[r.jsx("span",{style:{padding:"5px 12px",borderRadius:"20px",fontSize:"16px",fontWeight:"bold",backgroundColor:T.status==="active"?"#e8f5e9":T.status==="redeemed"?"#e3f2fd":"#ffebee",color:T.status==="active"?"#2e7d32":T.status==="redeemed"?"#1565c0":"#c62828"},children:T.status.toUpperCase()}),ke&&r.jsxs("div",{style:{fontSize:"15px",color:"#FF9800",marginTop:"3px"},children:["âš ï¸ ",he," days left"]})]}),r.jsx("td",{style:{padding:"12px",fontSize:"17px",color:"#666"},children:new Date(T.created_at).toLocaleDateString()}),r.jsx("td",{style:{padding:"12px",fontSize:"17px",color:"#666"},children:new Date(T.expiry_date).toLocaleDateString()})]},T.id)})})]}),R.filter(T=>{if(M==="all")return!0;if(M==="expiring"){if(T.status!=="active")return!1;const he=Math.ceil((new Date(T.expiry_date)-new Date)/(1e3*60*60*24));return he<=7&&he>0}return T.status===M}).length===0&&r.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:r.jsx("p",{children:"No vouchers found for this filter"})})]})]})]}),Q&&ce&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%"},children:[r.jsx("h3",{style:{marginTop:0},children:"ğŸ”„ Reassign Voucher"}),r.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:[r.jsx("strong",{children:"Voucher Code:"})," ",ce.code,r.jsx("br",{}),r.jsx("strong",{children:"Value:"})," Â£",ce.value.toFixed(2),r.jsx("br",{}),r.jsx("strong",{children:"Current Recipient:"})," ",ce.recipient.name,r.jsx("br",{}),r.jsx("strong",{children:"Reassignments:"})," ",ce.reassignment_count||0," / 3"]}),r.jsxs("form",{onSubmit:xt,children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"New Recipient Email"}),r.jsx("input",{type:"email",value:Me,onChange:T=>rt(T.target.value),placeholder:"recipient@example.com",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Reason for Reassignment"}),r.jsx("textarea",{value:ye,onChange:T=>Ce(T.target.value),placeholder:"Why is this voucher being reassigned?",style:G(L({},$.input),{minHeight:"80px"}),required:!0})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[r.jsx("button",{type:"button",onClick:()=>{Ae(!1),Ve(null),rt(""),Ce("")},style:G(L({},$.primaryButton),{backgroundColor:"#757575"}),children:"Cancel"}),r.jsx("button",{type:"submit",style:G(L({},$.primaryButton),{backgroundColor:"#FF9800"}),children:"Reassign Voucher"})]})]})]})}),ft&&ze&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"15px",padding:"30px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[r.jsx("h2",{style:{marginTop:0,color:"#4CAF50"},children:"ğŸ Accept Food Item for Collection"}),r.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:ze.item_name}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Quantity:"})," ",ze.quantity," ",ze.unit]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Shop:"})," ",ze.shop_name]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Location:"})," ",ze.shop_address]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"18px"},children:"ğŸ“… Collection Date"}),r.jsx("input",{type:"date",value:Et,onChange:T=>Qt(T.target.value),min:new Date().toISOString().split("T")[0],style:{width:"100%",padding:"12px",fontSize:"18px",border:"2px solid #ddd",borderRadius:"8px"}})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"18px"},children:"â° Collection Time"}),r.jsx("input",{type:"time",value:ct,onChange:T=>Ye(T.target.value),style:{width:"100%",padding:"12px",fontSize:"18px",border:"2px solid #ddd",borderRadius:"8px"}})]}),r.jsx("div",{style:{backgroundColor:"#e3f2fd",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:r.jsxs("p",{style:{margin:0,color:"#1565c0",fontSize:"16px"},children:["â„¹ï¸ ",r.jsx("strong",{children:"Note:"})," The vendor will be notified of your collection time. Please arrive promptly to collect the items."]})}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:()=>{Zt(!1),bt(null),Qt(""),Ye("")},style:{flex:1,padding:"12px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},onMouseEnter:T=>T.target.style.backgroundColor="#616161",onMouseLeave:T=>T.target.style.backgroundColor="#757575",children:"Cancel"}),r.jsx("button",{onClick:dt,style:{flex:1,padding:"12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},onMouseEnter:T=>T.target.style.backgroundColor="#45a049",onMouseLeave:T=>T.target.style.backgroundColor="#4CAF50",children:"âœ… Confirm Acceptance"})]})]})})]})}function Cw({user:o,onLogout:e}){const{t:i}=Nt(),[s,l]=D.useState("overview"),[d,f]=D.useState([]),[x,g]=D.useState([]),[y,w]=D.useState(0),[C,S]=D.useState(0),[j,k]=D.useState(!1),[R,O]=D.useState({shopName:"",shopAddress:"",itemName:"",quantity:"",category:"Fresh Produce",description:"",expiry_date:"",item_type:"free",price:"",original_price:""}),[F,Y]=D.useState(""),[M,ee]=D.useState(""),[U,W]=D.useState(null),[I,Z]=D.useState(""),[J,le]=D.useState(""),[fe,oe]=D.useState(null),[ve,Se]=D.useState({shop_name:"",address:"",postcode:"",city:"",phone:""}),[Q,Ae]=D.useState(!1),[ce,Ve]=D.useState(!1),[Me,rt]=D.useState(""),[ye,Ce]=D.useState("all"),[Oe,Ue]=D.useState([]),[Je,we]=D.useState(!1),[qe,Xe]=D.useState({shop_id:"",amount:"",bank_name:"",account_number:"",sort_code:"",account_holder_name:"",notes:""});D.useEffect(()=>{_t(),zt(),ft()},[]);const _t=()=>se(null,null,function*(){try{const V=yield be("/vendor/shops");if(f(V.shops||[]),S(V.total_sales||0),V.shops&&V.shops.length>0){const Te=V.shops[0];O(Ht=>G(L({},Ht),{shopId:Te.id.toString(),shopName:Te.shop_name,shopAddress:Te.address}))}}catch(V){console.error("Failed to load shops:",V)}}),zt=()=>se(null,null,function*(){try{const V=yield be("/vendor/to-go-items");g(V.surplus_items||V.to_go_items||[]),w(V.total_count||0)}catch(V){console.error("Failed to load Food to Go Items:",V)}}),ft=()=>se(null,null,function*(){try{const V=yield be("/vendor/payout/history");Ue(V.payouts||[])}catch(V){console.error("Failed to load payout history:",V)}}),Zt=V=>se(null,null,function*(){V.preventDefault(),console.log("=== PAYOUT FORM SUBMISSION =="),console.log("payoutForm state:",qe),console.log("shop_id:",qe.shop_id,typeof qe.shop_id),console.log("=============================");try{yield be("/vendor/payout/request",{method:"POST",body:JSON.stringify(qe)}),alert(i("payout.payoutRequestSubmitted")),we(!1),Xe({shop_id:"",amount:"",bank_name:"",account_number:"",sort_code:"",account_holder_name:"",notes:""}),ft()}catch(Te){alert("Failed to submit payout request: "+Te.message)}}),ze=V=>se(null,null,function*(){V.preventDefault();const Te=V.target.querySelector('button[type="submit"]');Te&&(Te.disabled=!0,Te.textContent="â³ Posting...");try{const Ht=yield be("/items/post",{method:"POST",body:JSON.stringify({shop_name:R.shopName,shop_address:R.shopAddress,item_name:R.itemName,quantity:R.quantity,category:R.category,description:R.description,expiry_date:R.expiry_date,item_type:R.item_type,price:R.item_type==="discount"?R.price:null,original_price:R.item_type==="discount"?R.original_price:null})});Ht.duplicate_warning?Y(`âš ï¸ ${Ht.message}`):Y(`âœ… ${Ht.message||"Food to Go item posted successfully!"}`),O(G(L({},R),{itemName:"",quantity:"",description:"",expiry_date:"",item_type:"free",price:"",original_price:""})),zt(),setTimeout(()=>Y(""),5e3)}catch(Ht){Y("âŒ Error: "+Ht.message),setTimeout(()=>Y(""),5e3)}finally{Te&&(Te.disabled=!1,Te.textContent="Post Food to Go Items Item")}}),bt=V=>{oe(V.id),Se({shop_name:V.shop_name,address:V.address,postcode:V.postcode||"",city:V.city||"",phone:V.phone||""})},Et=()=>se(null,null,function*(){try{yield be(`/vendor/shops/${fe}`,{method:"PUT",body:JSON.stringify(ve)}),Y("Shop updated successfully!"),oe(null),_t(),setTimeout(()=>Y(""),3e3)}catch(V){Y("Error: "+V.message)}}),Qt=V=>se(null,null,function*(){if(confirm("Are you sure you want to delete this shop?"))try{yield be(`/vendor/shops/${V}`,{method:"DELETE"}),Y("Shop deleted successfully!"),_t(),setTimeout(()=>Y(""),3e3)}catch(Te){Y("Error: "+Te.message)}}),ct=V=>se(null,null,function*(){if(confirm("Are you sure you want to delete this item?"))try{yield be(`/vendor/surplus-items/${V}`,{method:"DELETE"}),Y("Item deleted successfully!"),zt(),setTimeout(()=>Y(""),3e3)}catch(Te){Y("Error: "+Te.message)}}),Ye=()=>se(null,null,function*(){if(!M.trim()){Z("Please enter a voucher code");return}try{const V=yield be("/vendor/validate-voucher",{method:"POST",body:JSON.stringify({code:M.trim().toUpperCase()})});V.valid?(W(V.voucher),le(""),Z("")):(W(null),le(""),Z(V.error||"Invalid voucher"))}catch(V){W(null),le(""),Z("Error validating voucher: "+V.message)}}),Ie=()=>se(null,null,function*(){if(!M.trim()){Z("Please enter a voucher code");return}const V=parseFloat(J);if(!J||isNaN(V)||V<=0){Z("Please enter a valid purchase amount");return}if(!U||U.code!==M.trim().toUpperCase()){Z("Please validate the voucher first");return}if(V>parseFloat(U.value)){Z(`Purchase amount Â£${V.toFixed(2)} exceeds voucher balance Â£${U.value}`);return}try{const Te=yield be("/vendor/redeem-voucher",{method:"POST",body:JSON.stringify({code:M.trim().toUpperCase(),amount:V})});Z("Redemption request sent! Waiting for recipient approval..."),ee(""),W(null),le(""),setTimeout(()=>Z(""),5e3)}catch(Te){Z("Error: "+Te.message),setTimeout(()=>Z(""),5e3)}}),si=V=>{ee(V.toUpperCase()),k(!1),Z("QR code scanned! Click Validate or Redeem."),setTimeout(()=>Z(""),3e3)};return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsxs("div",{style:{backgroundColor:"#FF9800",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("div",{children:r.jsxs("h1",{style:{margin:0,fontSize:"1.5rem"},children:[i("dashboard.welcome"),", ",o.name]})}),r.jsxs("button",{onClick:()=>Ve(!ce),style:{background:"none",border:"none",color:"white",fontSize:"32px",cursor:"pointer",padding:"10px",display:"flex",flexDirection:"column",gap:"5px",alignItems:"center",justifyContent:"center"},children:[r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px"}})]})]}),ce&&r.jsxs("div",{style:{position:"absolute",top:"70px",right:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"250px",overflow:"hidden"},children:[r.jsxs("button",{onClick:()=>{Ae(!0),Ve(!1)},style:{width:"100%",padding:"15px 20px",border:"none",backgroundColor:"white",textAlign:"left",cursor:"pointer",fontSize:"20px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",gap:"10px"},onMouseEnter:V=>V.target.style.backgroundColor="#f5f5f5",onMouseLeave:V=>V.target.style.backgroundColor="white",children:["ğŸ”’ ",i("common.password")]}),r.jsxs("div",{style:{padding:"15px 20px",borderBottom:"1px solid #eee"},children:[r.jsxs("div",{style:{marginBottom:"5px",fontSize:"18px",color:"#666"},children:["ğŸŒ ",i("common.changeLanguage")]}),r.jsx(la,{})]}),r.jsx("hr",{style:{margin:"10px 0",border:"none",borderTop:"1px solid #eee"}}),r.jsxs("button",{onClick:()=>{l("overview"),Ve(!1)},style:{width:"100%",padding:"12px 20px",border:"none",backgroundColor:s==="overview"?"#fff3e0":"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:["ğŸ“‹ ",i("dashboard.overview")]}),r.jsxs("button",{onClick:()=>{l("vouchers"),Ve(!1)},style:{width:"100%",padding:"12px 20px",border:"none",backgroundColor:s==="vouchers"?"#fff3e0":"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:["ğŸ« ",i("dashboard.redeemVouchers")]}),r.jsxs("button",{onClick:()=>{l("history"),Ve(!1)},style:{width:"100%",padding:"12px 20px",border:"none",backgroundColor:s==="history"?"#fff3e0":"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:["ğŸ“œ ",i("shop.redemptionHistory")]}),r.jsxs("button",{onClick:()=>{l("payout"),Ve(!1)},style:{width:"100%",padding:"12px 20px",border:"none",backgroundColor:s==="payout"?"#fff3e0":"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:["ğŸ’° ",i("payout.requestPayout")]}),r.jsxs("button",{onClick:()=>{l("togo"),Ve(!1)},style:{width:"100%",padding:"12px 20px",border:"none",backgroundColor:s==="togo"?"#fff3e0":"transparent",textAlign:"left",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:["ğŸ” ",i("dashboard.toGo")]}),r.jsx("div",{style:{padding:"10px 20px",textAlign:"center",fontSize:"0.85em",color:"#666"},children:"BAK UP E-Voucher System v1.2.5"}),r.jsx("hr",{style:{margin:"10px 0",border:"none",borderTop:"1px solid #eee"}}),r.jsxs("button",{onClick:()=>{e(),Ve(!1)},style:{width:"100%",padding:"15px 20px",border:"none",backgroundColor:"white",textAlign:"left",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",gap:"10px",color:"#d32f2f",fontWeight:"bold"},onMouseEnter:V=>V.target.style.backgroundColor="#ffebee",onMouseLeave:V=>V.target.style.backgroundColor="white",children:["ğŸšª ",i("common.signOut")]})]}),Q&&r.jsx(es,{onClose:()=>Ae(!1)}),r.jsxs("div",{style:{padding:"20px"},children:[r.jsx("div",{style:{display:"none"}}),s==="overview"&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",textAlign:"center"},children:[r.jsxs("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",C.toFixed(2)]}),r.jsxs("div",{children:["ğŸ’° ",i("vendor.totalSales")]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#FF9800"},children:y}),r.jsx("div",{children:i("shop.toGoPosted")})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#2196F3"},children:d.length}),r.jsx("div",{children:i("shop.shopsRegistered")})]})]}),r.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"25px",borderRadius:"12px",marginBottom:"25px",border:"2px solid #FF9800"},children:[r.jsxs("h3",{style:{marginTop:0,color:"#e65100"},children:["ğŸª ",i("vendor.welcomeTitle")]}),r.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",color:"#333"},children:i("vendor.welcomeThank")}),r.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",color:"#333"},children:i("vendor.welcomeDignity")}),r.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.6",fontSize:"1.25em",color:"#555"},children:["â™»ï¸ ",i("vendor.welcomeCircular")]})]}),r.jsx("h3",{children:i("shop.yourShops")}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:d.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:i("shop.noShopYet")}),r.jsxs("button",{onClick:()=>l("create-shop"),style:G(L({},$.primaryButton),{backgroundColor:"#FF9800"}),children:["â• ",i("shop.createShopProfile")]})]}):d.map(V=>r.jsx("div",{style:{padding:"20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:fe===V.id?r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.shopName")}),r.jsx("input",{type:"text",value:ve.shop_name,onChange:Te=>Se(G(L({},ve),{shop_name:Te.target.value})),style:$.input})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.phone")}),r.jsx("input",{type:"text",value:ve.phone,onChange:Te=>Se(G(L({},ve),{phone:Te.target.value})),style:$.input})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.address")}),r.jsx("input",{type:"text",value:ve.address,onChange:Te=>Se(G(L({},ve),{address:Te.target.value})),style:$.input})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.cityCounty")}),r.jsx("input",{type:"text",value:ve.city,onChange:Te=>Se(G(L({},ve),{city:Te.target.value})),style:$.input,placeholder:"e.g., London, Essex"})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.postcode")}),r.jsx("input",{type:"text",value:ve.postcode,onChange:Te=>Se(G(L({},ve),{postcode:Te.target.value})),style:$.input,placeholder:"e.g., SW1A 1AA"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsxs("button",{onClick:Et,style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:["ğŸ’¾ ",i("shop.save")]}),r.jsx("button",{onClick:()=>oe(null),style:G(L({},$.primaryButton),{backgroundColor:"#757575"}),children:i("shop.cancel")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("strong",{style:{fontSize:"22px",color:"#FF9800"},children:V.shop_name}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸ“ ",V.address]}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸ™ï¸ ",V.city," ",V.postcode]}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸ“ ",V.phone]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsxs("button",{onClick:()=>bt(V),style:G(L({},$.primaryButton),{backgroundColor:"#2196F3",padding:"8px 16px"}),children:["âœï¸ ",i("shop.edit")]}),r.jsxs("button",{onClick:()=>Qt(V.id),style:G(L({},$.primaryButton),{backgroundColor:"#f44336",padding:"8px 16px"}),children:["ğŸ—‘ï¸ ",i("shop.delete")]})]})]})},V.id))})]}),s==="vouchers"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ« ",i("shop.redeemVouchers")]}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",marginBottom:"20px",maxWidth:"800px",margin:"0 auto 20px"},children:[r.jsxs("h3",{style:{marginTop:0,color:"#1976d2",fontSize:"22px"},children:["ğŸ“ ",i("shop.howToRedeem")]}),r.jsxs("ol",{style:{marginBottom:0,paddingLeft:"20px",lineHeight:"1.8"},children:[r.jsx("li",{children:i("shop.step1")}),r.jsx("li",{children:i("shop.step2")}),r.jsx("li",{children:i("shop.step3")}),r.jsx("li",{children:i("shop.step4")}),r.jsx("li",{children:i("shop.step5")}),r.jsx("li",{children:i("shop.step6")})]}),r.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",borderRadius:"5px",fontSize:"18px"},children:["ğŸ’¡ ",r.jsxs("strong",{children:[i("shop.tip"),":"]})," ",i("shop.tipText")]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"600px",margin:"0 auto"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",fontSize:"20px"},children:i("shop.enterVoucherCode")}),r.jsx("input",{type:"text",value:M,onChange:V=>{ee(V.target.value.toUpperCase()),W(null),Z("")},placeholder:"e.g., VCHR-ABC123",style:G(L({},$.input),{fontSize:"22px",fontFamily:"monospace",letterSpacing:"2px",textTransform:"uppercase"})})]}),r.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:r.jsxs("button",{onClick:()=>k(!0),style:G(L({},$.primaryButton),{backgroundColor:"#9C27B0",width:"100%",fontSize:"20px"}),children:["ğŸ“· ",i("shop.scanQRCode")]})}),U&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",fontSize:"20px"},children:"ğŸ’· Purchase Amount"}),r.jsx("input",{type:"number",step:"0.01",min:"0.01",max:U.value,value:J,onChange:V=>le(V.target.value),placeholder:`Enter amount (max Â£${U.value})`,style:G(L({},$.input),{fontSize:"22px",fontWeight:"bold"})}),r.jsxs("small",{style:{color:"#666",fontSize:"18px",display:"block",marginTop:"5px"},children:["Available balance: Â£",U.value]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[r.jsxs("button",{onClick:Ye,style:G(L({},$.primaryButton),{backgroundColor:"#2196F3",flex:1}),children:["ğŸ” ",i("shop.validate")]}),r.jsxs("button",{onClick:Ie,style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50",flex:1,opacity:!M.trim()||!J||!U?.5:1}),disabled:!M.trim()||!J||!U,children:["âœ… ",i("shop.redeem")]})]}),I&&r.jsx("div",{style:{backgroundColor:I.includes("Success")||I.includes("redeemed")?"#e8f5e9":"#ffebee",color:I.includes("Success")||I.includes("redeemed")?"#2e7d32":"#c62828",padding:"15px",borderRadius:"5px",marginBottom:"20px",fontWeight:"bold"},children:I}),U&&r.jsxs("div",{style:{border:"2px solid #4CAF50",borderRadius:"10px",padding:"20px",backgroundColor:"#f1f8f4"},children:[r.jsxs("h3",{style:{margin:"0 0 15px 0",color:"#4CAF50"},children:["âœ… ",i("shop.validVoucher")]}),r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#4CAF50",marginBottom:"15px"},children:["Â£",U.value]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("strong",{children:[i("shop.code"),":"]})," ",r.jsx("span",{style:{fontFamily:"monospace"},children:U.code})]}),U.recipient&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"5px"},children:[r.jsxs("strong",{children:[i("shop.recipient"),":"]})," ",U.recipient.name]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[r.jsxs("strong",{children:[i("shop.phone"),":"]})," ",U.recipient.phone]})]}),U.expiry_date&&r.jsxs("div",{style:{marginTop:"10px",fontSize:"18px",color:"#666"},children:[r.jsxs("strong",{children:[i("shop.expires"),":"]})," ",new Date(U.expiry_date).toLocaleDateString()]})]}),r.jsxs("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px"},children:[r.jsxs("h4",{style:{margin:"0 0 10px 0"},children:["ğŸ“Š ",i("shop.howToRedeem")]}),r.jsxs("ol",{style:{margin:0,paddingLeft:"20px"},children:[r.jsx("li",{children:i("shop.step1")}),r.jsx("li",{children:i("shop.step2")}),r.jsx("li",{children:i("shop.step3")}),r.jsx("li",{children:i("shop.step4")}),r.jsx("li",{children:i("shop.step5")})]})]})]})]}),s==="togo"&&r.jsxs("div",{children:[r.jsx("h2",{children:"Post Food to Go Items"}),F&&r.jsx("div",{style:{backgroundColor:F.includes("Error")?"#ffebee":"#e8f5e9",color:F.includes("Error")?"#c62828":"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"20px"},children:F}),r.jsxs("form",{onSubmit:ze,style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Shop Name ",r.jsx("span",{style:{color:"#4CAF50",fontSize:"16px"},children:"(Auto-filled from your profile)"})]}),r.jsx("input",{type:"text",value:R.shopName,readOnly:!0,style:G(L({},$.input),{backgroundColor:"#f5f5f5",cursor:"not-allowed"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Shop Address ",r.jsx("span",{style:{color:"#4CAF50",fontSize:"16px"},children:"(Auto-filled from your profile)"})]}),r.jsx("input",{type:"text",value:R.shopAddress,readOnly:!0,style:G(L({},$.input),{backgroundColor:"#f5f5f5",cursor:"not-allowed"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Item Name"}),r.jsx("input",{type:"text",value:R.itemName,onChange:V=>O(G(L({},R),{itemName:V.target.value})),placeholder:"e.g., Fresh Bread",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Quantity"}),r.jsx("input",{type:"text",value:R.quantity,onChange:V=>O(G(L({},R),{quantity:V.target.value})),placeholder:"e.g., 20 loaves",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Category"}),r.jsxs("select",{value:R.category,onChange:V=>O(G(L({},R),{category:V.target.value})),style:$.input,required:!0,children:[r.jsx("option",{children:"Fresh Produce"}),r.jsx("option",{children:"Bakery"}),r.jsx("option",{children:"Dairy"}),r.jsx("option",{children:"Meat & Fish"}),r.jsx("option",{children:"Packaged Foods"}),r.jsx("option",{children:"Non-Food Items"})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Item Type"}),r.jsxs("div",{style:{display:"flex",gap:"20px"},children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[r.jsx("input",{type:"radio",value:"free",checked:R.item_type==="free",onChange:V=>O(G(L({},R),{item_type:V.target.value,price:"",original_price:""})),style:{marginRight:"8px"}}),r.jsx("span",{children:"ğŸ†“ Free for VCFSE Collection"})]}),r.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[r.jsx("input",{type:"radio",value:"discount",checked:R.item_type==="discount",onChange:V=>O(G(L({},R),{item_type:V.target.value})),style:{marginRight:"8px"}}),r.jsx("span",{children:"ğŸ’° Discounted for Recipients"})]})]}),r.jsx("small",{style:{color:"#666",fontSize:"16px",display:"block",marginTop:"5px"},children:"Free items can be collected by VCFSE organizations. Discounted items can be purchased by recipients."})]}),R.item_type==="discount"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Discounted Price (Â£)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:R.price,onChange:V=>O(G(L({},R),{price:V.target.value})),placeholder:"e.g., 2.50",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Original Price (Â£) ",r.jsx("span",{style:{color:"#999",fontWeight:"normal"},children:"(Optional)"})]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:R.original_price,onChange:V=>O(G(L({},R),{original_price:V.target.value})),placeholder:"e.g., 5.00",style:$.input}),r.jsx("small",{style:{color:"#666",fontSize:"16px"},children:"Show the original price to display discount percentage"})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Expiry/Best Before Date"}),r.jsx("input",{type:"date",value:R.expiry_date,onChange:V=>O(G(L({},R),{expiry_date:V.target.value})),style:$.input,min:new Date().toISOString().split("T")[0]}),r.jsx("small",{style:{color:"#666",fontSize:"16px"},children:"Optional - When does this product expire?"})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Description"}),r.jsx("textarea",{value:R.description,onChange:V=>O(G(L({},R),{description:V.target.value})),placeholder:"Additional details...",style:G(L({},$.input),{minHeight:"80px"})})]}),r.jsx("button",{type:"submit",style:$.primaryButton,children:"Post Food to Go Items Item"})]}),r.jsxs("h3",{children:["Your Food to Go Items (",y,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:x.filter(V=>V.status!=="removed").length===0?r.jsx("p",{children:"No Food to Go Items posted yet"}):x.filter(V=>V.status!=="removed").map(V=>r.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("strong",{style:{fontSize:"22px",color:"#FF9800"},children:V.item_name}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸ“¦ Quantity: ",V.quantity]}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸ·ï¸ Category: ",V.category]}),r.jsx("br",{}),r.jsxs("span",{style:{color:"#666"},children:["ğŸª Shop: ",V.shop_name]}),r.jsx("br",{}),V.expiry_date&&r.jsxs("span",{style:{color:"#f44336"},children:["â° Expires: ",new Date(V.expiry_date).toLocaleDateString()]}),r.jsx("br",{}),r.jsxs("span",{style:{color:V.status==="available"?"#4CAF50":"#757575",fontWeight:"bold"},children:["Status: ",V.status]}),r.jsx("br",{}),V.description&&r.jsx("p",{style:{color:"#666",marginTop:"10px"},children:V.description})]}),r.jsx("button",{onClick:()=>ct(V.id),style:G(L({},$.primaryButton),{backgroundColor:"#f44336",padding:"8px 16px"}),children:"ğŸ—‘ï¸ Delete"})]},V.id))})]}),s==="create-shop"&&r.jsxs("div",{children:[r.jsx("h2",{children:"â• Create Shop Profile"}),r.jsx("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"600px"},children:r.jsxs("form",{onSubmit:V=>se(null,null,function*(){V.preventDefault();const Te=new FormData(V.target);try{yield be("/vendor/shops",{method:"POST",body:JSON.stringify({shop_name:Te.get("shop_name"),address:Te.get("address"),city:Te.get("city"),postcode:Te.get("postcode"),phone:Te.get("phone")})}),Y("Shop created successfully!"),yield _t(),l("overview")}catch(Ht){Y("Error: "+Ht.message)}}),children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Shop Name *"}),r.jsx("input",{type:"text",name:"shop_name",placeholder:"e.g., Fresh Foods Market",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Address *"}),r.jsx("input",{type:"text",name:"address",placeholder:"e.g., 123 High Street",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"City *"}),r.jsx("input",{type:"text",name:"city",placeholder:"e.g., London",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Postcode *"}),r.jsx("input",{type:"text",name:"postcode",placeholder:"e.g., SW1A 1AA",style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Phone *"}),r.jsx("input",{type:"tel",name:"phone",placeholder:"e.g., 020 1234 5678",style:$.input,required:!0})]}),F&&r.jsx("div",{style:{backgroundColor:F.includes("Error")?"#ffebee":"#e8f5e9",color:F.includes("Error")?"#c62828":"#2e7d32",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:F}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{type:"submit",style:G(L({},$.primaryButton),{flex:1}),children:"Create Shop"}),r.jsx("button",{type:"button",onClick:()=>l("overview"),style:G(L({},$.primaryButton),{backgroundColor:"#757575",flex:1}),children:"Cancel"})]})]})})]}),s==="payout"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ’° ",i("payout.requestPayout")]}),r.jsx("div",{style:{marginBottom:"20px"},children:r.jsx("button",{onClick:()=>we(!Je),style:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"20px"},children:i(Je?"common.cancel":"payout.requestPayment")})}),Je&&r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsx("h3",{style:{marginTop:0},children:i("payout.requestPayment")}),r.jsx("form",{onSubmit:Zt,children:r.jsxs("div",{style:{display:"grid",gap:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("shop.shopName")}),r.jsxs("select",{id:"payout-shop-select",name:"shop_id",value:qe.shop_id,onChange:V=>{const Te=parseInt(V.target.value)||"";console.log("Shop selected:",Te,typeof Te),Xe(G(L({},qe),{shop_id:Te}))},style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},required:!0,children:[r.jsx("option",{value:"",children:"Select Shop"}),d.map(V=>r.jsx("option",{value:V.id,children:V.shop_name},V.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.amount")}),r.jsx("input",{type:"number",step:"0.01",value:qe.amount,onChange:V=>Xe(G(L({},qe),{amount:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},placeholder:"0.00",required:!0})]}),r.jsx("h4",{style:{marginTop:"10px",marginBottom:"5px"},children:i("payout.bankDetails")}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.bankName")}),r.jsx("input",{type:"text",value:qe.bank_name,onChange:V=>Xe(G(L({},qe),{bank_name:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.accountNumber")}),r.jsx("input",{type:"text",value:qe.account_number,onChange:V=>Xe(G(L({},qe),{account_number:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.sortCode")}),r.jsx("input",{type:"text",value:qe.sort_code,onChange:V=>Xe(G(L({},qe),{sort_code:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},placeholder:"12-34-56",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.accountHolderName")}),r.jsx("input",{type:"text",value:qe.account_holder_name,onChange:V=>Xe(G(L({},qe),{account_holder_name:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:i("payout.notes")}),r.jsx("textarea",{value:qe.notes,onChange:V=>Xe(G(L({},qe),{notes:V.target.value})),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",minHeight:"80px"}})]}),r.jsx("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"20px",marginTop:"10px"},children:i("payout.submitRequest")})]})})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:[r.jsx("h3",{children:i("payout.payoutHistory")}),Oe.length===0?r.jsx("p",{style:{textAlign:"center",color:"#666",padding:"40px"},children:i("payout.noPayoutRequests")}):r.jsx("div",{style:{display:"grid",gap:"15px"},children:Oe.map(V=>r.jsxs("div",{style:{padding:"20px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#fafafa"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",V.amount.toFixed(2)]}),r.jsx("div",{style:{fontSize:"18px",color:"#666"},children:V.shop_name})]}),r.jsx("div",{style:{padding:"5px 15px",borderRadius:"20px",fontSize:"16px",fontWeight:"bold",backgroundColor:V.status==="paid"?"#e8f5e9":V.status==="approved"?"#fff3e0":V.status==="rejected"?"#ffebee":"#e3f2fd",color:V.status==="paid"?"#2e7d32":V.status==="approved"?"#e65100":V.status==="rejected"?"#c62828":"#1565c0"},children:V.status.toUpperCase()})]}),r.jsxs("div",{style:{borderTop:"1px solid #e0e0e0",paddingTop:"15px"},children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("payout.requestedAt"),":"]})," ",new Date(V.requested_at).toLocaleString()]}),V.reviewed_at&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("payout.reviewedAt"),":"]})," ",new Date(V.reviewed_at).toLocaleString()]}),V.paid_at&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("payout.paidAt"),":"]})," ",new Date(V.paid_at).toLocaleString()]}),V.admin_notes&&r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fff3cd",borderRadius:"5px"},children:[r.jsxs("strong",{children:[i("payout.adminNotes"),":"]}),r.jsx("p",{style:{margin:"5px 0"},children:V.admin_notes})]})]})]},V.id))})]})]})]}),j&&r.jsx(x2,{onScan:si,onClose:()=>k(!1),t:i})]})}function Sw({user:o,onLogout:e}){const{t:i,i18n:s}=Nt(),[l,d]=D.useState("vouchers"),[f,x]=D.useState([]),[g,y]=D.useState(null),[w,C]=D.useState([]),[S,j]=D.useState([]),[k,R]=D.useState(null),[O,F]=D.useState(!1),[Y,M]=D.useState(!1),[ee,U]=D.useState([]),[W,I]=D.useState(0),[Z,J]=D.useState(!1),[le,fe]=D.useState(""),[oe,ve]=D.useState("all"),[Se,Q]=D.useState(""),[Ae,ce]=D.useState("all"),[Ve,Me]=D.useState("all"),[rt,ye]=D.useState(!1),[Ce,Oe]=D.useState(null),[Ue,Je]=D.useState([]),[we,qe]=D.useState(!0),[Xe,_t]=D.useState(0),[zt,ft]=D.useState([]),[Zt,ze]=D.useState(!1),[bt,Et]=D.useState(null),[Qt,ct]=D.useState(!1),[Ye,Ie]=D.useState(!1);D.useEffect(()=>(si(),V(),dt(),tt(),Ht(),$i.emit("join_room",{user_type:"recipient"}),$i.on("new_item_notification",K=>{var he;console.log("Received notification:",K),we&&Nr();const ge={free_item:{en:`New free item available for collection: ${K.item_name} at ${K.shop_name}`,ar:`Ø¹Ù†ØµØ± Ù…Ø¬Ø§Ù†ÙŠ Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­ Ù„Ù„ØªØ­ØµÙŠÙ„: ${K.item_name} ÙÙŠ ${K.shop_name}`,ro:`Articol gratuit nou disponibil pentru colectare: ${K.item_name} la ${K.shop_name}`,pl:`Nowy darmowy artykuÅ‚ dostÄ™pny do odbioru: ${K.item_name} w ${K.shop_name}`},discounted_item:{en:`New discounted item available: ${K.item_name} at ${K.shop_name}`,ar:`Ø¹Ù†ØµØ± Ù…Ø®ÙØ¶ Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­: ${K.item_name} ÙÙŠ ${K.shop_name}`,ro:`Articol nou redus disponibil: ${K.item_name} la ${K.shop_name}`,pl:`Nowy przeceniony artykuÅ‚ dostÄ™pny: ${K.item_name} w ${K.shop_name}`}},xt=s.language||"en",We=((he=ge[K.type])==null?void 0:he[xt])||K.message,T=document.createElement("div");T.style.cssText="position: fixed; top: 20px; right: 20px; background: #9C27B0; color: white; padding: 15px 20px; borderRadius: 8px; boxShadow: 0 4px 12px rgba(0,0,0,0.3); zIndex: 10000; fontSize: 20px; fontWeight: bold;",T.textContent=`ğŸ”” ${We}`,document.body.appendChild(T),setTimeout(()=>T.remove(),5e3),dt()}),$i.on("redemption_request",K=>{console.log("Received redemption request:",K),we&&Nr();const ge=document.createElement("div");ge.style.cssText="position: fixed; top: 20px; right: 20px; background: #FF5722; color: white; padding: 15px 20px; borderRadius: 8px; boxShadow: 0 4px 12px rgba(0,0,0,0.3); zIndex: 10000; fontSize: 20px; fontWeight: bold; cursor: pointer;",ge.textContent=`ğŸ“¢ ${K.message}`,ge.onclick=()=>{V(),ge.remove()},document.body.appendChild(ge),setTimeout(()=>ge.remove(),1e4),V()}),()=>{$i.off("new_item_notification"),$i.off("redemption_request"),$i.emit("leave_room",{user_type:"recipient"})}),[we]),D.useEffect(()=>{if(l!=="togo")return;const K=()=>se(null,null,function*(){try{const We=(yield be("/recipient/to-go-items")).items||[];if(Xe>0&&We.length>Xe&&we){Nr();const T=document.createElement("div");T.style.cssText="position: fixed; top: 20px; right: 20px; background: #4CAF50; color: white; padding: 15px 20px; borderRadius: 8px; boxShadow: 0 4px 12px rgba(0,0,0,0.3); zIndex: 10000; fontSize: 20px; fontWeight: bold;",T.textContent=`ğŸ”” ${We.length-Xe} new discounted Food To Go item(s) available!`,document.body.appendChild(T),setTimeout(()=>T.remove(),5e3)}j(We),_t(We.length)}catch(xt){console.error("Failed to check for new items:",xt)}});K();const ge=setInterval(K,3e4);return()=>clearInterval(ge)},[l,Xe,we]),D.useEffect(()=>{console.log("[TOWN FILTER] useEffect triggered with townFilter:",Ve),et(Ve)},[Ve]);const si=()=>se(null,null,function*(){try{const K=yield be("/recipient/vouchers");x(K.vouchers||[]),y(K.summary||null)}catch(K){console.error("Failed to load vouchers:",K)}}),V=()=>se(null,null,function*(){try{const K=yield be("/recipient/redemption-requests");ft(K.requests||[]),K.requests&&K.requests.length>0&&!Zt&&(Et(K.requests[0]),ze(!0))}catch(K){console.error("Failed to load redemption requests:",K)}}),Te=(K,ge,xt="")=>se(null,null,function*(){var We,T;try{const he=yield be(`/recipient/redemption-requests/${K}/respond`,{method:"POST",body:JSON.stringify({action:ge,reason:xt})}),ke=ge==="approve"?`Approved! Â£${(We=he.redeemed_amount)==null?void 0:We.toFixed(2)} redeemed. Remaining: Â£${(T=he.remaining_balance)==null?void 0:T.toFixed(2)}`:"Redemption request rejected";alert(ke),V(),si(),ze(!1),Et(null),setTimeout(()=>{V()},500)}catch(he){alert("Error: "+he.message)}}),Ht=()=>se(null,null,function*(){var K;try{const xt=((K=(yield be("/recipient/vouchers")).vouchers)==null?void 0:K.filter(We=>We.status==="active"))||[];for(const We of xt)if((yield be(`/recipient/voucher-shop-status/${We.code}`)).requires_selection){Oe(We.code),ye(!0);break}}catch(ge){console.error("Failed to check shop selection requirement:",ge)}}),q=()=>se(null,null,function*(){try{const K=yield be("/recipient/discounted-items");Je(K.items||[])}catch(K){console.error("Failed to load discounted items:",K)}}),et=(K="all")=>se(null,null,function*(){console.log("[TOWN FILTER] loadRecipientShops called with town:",K);try{const ge=K&&K!=="all"?`/recipient/shops?town=${encodeURIComponent(K)}`:"/recipient/shops",xt=yield be(ge);C(xt.shops||[])}catch(ge){console.error("Failed to load shops:",ge)}}),dt=()=>se(null,null,function*(){try{const K=yield be("/recipient/to-go-items");j(K.items||[])}catch(K){console.error("Failed to load Food to Go Items:",K)}}),tt=()=>se(null,null,function*(){try{const K=yield be("/cart");U(K.cart||[]),I(K.cart?K.cart.length:0)}catch(K){console.error("Failed to load cart:",K)}}),Ft=K=>se(null,null,function*(){try{yield be("/cart/add",{method:"POST",body:JSON.stringify({item_id:K,quantity:1})}),yield tt(),alert(i("alerts.itemAddedToCart"))}catch(ge){console.error("Failed to add to cart:",ge),alert(i("alerts.failedToAddToCart")+" "+ge.message)}}),kt=K=>se(null,null,function*(){try{yield be(`/cart/remove/${K}`,{method:"DELETE"}),yield tt(),alert(i("alerts.itemRemoved"))}catch(ge){console.error("Failed to remove from cart:",ge),alert(i("alerts.failedToRemove")+" "+ge.message)}});return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsxs("div",{style:{backgroundColor:"#9C27B0",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[r.jsx("div",{children:r.jsxs("h1",{style:{margin:0,fontSize:"1.5rem"},children:[i("dashboard.welcome"),", ",o.name]})}),r.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap",position:"relative"},children:[r.jsx(Jo,{apiCall:be,userType:"recipient"}),r.jsxs("button",{onClick:()=>ct(!Qt),style:{backgroundColor:"transparent",border:"2px solid white",borderRadius:"50%",width:"48px",height:"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",cursor:"pointer",padding:"8px"},children:[r.jsx("div",{style:{width:"24px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"24px",height:"3px",backgroundColor:"white",borderRadius:"2px"}}),r.jsx("div",{style:{width:"24px",height:"3px",backgroundColor:"white",borderRadius:"2px"}})]}),Qt&&r.jsxs("div",{style:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"220px",zIndex:1e3,overflow:"hidden"},children:[r.jsx("button",{onClick:()=>{Ie(!0),ct(!1)},style:{width:"100%",padding:"15px 20px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"19px",color:"#333",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #eee"},onMouseEnter:K=>K.target.style.backgroundColor="#f5f5f5",onMouseLeave:K=>K.target.style.backgroundColor="transparent",children:"ğŸ‘¤ My Profile"}),r.jsx("button",{onClick:()=>{J(!0),ct(!1)},style:{width:"100%",padding:"15px 20px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"19px",color:"#333",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #eee"},onMouseEnter:K=>K.target.style.backgroundColor="#f5f5f5",onMouseLeave:K=>K.target.style.backgroundColor="transparent",children:"ğŸ”’ Change Password"}),r.jsxs("div",{style:{padding:"10px 20px",borderBottom:"1px solid #eee"},children:[r.jsx("div",{style:{fontSize:"17px",color:"#666",marginBottom:"8px"},children:"ğŸŒ Change Language"}),r.jsxs("select",{value:s.language,onChange:K=>se(null,null,function*(){yield s.changeLanguage(K.target.value),ct(!1),window.location.reload()}),style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"18px",cursor:"pointer"},children:[r.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),r.jsx("option",{value:"ar",children:"ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}),r.jsx("option",{value:"ro",children:"ğŸ‡·ğŸ‡´ RomÃ¢nÄƒ"}),r.jsx("option",{value:"pl",children:"ğŸ‡µğŸ‡± Polski"})]})]}),r.jsx("div",{style:{padding:"10px 20px",borderBottom:"1px solid #eee",textAlign:"center",fontSize:"0.85em",color:"#666"},children:"BAK UP E-Voucher System v1.2.5"}),r.jsx("button",{onClick:()=>{ct(!1),e()},style:{width:"100%",padding:"15px 20px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"19px",color:"#d32f2f",display:"flex",alignItems:"center",gap:"10px",fontWeight:"bold"},onMouseEnter:K=>K.target.style.backgroundColor="#ffebee",onMouseLeave:K=>K.target.style.backgroundColor="transparent",children:"ğŸšº Sign Out"})]})]})]}),Z&&r.jsx(es,{onClose:()=>J(!1)}),Ye&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"15px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[r.jsx("h2",{style:{margin:0,color:"#9C27B0"},children:"ğŸ‘¤ My Profile"}),r.jsx("button",{onClick:()=>Ie(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"28px",cursor:"pointer",color:"#666"},children:"âœ–ï¸"})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#666"},children:"Name"}),r.jsx("div",{style:{padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"8px",fontSize:"19px"},children:o.name})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#666"},children:"Email"}),r.jsx("div",{style:{padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"8px",fontSize:"19px"},children:o.email})]}),o.phone&&r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#666"},children:"Phone"}),r.jsx("div",{style:{padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"8px",fontSize:"19px"},children:o.phone})]}),o.address&&r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#666"},children:"Address"}),r.jsx("div",{style:{padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"8px",fontSize:"19px"},children:o.address})]}),r.jsx("div",{style:{marginTop:"25px",paddingTop:"20px",borderTop:"1px solid #eee"},children:r.jsx("button",{onClick:()=>{Ie(!1),J(!0)},style:G(L({},$.primaryButton),{backgroundColor:"#1976d2",width:"100%",padding:"12px",fontSize:"19px"}),children:"ğŸ”’ Change Password"})})]})}),r.jsxs("div",{style:{padding:"20px"},children:[r.jsx(Ia,{tabs:[{label:i("dashboard.myVouchers"),value:"vouchers",icon:"ğŸ’³"},{label:i("dashboard.participatingShops"),value:"shops",icon:"ğŸª"},{label:"Discounted Items",value:"discounted",icon:"ğŸ"},{label:i("dashboard.browseToGo"),value:"togo",icon:"ğŸ“±"},{label:i("dashboard.voucherHistory"),value:"history",icon:"ğŸ“œ"},{label:i("dashboard.shoppingCart")+(W>0?` (${W})`:""),value:"cart",icon:"ğŸ›’"}],activeTab:l,onTabChange:d,backgroundColor:"#9C27B0"}),l==="vouchers"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ’³ ",i("dashboard.myVouchers")]}),r.jsx("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ” ",i("dashboard.searchVouchers")]}),r.jsx("input",{type:"text",placeholder:i("dashboard.searchByCode"),value:le||"",onChange:K=>fe(K.target.value),style:G(L({},$.input),{width:"100%"})})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:["ğŸ“‹ ",i("dashboard.statusFilter")]}),r.jsxs("select",{value:oe||"all",onChange:K=>ve(K.target.value),style:G(L({},$.input),{width:"100%"}),children:[r.jsx("option",{value:"all",children:i("voucher.allStatus")}),r.jsx("option",{value:"active",children:i("voucher.active")}),r.jsx("option",{value:"redeemed",children:i("voucher.redeemed")}),r.jsx("option",{value:"expired",children:i("voucher.expired")})]})]}),r.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:r.jsxs("button",{onClick:()=>{fe(""),ve("all")},style:G(L({},$.secondaryButton),{width:"100%"}),children:["âœ–ï¸ ",i("dashboard.clearFilters")]})})]})}),g&&r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[r.jsxs("div",{style:{backgroundColor:"#4CAF50",color:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold"},children:["Â£",g.total_active_value.toFixed(2)]}),r.jsx("div",{children:i("dashboard.activeBalance")})]}),r.jsxs("div",{style:{backgroundColor:"#2196F3",color:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold"},children:g.active_count}),r.jsx("div",{children:i("dashboard.activeVouchers")})]}),r.jsxs("div",{style:{backgroundColor:"#FF9800",color:"white",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"36px",fontWeight:"bold"},children:g.redeemed_count}),r.jsx("div",{children:i("dashboard.redeemed")})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:f.length===0?r.jsx("p",{children:i("recipient.noVouchersAvailable")}):r.jsx("div",{style:{display:"grid",gap:"20px"},children:f.filter(K=>oe!=="all"&&K.status!==oe?!1:le?K.code.toLowerCase().includes(le.toLowerCase()):!0).map(K=>r.jsx("div",{style:{padding:"25px",border:`3px solid ${K.status==="active"?"#4CAF50":"#ccc"}`,borderRadius:"15px",backgroundColor:K.status==="active"?"#f1f8f4":"#f5f5f5"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"20px"},children:[r.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[r.jsxs("div",{style:{fontSize:"46px",fontWeight:"bold",color:"#4CAF50",marginBottom:"10px"},children:["Â£",K.value]}),r.jsxs("div",{style:{fontSize:"22px",marginBottom:"5px"},children:[r.jsx("strong",{children:i("recipient.code")})," ",r.jsx("span",{style:{backgroundColor:"#fff",padding:"5px 10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"20px"},children:K.code})]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[r.jsx("strong",{children:i("recipient.status")})," ",r.jsx("span",{style:{color:K.status==="active"?"#4CAF50":K.status==="redeemed"?"#FF9800":"#666",fontWeight:"bold",textTransform:"uppercase"},children:K.status})]}),r.jsxs("div",{style:{marginBottom:"5px"},children:[r.jsx("strong",{children:i("recipient.expires")})," ",new Date(K.expiry_date).toLocaleDateString()]}),K.issued_by&&r.jsxs("div",{style:{marginTop:"10px",fontSize:"18px",color:"#666"},children:[r.jsx("strong",{children:i("recipient.issuedBy")})," ",K.issued_by.name]}),K.redeemed_at&&r.jsxs("div",{style:{marginTop:"5px",fontSize:"18px",color:"#666"},children:[r.jsx("strong",{children:i("recipient.redeemed")})," ",new Date(K.redeemed_at).toLocaleDateString(),K.redeemed_by&&` ${i("recipient.at")} ${K.redeemed_by.name}`]})]}),K.status==="active"&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[r.jsxs("button",{onClick:()=>{R(K),M(!0)},style:G(L({},$.primaryButton),{padding:"10px 20px",fontSize:"18px",display:"flex",alignItems:"center",gap:"5px"}),children:["ğŸ–¨ï¸ ",i("recipient.printVoucher")]}),r.jsxs("button",{onClick:()=>{R(K),F(!0)},style:G(L({},$.primaryButton),{backgroundColor:"#2196F3",padding:"10px 20px",fontSize:"18px",display:"flex",alignItems:"center",gap:"5px"}),children:["ğŸ“± ",i("recipient.showQRCode")]}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const ge=yield fetch(`/api/vcse/voucher-pdf/${K.id}`,{credentials:"include"});if(!ge.ok)throw new Error("Failed to download PDF");const xt=yield ge.blob(),We=window.URL.createObjectURL(xt),T=document.createElement("a");T.href=We,T.download=`voucher_${K.code}.pdf`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(We),document.body.removeChild(T)}catch(ge){alert("Failed to download PDF: "+ge.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#FF5722",padding:"10px 20px",fontSize:"18px",display:"flex",alignItems:"center",gap:"5px"}),children:"ğŸ“„ Download PDF"}),r.jsx("button",{onClick:()=>se(null,null,function*(){try{const ge=yield fetch(`/api/recipient/vouchers/${K.id}/resend-sms`,{method:"POST",credentials:"include"}),xt=yield ge.json();if(!ge.ok)throw new Error(xt.error||"Failed to send SMS");alert("âœ… SMS sent successfully!")}catch(ge){alert("Failed to send SMS: "+ge.message)}}),style:G(L({},$.primaryButton),{backgroundColor:"#9C27B0",padding:"10px 20px",fontSize:"18px",display:"flex",alignItems:"center",gap:"5px"}),children:"ğŸ’¬ Resend SMS"})]})]})},K.id))})}),O&&k&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"20px",textAlign:"center",maxWidth:"500px"},children:[r.jsx("h2",{style:{marginBottom:"20px"},children:i("recipient.scanToRedeem")}),r.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50",marginBottom:"20px"},children:["Â£",k.value]}),r.jsx("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px"},children:r.jsx("div",{style:{fontSize:"28px",fontFamily:"monospace",letterSpacing:"3px"},children:k.code})}),r.jsx("div",{style:{marginBottom:"20px",fontSize:"18px",color:"#666"},children:i("recipient.presentCode")}),r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:r.jsx("div",{style:{padding:"20px",backgroundColor:"white",border:"2px solid #4CAF50",borderRadius:"10px"},children:r.jsx(xh,{value:k.code,size:200,level:"H",includeMargin:!0})})}),r.jsx("button",{onClick:()=>{F(!1),R(null)},style:G(L({},$.primaryButton),{backgroundColor:"#666"}),children:i("common.close")})]})}),Y&&k&&r.jsx(m2,{voucher:k,onClose:()=>{M(!1),R(null)}})]}),l==="shops"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸª ",i("dashboard.participatingShops")," (",w.length,")"]}),r.jsxs("div",{style:{marginBottom:"20px",backgroundColor:"white",padding:"15px",borderRadius:"10px"},children:[r.jsx("label",{style:{fontWeight:"bold",marginRight:"10px",color:"#9C27B0"},children:"ğŸ“ Filter by Town:"}),r.jsxs("select",{value:Ve,onChange:K=>{console.log("[TOWN FILTER] Dropdown changed to:",K.target.value),Me(K.target.value),console.log("[TOWN FILTER] setTownFilter called with:",K.target.value)},style:{padding:"10px 15px",fontSize:"20px",borderRadius:"8px",border:"2px solid #9C27B0",backgroundColor:"white",color:"#333",cursor:"pointer",minWidth:"250px"},children:[r.jsx("option",{value:"all",children:"All Towns"}),r.jsxs("optgroup",{label:"North Northamptonshire",children:[r.jsx("option",{value:"Wellingborough",children:"Wellingborough"}),r.jsx("option",{value:"Kettering",children:"Kettering"}),r.jsx("option",{value:"Corby",children:"Corby"})]}),r.jsxs("optgroup",{label:"East Northamptonshire",children:[r.jsx("option",{value:"Rushden",children:"Rushden"}),r.jsx("option",{value:"Higham Ferrers",children:"Higham Ferrers"}),r.jsx("option",{value:"Raunds",children:"Raunds"}),r.jsx("option",{value:"Irthlingborough",children:"Irthlingborough"}),r.jsx("option",{value:"Oundle",children:"Oundle"}),r.jsx("option",{value:"Thrapston",children:"Thrapston"})]}),r.jsxs("optgroup",{label:"West Northamptonshire",children:[r.jsx("option",{value:"Northampton",children:"Northampton"}),r.jsx("option",{value:"Daventry",children:"Daventry"}),r.jsx("option",{value:"Brackley",children:"Brackley"}),r.jsx("option",{value:"Towcester",children:"Towcester"})]})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:w.length===0?r.jsx("p",{children:i("recipient.noShopsAvailable")}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:w.map(K=>r.jsxs("div",{style:{padding:"20px",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fafafa"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#9C27B0"},children:K.shop_name}),K.town&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"17px",color:"#666",fontWeight:"bold"},children:["ğŸ“ ",K.town]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("recipient.address")]})," ",K.address,", ",K.city," ",K.postcode]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:["ğŸ“ ",i("recipient.phone")]})," ",K.phone]}),r.jsxs("p",{style:{margin:"10px 0 0 0",padding:"10px",backgroundColor:"#f3e5f5",borderRadius:"5px",fontWeight:"bold",color:"#9C27B0"},children:["ğŸ ",i("recipient.availableToGo")," ",K.to_go_items_count]})]},K.id))})})]}),l==="togo"&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsxs("h2",{style:{margin:0},children:["ğŸ ",i("dashboard.browseToGo")," (",S.length,")"]}),r.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"Discounted surplus food items from local shops"})]}),r.jsxs("button",{onClick:()=>qe(!we),style:{padding:"10px 20px",backgroundColor:we?"#4CAF50":"#9e9e9e",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},title:we?"Disable notification sounds":"Enable notification sounds",children:[we?"ğŸ””":"ğŸ”•"," ",we?"Sound ON":"Sound OFF"]})]}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",marginBottom:"20px",border:"2px solid #2196F3"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1976d2",fontSize:"22px"},children:'â„¹ï¸ How "Browse Food To Go" Works'}),r.jsxs("p",{style:{margin:"0 0 10px 0",color:"#555",lineHeight:"1.6"},children:[r.jsx("strong",{children:"Browse Food To Go"})," displays ",r.jsx("strong",{children:"discounted surplus food items"})," that participating shops have actively posted, plus ",r.jsx("strong",{style:{color:"#FF9800"},children:"ğŸ†“ FREE items"})," that were originally posted for VCFSE organizations but remain unclaimed after 5 hours."]}),r.jsxs("p",{style:{margin:"0 0 10px 0",color:"#555",lineHeight:"1.6"},children:["While there are ",w.length," participating shops in total, only shops that have posted available items will appear here."]}),r.jsxs("p",{style:{margin:"0",color:"#555",lineHeight:"1.6"},children:["ğŸ’¡ ",r.jsx("strong",{children:"Tip:"})," Check back regularly! Shops post new items throughout the day as surplus becomes available. You can also enable sound notifications above to be alerted when new items are posted."]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:S.length===0?r.jsx("p",{children:i("dashboard.noToGoItems")}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"15px"},children:S.map(K=>{const ge=K.is_unclaimed_free||K.item_type==="free",xt=ge?"#FF9800":"#9C27B0",We=ge?"#fff3e0":"#f3e5f5",T=ge?"#FF9800":"#9C27B0";return r.jsxs("div",{style:{padding:"20px",border:`2px solid ${xt}`,borderRadius:"10px",backgroundColor:We},children:[ge&&r.jsxs("div",{style:{backgroundColor:"#FF9800",color:"white",padding:"8px 12px",borderRadius:"5px",marginBottom:"10px",fontSize:"18px",fontWeight:"bold",textAlign:"center"},children:["ğŸ†“ FREE - Unclaimed VCFSE Item (Posted ",K.hours_since_posted,"h ago)"]}),r.jsx("h3",{style:{margin:"0 0 10px 0",color:T},children:K.item_name}),r.jsx("p",{style:{margin:"8px 0",fontSize:"20px",fontWeight:"bold",color:ge?"#FF9800":"#4CAF50"},children:ge?"ğŸ†“ FREE":`ğŸ’° Â£${K.price?K.price.toFixed(2):"0.00"} per ${K.unit||"unit"}`}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:i("recipient.available")})," ",K.quantity," ",K.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:i("recipient.category")})," ",K.category]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:i("recipient.description")})," ",K.description||i("recipient.freshReady")]}),r.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[r.jsxs("p",{style:{margin:"3px 0",fontSize:"18px",fontWeight:"bold",color:"#1976d2"},children:["ğŸª ",K.shop_name]}),r.jsxs("p",{style:{margin:"3px 0",fontSize:"17px"},children:["ğŸ“ ",K.shop_address]}),r.jsxs("p",{style:{margin:"3px 0",fontSize:"17px"},children:["ğŸ“ ",K.shop_phone]})]}),r.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[r.jsx("button",{onClick:()=>Ft(K.id),style:G(L({},$.primaryButton),{backgroundColor:ge?"#FF9800":"#4CAF50",width:"100%",padding:"12px",fontSize:"20px",fontWeight:"bold"}),children:ge?"ğŸ†“ Collect FREE Item":`ğŸ›ï¸ ${i("recipient.addToCart")}`}),r.jsx("p",{style:{fontSize:"16px",color:"#666",fontStyle:"italic",textAlign:"center",margin:0},children:ge?"ğŸ†“ No voucher needed - completely FREE!":`ğŸ’³ ${i("recipient.useVoucher")}`})]})]},K.id)})})})]}),l==="cart"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ›’ ",i("dashboard.shoppingCart")," (",W,")"]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:ee.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[r.jsx("p",{style:{fontSize:"22px",color:"#666"},children:i("dashboard.emptyCart")}),r.jsx("button",{onClick:()=>d("togo"),style:G(L({},$.primaryButton),{marginTop:"20px"}),children:i("dashboard.browseToGo")})]}):r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{marginBottom:"15px"},children:i("cart.itemsInCart")}),r.jsx("div",{style:{display:"grid",gap:"15px"},children:ee.map(K=>r.jsxs("div",{style:{padding:"20px",border:"2px solid #4CAF50",borderRadius:"10px",backgroundColor:"#f1f8f4",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[r.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#2e7d32"},children:K.item.name}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"20px",fontWeight:"bold",color:"#4CAF50"},children:["ğŸ’° Â£",K.item.price.toFixed(2)," per ",K.item.unit]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:i("cart.quantityInCart")})," ",K.quantity]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:i("recipient.category")})," ",K.item.category]}),r.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"white",borderRadius:"5px"},children:[r.jsxs("p",{style:{margin:"3px 0",fontSize:"18px",fontWeight:"bold",color:"#1976d2"},children:["ğŸª ",K.shop.name]}),r.jsxs("p",{style:{margin:"3px 0",fontSize:"17px"},children:["ğŸ“ ",K.shop.address]})]})]}),r.jsx("div",{children:r.jsxs("button",{onClick:()=>kt(K.cart_id),style:G(L({},$.primaryButton),{backgroundColor:"#f44336",padding:"10px 20px"}),children:["ğŸ—‘ï¸ ",i("cart.remove")]})})]},K.cart_id))})]}),r.jsxs("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#e3f2fd",borderRadius:"10px",border:"2px solid #2196F3"},children:[r.jsx("h3",{style:{margin:"0 0 15px 0",color:"#1565c0"},children:i("cart.nextSteps")}),r.jsxs("ol",{style:{margin:0,paddingLeft:"20px"},children:[r.jsx("li",{style:{marginBottom:"10px"},children:i("cart.step1")}),r.jsx("li",{style:{marginBottom:"10px"},children:i("cart.step2")}),r.jsx("li",{style:{marginBottom:"10px"},children:i("cart.step3")}),r.jsx("li",{children:i("cart.step4")})]}),r.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsx("button",{onClick:()=>d("vouchers"),style:G(L({},$.primaryButton),{backgroundColor:"#2196F3"}),children:i("cart.viewVouchers")}),r.jsx("button",{onClick:()=>d("togo"),style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:i("cart.continueShopping")})]})]})]})})]}),l==="discounted"&&r.jsxs("div",{children:[r.jsx("h2",{children:"ğŸ Food To Go at a Discount"}),r.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"10px",marginBottom:"20px",border:"2px solid #2196F3"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1976d2",fontSize:"22px"},children:'â„¹ï¸ How "Food To Go" Works'}),r.jsxs("p",{style:{margin:"0 0 10px 0",color:"#555",lineHeight:"1.6"},children:[r.jsx("strong",{children:"Food To Go"})," displays surplus and discounted food items that participating shops have actively posted. While there are ",w.length," participating shops in total, only shops that have posted available items will appear here."]}),r.jsxs("p",{style:{margin:"0",color:"#555",lineHeight:"1.6"},children:["ğŸ’¡ ",r.jsx("strong",{children:"Tip:"})," Check back regularly as shops post new items throughout the day to reduce food waste and offer you great savings!"]})]}),Ue.length===0?r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",textAlign:"center"},children:[r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:o.preferred_shop_id?"No discounted items available at your selected shop right now. Check back later!":"Please select a shop first to view discounted items."}),!o.preferred_shop_id&&r.jsx("button",{onClick:()=>d("shops"),style:G(L({},$.primaryButton),{backgroundColor:"#4CAF50"}),children:"Browse Shops"})]}):r.jsxs("div",{children:[r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Browse discounted food items from your selected shop. These items are offered at reduced prices!"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Ue.map(K=>r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",border:"2px solid #4CAF50",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:[r.jsx("h3",{style:{margin:0,color:"#333",fontSize:"22px"},children:K.item_name}),r.jsxs("span",{style:{backgroundColor:"#4CAF50",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"16px",fontWeight:"bold"},children:["SAVE Â£",K.savings.toFixed(2)]})]}),K.description&&r.jsx("p",{style:{margin:"10px 0",color:"#666",fontSize:"18px"},children:K.description}),r.jsxs("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #e0e0e0"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",K.price.toFixed(2)]}),r.jsxs("div",{style:{fontSize:"18px",color:"#999",textDecoration:"line-through"},children:["Was Â£",K.original_price.toFixed(2)]})]}),r.jsx("div",{style:{textAlign:"right"},children:r.jsxs("div",{style:{fontSize:"18px",color:"#666"},children:["Qty: ",K.quantity," ",K.unit]})})]}),r.jsxs("div",{style:{fontSize:"16px",color:"#666",marginTop:"10px"},children:["ğŸª ",K.shop_name,r.jsx("br",{}),"ğŸ“ ",K.shop_town]}),K.available_until&&r.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#fff3cd",borderRadius:"5px",fontSize:"16px",color:"#856404"},children:["â° Available until ",new Date(K.available_until).toLocaleDateString()]})]})]},K.id))})]})]}),l==="history"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“œ ",i("dashboard.voucherHistory")]}),r.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"10px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},children:[r.jsx("input",{type:"text",placeholder:i("dashboard.searchByCode"),value:Se,onChange:K=>Q(K.target.value),style:{flex:1,minWidth:"200px",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"}}),r.jsxs("select",{value:Ae,onChange:K=>ce(K.target.value),style:{padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},children:[r.jsx("option",{value:"all",children:i("dashboard.allVouchers")}),r.jsx("option",{value:"active",children:i("dashboard.activeVouchers")}),r.jsx("option",{value:"redeemed",children:i("dashboard.redeemedVouchers")}),r.jsx("option",{value:"expired",children:i("dashboard.expiredVouchers")})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:(()=>{const K=f.filter(ge=>!(Ae!=="all"&&ge.status!==Ae||Se&&!ge.code.toLowerCase().includes(Se.toLowerCase()))).sort((ge,xt)=>new Date(xt.created_at||0)-new Date(ge.created_at||0));return K.length===0?r.jsx("p",{children:i("dashboard.noVouchersFound")}):r.jsx("div",{style:{display:"grid",gap:"15px"},children:K.map(ge=>{var xt;return r.jsxs("div",{style:{padding:"20px",border:`2px solid ${ge.status==="active"?"#4CAF50":ge.status==="redeemed"?"#2196F3":"#757575"}`,borderRadius:"10px",backgroundColor:"#fafafa"},children:[r.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:r.jsxs("div",{children:[r.jsxs("h3",{style:{margin:"0 0 10px 0",color:"#1976d2"},children:["Â£",ge.value.toFixed(2)]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.code"),":"]})," ",ge.code]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.status"),":"]})," ",r.jsx("span",{style:{color:ge.status==="active"?"#2e7d32":ge.status==="redeemed"?"#1976d2":"#757575",fontWeight:"bold",textTransform:"uppercase"},children:ge.status})]})]})}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"18px"},children:[r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.issuedBy"),":"]})," ",((xt=ge.issued_by)==null?void 0:xt.organization)||"N/A"]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.expiry"),":"]})," ",new Date(ge.expiry_date).toLocaleDateString()]}),ge.redeemed_at&&r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.redeemedOn"),":"]})," ",new Date(ge.redeemed_at).toLocaleDateString()]}),ge.redeemed_at&&ge.shop&&r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsxs("strong",{children:[i("recipient.redeemedAt"),":"]})," ",ge.shop.name]})]})]},ge.id)})})})()})]})]}),rt&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"20px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto"},children:[r.jsx("h2",{style:{marginBottom:"10px",color:"#4CAF50"},children:"ğŸª Select Your Preferred Shop"}),r.jsx("p",{style:{marginBottom:"30px",color:"#666"},children:"Please select a shop where you'd like to use your voucher for discounted food items."}),r.jsx("div",{style:{display:"grid",gap:"15px"},children:w.map(K=>r.jsxs("div",{onClick:()=>se(null,null,function*(){try{const ge=yield fetch("/api/recipient/select-shop",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({voucher_code:Ce,shop_id:K.id})}),xt=yield ge.json();if(!ge.ok)throw new Error(xt.error||"Failed to select shop");alert(`âœ… Shop selected successfully! You can now browse discounted items from ${K.shop_name}.`),ye(!1),q()}catch(ge){alert("Failed to select shop: "+ge.message)}}),style:{padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"10px",cursor:"pointer",border:"2px solid transparent",transition:"all 0.3s"},onMouseEnter:ge=>{ge.currentTarget.style.backgroundColor="#e8f5e9",ge.currentTarget.style.borderColor="#4CAF50"},onMouseLeave:ge=>{ge.currentTarget.style.backgroundColor="#f5f5f5",ge.currentTarget.style.borderColor="transparent"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:K.shop_name}),r.jsxs("p",{style:{margin:"5px 0",color:"#666",fontSize:"18px"},children:["ğŸ“ ",K.address,", ",K.town," ",K.postcode]}),K.phone&&r.jsxs("p",{style:{margin:"5px 0",color:"#666",fontSize:"18px"},children:["ğŸ“ ",K.phone]}),K.category&&r.jsxs("p",{style:{margin:"5px 0",color:"#4CAF50",fontSize:"18px",fontWeight:"bold"},children:["ğŸ·ï¸ ",K.category]})]},K.id))})]})}),Zt&&bt&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[r.jsx("div",{style:{fontSize:"60px",marginBottom:"10px"},children:"ğŸ’³"}),r.jsx("h2",{style:{margin:0,fontSize:"24px",color:"#333"},children:"Redemption Request"})]}),r.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#666"},children:"Shop:"}),r.jsx("div",{style:{fontSize:"18px",color:"#333",marginTop:"5px"},children:bt.shop_name}),r.jsx("div",{style:{fontSize:"14px",color:"#999"},children:bt.shop_address})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#666"},children:"Voucher Code:"}),r.jsx("div",{style:{fontSize:"18px",color:"#333",marginTop:"5px",fontFamily:"monospace"},children:bt.voucher_code})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#666"},children:"Amount to Redeem:"}),r.jsxs("div",{style:{fontSize:"32px",color:"#FF5722",marginTop:"5px",fontWeight:"bold"},children:["Â£",bt.amount.toFixed(2)]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#666"},children:"Current Balance:"}),r.jsxs("div",{style:{fontSize:"18px",color:"#333",marginTop:"5px"},children:["Â£",bt.current_voucher_balance.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("strong",{style:{color:"#666"},children:"Remaining After:"}),r.jsxs("div",{style:{fontSize:"18px",color:"#4CAF50",marginTop:"5px",fontWeight:"bold"},children:["Â£",bt.remaining_after.toFixed(2)]})]})]}),r.jsxs("div",{style:{backgroundColor:"#FFF3E0",padding:"15px",borderRadius:"10px",marginBottom:"20px",border:"2px solid #FFB74D"},children:[r.jsxs("div",{style:{fontSize:"14px",color:"#E65100"},children:["âš ï¸ ",r.jsx("strong",{children:"Time Remaining:"})," ",Math.floor(bt.time_remaining_seconds/60)," minutes ",bt.time_remaining_seconds%60," seconds"]}),r.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"This request will expire automatically if not responded to."})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[r.jsx("button",{onClick:()=>Te(bt.id,"approve"),style:{flex:1,padding:"15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"10px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 8px rgba(76,175,80,0.3)"},children:"âœ… Approve"}),r.jsx("button",{onClick:()=>{const K=prompt("Reason for rejection (optional):");Te(bt.id,"reject",K||"")},style:{flex:1,padding:"15px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"10px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 8px rgba(244,67,54,0.3)"},children:"âŒ Reject"})]}),r.jsx("button",{onClick:()=>{ze(!1),Et(null)},style:{width:"100%",padding:"12px",backgroundColor:"#f5f5f5",color:"#666",border:"none",borderRadius:"10px",fontSize:"14px",cursor:"pointer"},children:"Close (Decide Later)"}),zt.length>1&&r.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"14px",color:"#999"},children:[zt.length-1," more request(s) pending"]})]})})]})}function Aw({user:o,onLogout:e}){const{t:i,i18n:s}=Nt(),[l,d]=D.useState("overview"),[f,x]=D.useState(0),[g,y]=D.useState([]),[w,C]=D.useState(""),[S,j]=D.useState([]),[k,R]=D.useState(0),[O,F]=D.useState(0),[Y,M]=D.useState([]),[ee,U]=D.useState({total_credits:0,total_debits:0,voucher_stats:{total_issued:0,total_value:0,active_value:0,redeemed_value:0}}),[W,I]=D.useState(""),[Z,J]=D.useState(""),[le,fe]=D.useState(""),[oe,ve]=D.useState(""),[Se,Q]=D.useState(""),[Ae,ce]=D.useState(""),[Ve,Me]=D.useState(""),[rt,ye]=D.useState(""),[Ce,Oe]=D.useState(""),[Ue,Je]=D.useState(""),[we,qe]=D.useState(!1),[Xe,_t]=D.useState(!1),[zt,ft]=D.useState("none"),[Zt,ze]=D.useState(""),[bt,Et]=D.useState("all"),[Qt,ct]=D.useState("");D.useEffect(()=>{Ye(),Ie(),si(),V(),Te()},[]);const Ye=()=>se(null,null,function*(){try{const q=yield be("/school/balance");x(q.allocated_balance||0),C(q.organization_name||"")}catch(q){console.error("Failed to load balance:",q)}}),Ie=()=>se(null,null,function*(){try{const q=yield be("/school/vouchers");y(q.vouchers||[])}catch(q){console.error("Failed to load vouchers:",q)}}),si=()=>se(null,null,function*(){try{const q=yield be("/school/to-go-items");j(q.items||[])}catch(q){console.error("Failed to load Food to Go Items:",q);try{const et=yield be("/admin/to-go-items");j(et.items||[])}catch(et){console.error("Fallback also failed:",et)}}}),V=()=>se(null,null,function*(){try{const q=yield be("/school/wallet/balance");R(q.current_balance||0),F(q.allocated_balance||0),U(q)}catch(q){console.error("Failed to load wallet balance:",q)}}),Te=()=>se(null,null,function*(){try{const q=yield be("/school/wallet/transactions?limit=50");M(q.transactions||[])}catch(q){console.error("Failed to load transactions:",q)}}),Ht=q=>se(null,null,function*(){q.preventDefault(),Je("");try{const et=yield be("/school/issue-voucher",{method:"POST",body:JSON.stringify({recipient_email:oe,recipient_first_name:Se,recipient_last_name:Ae,recipient_phone:Ve,recipient_address:rt,amount:parseFloat(Ce),assign_shop_method:zt||"none",specific_shop_id:zt==="specific_shop"?parseInt(Zt):null})});et.num_vouchers&&et.num_vouchers>1?Je(`âœ… ${et.num_vouchers} ${i("messages.vouchersIssuedSuccess")} ${i("messages.totalValue","Total")}: Â£${et.total_amount.toFixed(2)} (split into vouchers of Â£50 or less)`):et.voucher_codes&&et.voucher_codes.length>0?Je(`âœ… Voucher issued successfully! Code: ${et.voucher_codes[0]}`):et.voucher_code?Je(`âœ… Voucher issued successfully! Code: ${et.voucher_code}`):Je("âœ… Voucher(s) issued successfully!"),ve(""),Q(""),ce(""),Me(""),ye(""),Oe(""),Ye(),Ie()}catch(et){Je(`âŒ Error: ${et.message}`)}});return r.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[r.jsx("div",{style:{backgroundColor:"#9C27B0",color:"white",padding:"20px"},children:r.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[r.jsx("button",{onClick:()=>_t(!Xe),style:{background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"5px"},children:"â˜°"}),r.jsxs("div",{children:[r.jsx("h1",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:"School/Care Organization Portal"}),r.jsxs("p",{style:{margin:0,opacity:.9},children:["Welcome, ",w||o.name]})]})]}),r.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:r.jsx(Jo,{apiCall:be,userType:"school"})})]})}),Xe&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:999},onClick:()=>_t(!1),children:r.jsxs("div",{style:{position:"absolute",top:"80px",left:"20px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",minWidth:"250px",zIndex:1e3},onClick:q=>q.stopPropagation(),children:[r.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #eee"},children:[r.jsx("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"ğŸŒ Change Language"}),r.jsxs("select",{value:s.language,onChange:q=>se(null,null,function*(){yield s.changeLanguage(q.target.value),window.location.reload()}),style:{width:"100%",padding:"8px 12px",borderRadius:"5px",border:"1px solid #ddd",backgroundColor:"white",color:"#333",cursor:"pointer",fontSize:"16px"},children:[r.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),r.jsx("option",{value:"ar",children:"ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}),r.jsx("option",{value:"ro",children:"ğŸ‡·ğŸ‡´ RomÃ¢nÄƒ"}),r.jsx("option",{value:"pl",children:"ğŸ‡µğŸ‡± Polski"})]})]}),r.jsx("div",{style:{padding:"10px",borderTop:"1px solid #eee",fontSize:"0.85em",color:"#666",textAlign:"center"},children:"BAK UP E-Voucher System v1.2.5"}),r.jsx("button",{onClick:()=>{_t(!1),qe(!0)},style:{width:"100%",padding:"12px 15px",border:"none",borderTop:"1px solid #eee",backgroundColor:"white",color:"#333",cursor:"pointer",textAlign:"left",fontSize:"16px",display:"flex",alignItems:"center",gap:"10px"},children:"ğŸ”’ Change Password"}),r.jsx("button",{onClick:()=>{_t(!1),e()},style:{width:"100%",padding:"12px 15px",border:"none",borderTop:"1px solid #eee",backgroundColor:"white",color:"#d32f2f",cursor:"pointer",textAlign:"left",fontSize:"16px",display:"flex",alignItems:"center",gap:"10px",borderRadius:"0 0 8px 8px"},children:"ğŸšª Sign Out"})]})}),we&&r.jsx(es,{onClose:()=>qe(!1)}),r.jsxs("div",{style:{maxWidth:"1200px",margin:"30px auto",padding:"0 20px"},children:[r.jsx(Ia,{tabs:[{label:"Overview",value:"overview",icon:"ğŸ“Š"},{label:"Issue Vouchers",value:"issue",icon:"ğŸ«"},{label:i("dashboard.voucherHistory"),value:"vouchers",icon:"ğŸ“œ"},{label:i("tabs.foodToGo"),value:"togo",icon:"ğŸ›’"},{label:"Wallet Management",value:"wallet",icon:"ğŸ’°"},{label:i("tabs.voucherOrders"),value:"orders",icon:"ğŸ“‹"},{label:i("tabs.reports"),value:"reports",icon:"ğŸ“ˆ"}],activeTab:l,onTabChange:d,backgroundColor:"#9C27B0"}),l==="overview"&&r.jsxs("div",{children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsx("h2",{style:{marginTop:0,color:"#9C27B0"},children:"Available Balance"}),r.jsxs("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#9C27B0",marginBottom:"10px"},children:["Â£",f.toFixed(2)]}),r.jsx("p",{style:{color:"#666",fontSize:"18px",marginBottom:0},children:"ğŸ’¡ This balance is allocated by BAK UP administrators to support families in your community"})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[r.jsxs("div",{onClick:()=>d("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#9C27B0"},children:g.length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.totalVouchersIssued")})]}),r.jsxs("div",{onClick:()=>d("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#4CAF50"},children:g.filter(q=>q.status==="active").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.activeVouchers")})]}),r.jsxs("div",{onClick:()=>d("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#FF9800"},children:g.filter(q=>q.status==="redeemed").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:i("dashboard.redeemedVouchers")})]}),r.jsxs("div",{onClick:()=>d("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#F44336"},children:g.filter(q=>q.status==="expired").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:"Expired Vouchers"})]}),r.jsxs("div",{onClick:()=>d("vouchers"),style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#2196F3"},children:g.filter(q=>q.status==="reassigned").length}),r.jsx("div",{style:{color:"#666",marginTop:"5px"},children:"Reissued Vouchers"})]})]}),r.jsxs("div",{style:{backgroundColor:"#E1BEE7",padding:"20px",borderRadius:"10px",marginTop:"20px"},children:[r.jsx("h3",{style:{marginTop:0,color:"#6A1B9A"},children:"ğŸ“ Supporting Families Through Education & Care"}),r.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.6"},children:["Welcome to the ",r.jsx("strong",{children:"Northamptonshire Community E-Voucher Scheme"}),", led by BAK UP CIC. As a school or care organisation, you play a vital role in identifying and supporting families from underrepresented communities."]}),r.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.6"},children:["Use your allocated balance to issue e-vouchers directly to families, giving them ",r.jsx("strong",{children:"dignity and choice"})," in accessing culturally appropriate food and essentials from local participating shops. Every voucher you issue supports both families in need and strengthens our local economy."]}),r.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",fontSize:"1.25em",opacity:.9},children:"ğŸ’¡ Our scheme replaces traditional food parcels with flexible vouchers, respecting dietary preferences and ensuring families can choose what they truly need."})]})]}),l==="issue"&&r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px"},children:[r.jsx("h2",{style:{marginTop:0,color:"#9C27B0"},children:"Issue E-Voucher to Family"}),r.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Available Balance: ",r.jsxs("strong",{children:["Â£",f.toFixed(2)]})]}),Ue&&r.jsx("div",{style:{backgroundColor:Ue.includes("âœ…")?"#e8f5e9":"#ffebee",color:Ue.includes("âœ…")?"#2e7d32":"#c62828",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:Ue}),r.jsxs("form",{onSubmit:Ht,children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"First Name"}),r.jsx("input",{type:"text",value:Se,onChange:q=>Q(q.target.value),style:$.input,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Last Name"}),r.jsx("input",{type:"text",value:Ae,onChange:q=>ce(q.target.value),style:$.input,required:!0})]})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Email Address"}),r.jsx("input",{type:"email",value:oe,onChange:q=>ve(q.target.value),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Phone Number"}),r.jsx("input",{type:"tel",value:Ve,onChange:q=>Me(q.target.value),style:$.input,required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Address"}),r.jsx("input",{type:"text",value:rt,onChange:q=>ye(q.target.value),style:$.input,required:!0,placeholder:"Full address including postcode"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Voucher Amount (Â£)"}),r.jsxs("select",{value:Ce,onChange:q=>Oe(q.target.value),style:$.input,required:!0,children:[r.jsx("option",{value:"",children:"Select amount"}),r.jsx("option",{value:"10",children:"Â£10"}),r.jsx("option",{value:"20",children:"Â£20"}),r.jsx("option",{value:"30",children:"Â£30"}),r.jsx("option",{value:"40",children:"Â£40"}),r.jsx("option",{value:"50",children:"Â£50"}),r.jsx("option",{value:"75",children:"Â£75"}),r.jsx("option",{value:"100",children:"Â£100"}),r.jsx("option",{value:"150",children:"Â£150"}),r.jsx("option",{value:"200",children:"Â£200"}),r.jsx("option",{value:"custom",children:"Custom amount"})]}),Ce==="custom"&&r.jsx("input",{type:"number",step:"0.01",min:"0.01",max:f,placeholder:"Enter custom amount",onChange:q=>Oe(q.target.value),style:G(L({},$.input),{marginTop:"10px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1976d2"},children:"ğŸ Food To Go at a Discount - Shop Assignment"}),r.jsxs("select",{value:zt,onChange:q=>ft(q.target.value),style:$.input,children:[r.jsx("option",{value:"none",children:"No shop assignment (regular voucher)"}),r.jsx("option",{value:"recipient_choice",children:"Recipient to choose shop"}),r.jsx("option",{value:"specific_shop",children:"Assign specific shop"})]}),r.jsx("small",{style:{color:"#666",display:"block",marginTop:"5px",wordWrap:"break-word",whiteSpace:"normal"},children:"Choose how the shop will be assigned for discounted food items"}),zt==="specific_shop"&&r.jsxs("div",{style:{marginTop:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Select Shop"}),r.jsxs("select",{value:Zt,onChange:q=>ze(q.target.value),style:$.input,required:!0,children:[r.jsx("option",{value:"",children:"-- Select a shop --"}),S.length>0&&(()=>{try{const q=S.filter(dt=>dt&&dt.shop_id&&dt.shop_name);return[...new Set(q.map(dt=>JSON.stringify({id:dt.shop_id,name:dt.shop_name,town:dt.shop_town||"N/A"})))].map(dt=>{const tt=JSON.parse(dt);return r.jsxs("option",{value:tt.id,children:[tt.name," - ",tt.town]},tt.id)})}catch(q){return console.error("Error rendering shop options:",q),null}})()]})]})]}),r.jsx("button",{type:"submit",style:G(L({},$.primaryButton),{backgroundColor:"#9C27B0",width:"100%"}),children:"Issue Voucher"})]})]}),l==="vouchers"&&r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"20px",color:"#9C27B0"},children:i("dashboard.voucherHistory")}),g.length===0?r.jsx("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"10px",textAlign:"center"},children:r.jsx("p",{style:{color:"#666"},children:"No vouchers issued yet"})}):r.jsx("div",{style:{display:"grid",gap:"15px"},children:g.map(q=>r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",border:"1px solid #e0e0e0"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#9C27B0",marginBottom:"5px"},children:["Â£",q.value.toFixed(2)]}),r.jsxs("div",{style:{fontSize:"18px",color:"#666"},children:["Code: ",q.code]})]}),r.jsx("div",{style:{padding:"5px 15px",borderRadius:"20px",fontSize:"16px",fontWeight:"bold",backgroundColor:q.status==="active"?"#e8f5e9":q.status==="redeemed"?"#fff3e0":"#ffebee",color:q.status==="active"?"#2e7d32":q.status==="redeemed"?"#e65100":"#c62828"},children:q.status.toUpperCase()})]}),r.jsxs("div",{style:{borderTop:"1px solid #e0e0e0",paddingTop:"15px"},children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsx("strong",{children:"Recipient:"})," ",q.recipient_name]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("common.email"),":"]})," ",q.recipient_email]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("common.phone"),":"]})," ",q.recipient_phone]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px"},children:[r.jsxs("strong",{children:[i("common.address"),":"]})," ",q.recipient_address]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:"#666"},children:[r.jsx("strong",{children:"Issued:"})," ",new Date(q.created_at).toLocaleDateString()]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",color:q.status==="expired"?"#F44336":"#666"},children:[r.jsx("strong",{children:"Expires:"})," ",q.expiry_date?new Date(q.expiry_date).toLocaleDateString():"N/A"]})]})]},q.id))})]}),l==="togo"&&r.jsxs("div",{children:[r.jsx("h2",{style:{marginBottom:"10px",color:"#9C27B0"},children:"ğŸ›ï¸ Available Food to Go Items"}),r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Browse surplus Food to Go Items from local shops and order them for families in your community."}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:S.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsx("p",{children:"No Food to Go Items available at the moment"}),r.jsx("p",{style:{fontSize:"18px"},children:"Check back later for surplus Food to Go Items from local food shops"})]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:S.map(q=>r.jsx(jw,{item:q,onOrderPlaced:si},q.id))})})]}),l==="wallet"&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"10px"},children:"ğŸ’° Current Wallet Balance"}),r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",k.toFixed(2)]}),r.jsx("div",{style:{fontSize:"16px",color:"#999",marginTop:"5px"},children:"Available for voucher issuance"})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"10px"},children:"ğŸ“Š Total Credits"}),r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#2196F3"},children:["Â£",ee.total_credits.toFixed(2)]}),r.jsx("div",{style:{fontSize:"16px",color:"#999",marginTop:"5px"},children:"Funds added to wallet"})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"10px"},children:"ğŸ’¸ Total Debits"}),r.jsxs("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#FF9800"},children:["Â£",ee.total_debits.toFixed(2)]}),r.jsx("div",{style:{fontSize:"16px",color:"#999",marginTop:"5px"},children:"Spent on vouchers"})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#666",marginBottom:"10px"},children:"ğŸ« Vouchers Issued"}),r.jsx("div",{style:{fontSize:"40px",fontWeight:"bold",color:"#9C27B0"},children:ee.voucher_stats.total_issued}),r.jsxs("div",{style:{fontSize:"16px",color:"#999",marginTop:"5px"},children:["Â£",ee.voucher_stats.total_value.toFixed(2)," total value"]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,color:"#9C27B0"},children:"ğŸ”’ Fund Loading"}),r.jsx("div",{style:{padding:"20px",backgroundColor:"#FFF3E0",borderRadius:"8px",border:"2px solid #FF9800"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[r.jsx("div",{style:{fontSize:"52px"},children:"â„¹ï¸"}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"22px",fontWeight:"bold",marginBottom:"5px",color:"#E65100"},children:"Admin-Only Feature"}),r.jsx("div",{style:{fontSize:"18px",color:"#666"},children:"Only system administrators can add funds to organization wallets. Please contact the admin team to request fund allocation."})]})]})}),r.jsxs("div",{style:{padding:"15px",backgroundColor:"#E3F2FD",borderRadius:"5px",fontSize:"18px",marginTop:"20px"},children:["ğŸ’¡ ",r.jsx("strong",{children:"How to request funds:"}),r.jsxs("ul",{style:{marginTop:"10px",marginBottom:"0",paddingLeft:"20px"},children:[r.jsx("li",{children:"Contact your system administrator"}),r.jsx("li",{children:"Provide the amount needed and justification"}),r.jsx("li",{children:"Admin will review and approve fund allocation"}),r.jsx("li",{children:"Funds will be credited to your wallet by admin"}),r.jsx("li",{children:"You can then use your balance to issue vouchers"})]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,color:"#9C27B0"},children:"ğŸ“œ Transaction History"}),Y.length===0?r.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px 0"},children:i("messages.noTransactionsYet")}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Date"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Type"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Description"}),r.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Amount"}),r.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Balance After"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Status"})]})}),r.jsx("tbody",{children:Y.map(q=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsxs("td",{style:{padding:"12px"},children:[new Date(q.created_at).toLocaleDateString("en-GB"),r.jsx("br",{}),r.jsx("span",{style:{fontSize:"16px",color:"#999"},children:new Date(q.created_at).toLocaleTimeString("en-GB")})]}),r.jsx("td",{style:{padding:"12px"},children:r.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",backgroundColor:q.transaction_type==="credit"?"#E8F5E9":q.transaction_type==="debit"?"#FFEBEE":"#E3F2FD",color:q.transaction_type==="credit"?"#4CAF50":q.transaction_type==="debit"?"#F44336":"#2196F3"},children:q.transaction_type.toUpperCase()})}),r.jsxs("td",{style:{padding:"12px"},children:[q.description,q.reference&&r.jsxs("div",{style:{fontSize:"16px",color:"#999"},children:["Ref: ",q.reference]})]}),r.jsxs("td",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",color:q.transaction_type==="credit"?"#4CAF50":"#F44336"},children:[q.transaction_type==="credit"?"+":"-","Â£",q.amount.toFixed(2)]}),r.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:["Â£",q.balance_after.toFixed(2)]}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"16px",backgroundColor:q.status==="completed"?"#E8F5E9":"#FFF3E0",color:q.status==="completed"?"#4CAF50":"#FF9800"},children:q.status})})]},q.id))})]})})]})]}),l==="orders"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“‹ ",i("tabs.voucherOrders")]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[r.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[r.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Filter by Status"}),r.jsxs("select",{value:bt,onChange:q=>Et(q.target.value),style:$.input,children:[r.jsx("option",{value:"all",children:"All Vouchers"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"redeemed",children:"Redeemed"}),r.jsx("option",{value:"expired",children:"Expired"})]})]}),r.jsxs("div",{style:{flex:"2",minWidth:"300px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Search"}),r.jsx("input",{type:"text",value:Qt,onChange:q=>ct(q.target.value),placeholder:"Search by code, recipient name, or email...",style:$.input})]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsxs("strong",{children:["Total Vouchers: ",g.length]}),r.jsx("a",{href:"/api/school/export-vouchers",download:!0,style:G(L({},$.primaryButton),{textDecoration:"none",display:"inline-block",backgroundColor:"#2e7d32"}),children:"ğŸ“„ Export to Excel"})]}),g.length===0?r.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:r.jsx("p",{children:"No vouchers found matching your criteria"})}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Code"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Recipient"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Email"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Phone"}),r.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Value"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Status"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Issued"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Expiry"}),r.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Redeemed"}),r.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Actions"})]})}),r.jsx("tbody",{children:g.map(q=>{var et,dt,tt;return r.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[r.jsx("td",{style:{padding:"12px",fontFamily:"monospace",fontWeight:"bold"},children:q.code}),r.jsx("td",{style:{padding:"12px"},children:((et=q.recipient)==null?void 0:et.name)||"Unknown"}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:((dt=q.recipient)==null?void 0:dt.email)||""}),r.jsx("td",{style:{padding:"12px"},children:((tt=q.recipient)==null?void 0:tt.phone)||""}),r.jsxs("td",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",color:"#4CAF50"},children:["Â£",q.value.toFixed(2)]}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",backgroundColor:q.status==="active"?"#e8f5e9":q.status==="redeemed"?"#e3f2fd":"#ffebee",color:q.status==="active"?"#2e7d32":q.status==="redeemed"?"#1565c0":"#c62828"},children:q.status.toUpperCase()})}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:new Date(q.created_at).toLocaleDateString()}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:new Date(q.expiry_date).toLocaleDateString()}),r.jsx("td",{style:{padding:"12px",fontSize:"18px"},children:q.redeemed_date?new Date(q.redeemed_date).toLocaleDateString():"-"}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:r.jsx("a",{href:`/api/school/voucher-pdf/${q.id}`,target:"_blank",rel:"noopener noreferrer",style:G(L({},$.primaryButton),{fontSize:"16px",padding:"6px 12px",textDecoration:"none",display:"inline-block",backgroundColor:"#1976d2"}),children:"ğŸ“ PDF"})})})]},q.id)})})]})})]})]}),l==="reports"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“ˆ ",i("tabs.reports")," & ",i("dashboard.tabs.analytics","Analytics")]}),r.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Visual insights into your voucher distribution and impact"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,fontSize:"20px",color:"#666"},children:i("dashboard.totalVouchersIssued")}),r.jsx("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#4CAF50"},children:g.length})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,fontSize:"20px",color:"#666"},children:i("vcse.totalValueDistributed")}),r.jsxs("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#2196F3"},children:["Â£",g.reduce((q,et)=>q+et.value,0).toFixed(2)]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,fontSize:"20px",color:"#666"},children:i("dashboard.activeVouchers")}),r.jsx("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#FF9800"},children:g.filter(q=>q.status==="active").length})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0,fontSize:"20px",color:"#666"},children:i("dashboard.redeemedVouchers")}),r.jsx("div",{style:{fontSize:"52px",fontWeight:"bold",color:"#9C27B0"},children:g.filter(q=>q.status==="redeemed").length})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"Voucher Status Breakdown"}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸŸ¢ Active"}),r.jsxs("strong",{children:[g.filter(q=>q.status==="active").length," (",g.length>0?(g.filter(q=>q.status==="active").length/g.length*100).toFixed(0):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#f5f5f5",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#4CAF50",height:"100%",width:`${g.length>0?g.filter(q=>q.status==="active").length/g.length*100:0}%`}})})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸ”µ Redeemed"}),r.jsxs("strong",{children:[g.filter(q=>q.status==="redeemed").length," (",g.length>0?(g.filter(q=>q.status==="redeemed").length/g.length*100).toFixed(0):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#f5f5f5",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#2196F3",height:"100%",width:`${g.length>0?g.filter(q=>q.status==="redeemed").length/g.length*100:0}%`}})})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:"ğŸ”´ Expired"}),r.jsxs("strong",{children:[g.filter(q=>q.status==="expired").length," (",g.length>0?(g.filter(q=>q.status==="expired").length/g.length*100).toFixed(0):0,"%)"]})]}),r.jsx("div",{style:{backgroundColor:"#f5f5f5",height:"20px",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{backgroundColor:"#F44336",height:"100%",width:`${g.length>0?g.filter(q=>q.status==="expired").length/g.length*100:0}%`}})})]})]})]}),r.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[r.jsx("h3",{style:{marginTop:0},children:"Value by Status"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginTop:"20px"},children:[r.jsxs("div",{style:{padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#2e7d32",marginBottom:"5px"},children:"ğŸŸ¢ Active Value"}),r.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#4CAF50"},children:["Â£",g.filter(q=>q.status==="active").reduce((q,et)=>q+et.value,0).toFixed(2)]})]}),r.jsxs("div",{style:{padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#1565c0",marginBottom:"5px"},children:"ğŸ”µ Redeemed Value"}),r.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#2196F3"},children:["Â£",g.filter(q=>q.status==="redeemed").reduce((q,et)=>q+et.value,0).toFixed(2)]})]}),r.jsxs("div",{style:{padding:"15px",backgroundColor:"#ffebee",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"18px",color:"#c62828",marginBottom:"5px"},children:"ğŸ”´ Expired Value"}),r.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#F44336"},children:["Â£",g.filter(q=>q.status==="expired").reduce((q,et)=>q+et.value,0).toFixed(2)]})]})]})]})]}),l==="history"&&r.jsxs("div",{children:[r.jsxs("h2",{children:["ğŸ“œ ",i("shop.redemptionHistory")]}),r.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"10px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},children:[r.jsx("input",{type:"text",placeholder:i("shop.searchByCodeOrRecipient"),value:redemptionHistorySearch,onChange:q=>setRedemptionHistorySearch(q.target.value),style:{flex:1,minWidth:"200px",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"}}),r.jsxs("select",{value:redemptionHistoryFilter,onChange:q=>setRedemptionHistoryFilter(q.target.value),style:{padding:"10px",borderRadius:"5px",border:"1px solid #ddd"},children:[r.jsx("option",{value:"all",children:i("shop.allRedemptions")}),r.jsx("option",{value:"today",children:i("shop.today")}),r.jsx("option",{value:"week",children:i("shop.thisWeek")}),r.jsx("option",{value:"month",children:i("shop.thisMonth")})]})]}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"},children:r.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[r.jsx("p",{style:{fontSize:"22px",marginBottom:"10px"},children:i("shop.redemptionHistoryComingSoon")}),r.jsx("p",{children:i("shop.redemptionHistoryDescription")})]})})]})]})]})}function jw({item:o,onOrderPlaced:e}){const{t:i}=Nt(),[s,l]=D.useState(!1),[d,f]=D.useState({client_name:"",client_mobile:"",client_email:"",quantity:1}),[x,g]=D.useState(""),y=w=>se(null,null,function*(){w.preventDefault();try{yield be("/school/place-order",{method:"POST",body:JSON.stringify({surplus_item_id:o.id,client_name:d.client_name,client_mobile:d.client_mobile,client_email:d.client_email,quantity:d.quantity})}),g("Order placed successfully!"),f({client_name:"",client_mobile:"",client_email:"",quantity:1}),l(!1),setTimeout(()=>g(""),3e3),e&&e()}catch(C){g("Error: "+C.message)}});return r.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"15px",backgroundColor:"#fafafa"},children:[x&&r.jsx("div",{style:{backgroundColor:x.includes("Error")?"#ffebee":"#e8f5e9",color:x.includes("Error")?"#c62828":"#2e7d32",padding:"8px",borderRadius:"5px",marginBottom:"10px",fontSize:"18px"},children:x}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsxs("h3",{style:{margin:"0 0 8px 0",fontSize:"22px"},children:[o.item_name||o.title,o.batch_count>1&&r.jsxs("span",{style:{marginLeft:"10px",fontSize:"16px",backgroundColor:"#4CAF50",color:"white",padding:"2px 8px",borderRadius:"12px"},children:[o.batch_count," batches"]})]}),r.jsxs("div",{style:{fontSize:"18px",color:"#666"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:i("product.shop")})," ",o.shop_name]}),r.jsxs("div",{children:[r.jsx("strong",{children:i("product.category")})," ",o.category]}),r.jsxs("div",{children:[r.jsx("strong",{children:i("product.available")})," ",o.quantity,o.batch_count>1&&` (combined from ${o.batch_count} batches)`]}),o.expiry_date&&r.jsxs("div",{children:[r.jsx("strong",{children:i("product.expiry")})," ",new Date(o.expiry_date).toLocaleDateString()]}),o.description&&r.jsx("div",{style:{marginTop:"8px"},children:o.description})]})]}),s?r.jsxs("form",{onSubmit:y,style:{marginTop:"15px"},children:[r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Client Full Name *"}),r.jsx("input",{type:"text",value:d.client_name,onChange:w=>f(G(L({},d),{client_name:w.target.value})),placeholder:"e.g., John Smith",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Mobile Number *"}),r.jsx("input",{type:"tel",value:d.client_mobile,onChange:w=>f(G(L({},d),{client_mobile:w.target.value})),placeholder:"e.g., 07700900000",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Email Address *"}),r.jsx("input",{type:"email",value:d.client_email,onChange:w=>f(G(L({},d),{client_email:w.target.value})),placeholder:"e.g., client@example.com",style:G(L({},$.input),{fontSize:"18px"}),required:!0})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"18px"},children:"Quantity"}),r.jsx("select",{value:d.quantity,onChange:w=>f(G(L({},d),{quantity:parseInt(w.target.value)})),style:G(L({},$.input),{fontSize:"18px"}),children:[...Array(Math.min(10,Math.max(1,parseInt(o.quantity)||1)))].map((w,C)=>r.jsx("option",{value:C+1,children:C+1},C+1))})]}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{type:"submit",style:G(L({},$.primaryButton),{flex:1,fontSize:"18px",backgroundColor:"#9C27B0"}),children:"âœ… Place Order"}),r.jsx("button",{type:"button",onClick:()=>l(!1),style:G(L({},$.secondaryButton),{flex:1,fontSize:"18px"}),children:"Cancel"})]})]}):r.jsx("button",{onClick:()=>l(!0),style:G(L({},$.primaryButton),{width:"100%",backgroundColor:"#9C27B0"}),children:"ğŸ“ Order for Family"})]})}const $={primaryButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"20px",fontWeight:"bold"},secondaryButton:{backgroundColor:"white",color:"#4CAF50",border:"2px solid white",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"20px",fontWeight:"bold"},input:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"18px",boxSizing:"border-box"},linkButton:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",textDecoration:"underline",fontSize:"18px"},tab:{backgroundColor:"white",border:"1px solid #ddd",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"18px"},activeTab:{backgroundColor:"#4CAF50",color:"white",border:"1px solid #4CAF50",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},sidebarButton:{width:"100%",padding:"15px 20px",border:"none",textAlign:"left",cursor:"pointer",fontSize:"19px",color:"#333",transition:"background-color 0.2s"}},_w=L2("pk_test_51Sc7h13gtZiQWbc7XZP3ooVrjZp0XcaHOWk8aPzXvFLt9qH7aKd7NspGSo3klEzj43qV56Gial5zqFbloWpKGqqw00v1IHlzjt",{locale:"en-GB"}),Ew=()=>r.jsx(cw,{children:r.jsx(Ah,{stripe:_w,options:{locale:"en-GB",appearance:{theme:"stripe"}},children:r.jsx(dw,{})})});fu.createRoot(document.getElementById("root")).render(r.jsx(Fe.StrictMode,{children:r.jsx(Ew,{})}))});export default kw();
